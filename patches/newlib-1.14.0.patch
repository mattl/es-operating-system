diff -bcrN newlib-1.14.0.org/config.sub newlib-1.14.0/config.sub
*** newlib-1.14.0.org/config.sub	2005-12-12 20:24:58.000000000 +0900
--- newlib-1.14.0/config.sub	2006-08-17 09:16:53.000000000 +0900
***************
*** 1194,1200 ****
  	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
  	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
  	      | -chorusos* | -chorusrdb* \
! 	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
  	      | -mingw32* | -linux-gnu* | -linux-uclibc* | -uxpv* | -beos* | -mpeix* | -udk* \
  	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
--- 1194,1200 ----
  	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
  	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
  	      | -chorusos* | -chorusrdb* \
! 	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* | -es* \
  	      | -mingw32* | -linux-gnu* | -linux-uclibc* | -uxpv* | -beos* | -mpeix* | -udk* \
  	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
diff -bcrN newlib-1.14.0.org/configure newlib-1.14.0/configure
*** newlib-1.14.0.org/configure	2005-12-15 03:00:22.000000000 +0900
--- newlib-1.14.0/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 1205,1210 ****
--- 1205,1213 ----
    *-*-rtems*)
      noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
      ;;
+   *-*-es*)
+     noconfigdirs="$noconfigdirs ${libgcj}"
+     ;;
      # The tpf target doesn't support gdb yet.
    *-*-tpf*)
      noconfigdirs="$noconfigdirs target-newlib target-libgloss target-libiberty ${libgcj} target-libmudflap gdb tcl tk libgui itcl"
***************
*** 1821,1827 ****
    # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1825: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1824,1830 ----
    # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1828: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1851,1857 ****
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1855: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1854,1860 ----
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1858: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1902,1908 ****
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1906: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1905,1911 ----
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1909: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1934,1940 ****
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:1938: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
--- 1937,1943 ----
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:1941: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
***************
*** 1945,1956 ****
  
  cat > conftest.$ac_ext << EOF
  
! #line 1949 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:1954: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
--- 1948,1959 ----
  
  cat > conftest.$ac_ext << EOF
  
! #line 1952 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:1957: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
***************
*** 1976,1987 ****
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:1980: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:1985: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1979,1990 ----
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:1983: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:1988: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1990,1996 ****
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1994: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
--- 1993,1999 ----
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1997: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
***************
*** 2009,2015 ****
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:2013: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2012,2018 ----
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:2016: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2076,2082 ****
  # Extract the first word of "${ac_tool_prefix}gnatbind", so it can be a program name with args.
  set dummy ${ac_tool_prefix}gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2080: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2079,2085 ----
  # Extract the first word of "${ac_tool_prefix}gnatbind", so it can be a program name with args.
  set dummy ${ac_tool_prefix}gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2083: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2108,2114 ****
    # Extract the first word of "gnatbind", so it can be a program name with args.
  set dummy gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2112: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2111,2117 ----
    # Extract the first word of "gnatbind", so it can be a program name with args.
  set dummy gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2115: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2141,2147 ****
  fi
  
  echo $ac_n "checking whether compiler driver understands Ada""... $ac_c" 1>&6
! echo "configure:2145: checking whether compiler driver understands Ada" >&5
  if eval "test \"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2144,2150 ----
  fi
  
  echo $ac_n "checking whether compiler driver understands Ada""... $ac_c" 1>&6
! echo "configure:2148: checking whether compiler driver understands Ada" >&5
  if eval "test \"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2173,2179 ****
  fi
  
  echo $ac_n "checking how to compare bootstrapped objects""... $ac_c" 1>&6
! echo "configure:2177: checking how to compare bootstrapped objects" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2176,2182 ----
  fi
  
  echo $ac_n "checking how to compare bootstrapped objects""... $ac_c" 1>&6
! echo "configure:2180: checking how to compare bootstrapped objects" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2271,2279 ****
  CFLAGS="$CFLAGS $gmpinc"
  # Check GMP actually works
  echo $ac_n "checking for correct version of gmp.h""... $ac_c" 1>&6
! echo "configure:2275: checking for correct version of gmp.h" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2277 "configure"
  #include "confdefs.h"
  #include "gmp.h"
  int main() {
--- 2274,2282 ----
  CFLAGS="$CFLAGS $gmpinc"
  # Check GMP actually works
  echo $ac_n "checking for correct version of gmp.h""... $ac_c" 1>&6
! echo "configure:2278: checking for correct version of gmp.h" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2280 "configure"
  #include "confdefs.h"
  #include "gmp.h"
  int main() {
***************
*** 2284,2290 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2288: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
--- 2287,2293 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2291: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
***************
*** 2297,2308 ****
  
  if test x"$have_gmp" = xyes; then
    echo $ac_n "checking for MPFR""... $ac_c" 1>&6
! echo "configure:2301: checking for MPFR" >&5
  
    saved_LIBS="$LIBS"
    LIBS="$LIBS $gmplibs"
    cat > conftest.$ac_ext <<EOF
! #line 2306 "configure"
  #include "confdefs.h"
  #include <gmp.h>
  #include <mpfr.h>
--- 2300,2311 ----
  
  if test x"$have_gmp" = xyes; then
    echo $ac_n "checking for MPFR""... $ac_c" 1>&6
! echo "configure:2304: checking for MPFR" >&5
  
    saved_LIBS="$LIBS"
    LIBS="$LIBS $gmplibs"
    cat > conftest.$ac_ext <<EOF
! #line 2309 "configure"
  #include "confdefs.h"
  #include <gmp.h>
  #include <mpfr.h>
***************
*** 2310,2316 ****
  mpfr_t n; mpfr_init(n);
  ; return 0; }
  EOF
! if { (eval echo configure:2314: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
--- 2313,2319 ----
  mpfr_t n; mpfr_init(n);
  ; return 0; }
  EOF
! if { (eval echo configure:2317: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
***************
*** 3308,3314 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3312: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_YACC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3311,3317 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3315: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_YACC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3348,3354 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3352: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_BISON'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3351,3357 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3355: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_BISON'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3387,3393 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3391: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_M4'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3390,3396 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3394: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_M4'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3426,3432 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3430: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3429,3435 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3433: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3466,3472 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3470: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_FLEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3469,3475 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3473: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_FLEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3505,3511 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3509: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_MAKEINFO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3508,3514 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3512: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_MAKEINFO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3558,3564 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3562: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_EXPECT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3561,3567 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3565: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_EXPECT'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3599,3605 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3603: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RUNTEST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3602,3608 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3606: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RUNTEST'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3647,3653 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3651: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3650,3656 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3654: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3678,3684 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3682: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3681,3687 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3685: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3722,3728 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3726: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3725,3731 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3729: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3753,3759 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3757: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3756,3762 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3760: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3797,3803 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3801: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3800,3806 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3804: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3828,3834 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3832: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3831,3837 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3835: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3872,3878 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3876: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3875,3881 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3879: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3903,3909 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3907: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3906,3912 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3910: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3947,3953 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3951: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3950,3956 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3954: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3978,3984 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3982: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3981,3987 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3985: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4022,4028 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4026: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4025,4031 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4029: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4053,4059 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4057: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4056,4062 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4060: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4097,4103 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4101: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4100,4106 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4104: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4128,4134 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4132: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4131,4137 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4135: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4167,4173 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4171: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4170,4176 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4174: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4198,4204 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4202: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4201,4207 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4205: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4237,4243 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4241: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4240,4246 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4244: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4268,4274 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4272: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4271,4277 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4275: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4312,4318 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4316: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4315,4321 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4319: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4343,4349 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4347: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4346,4352 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4350: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4387,4393 ****
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4391: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4390,4396 ----
      # Extract the first word of "${ncn_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4394: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4418,4424 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4422: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4421,4427 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4425: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4469,4475 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4473: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4472,4478 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4476: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4500,4506 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4504: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4503,4509 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4507: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4544,4550 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4548: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4547,4553 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4551: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4575,4581 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4579: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4578,4584 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4582: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4619,4625 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4623: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4622,4628 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4626: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4650,4656 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4654: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4653,4659 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4657: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4694,4700 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4698: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CXX_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4697,4703 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4701: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CXX_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4725,4731 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4729: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CXX_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4728,4734 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4732: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CXX_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4769,4775 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4773: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4772,4778 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4776: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4800,4806 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4804: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4803,4809 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4807: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4844,4850 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4848: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4847,4853 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4851: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4875,4881 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4879: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4878,4884 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4882: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCC_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4914,4920 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4918: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCJ_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4917,4923 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4921: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCJ_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4945,4951 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4949: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCJ_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4948,4954 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4952: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GCJ_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4989,4995 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4993: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GFORTRAN_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4992,4998 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4996: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GFORTRAN_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5020,5026 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5024: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GFORTRAN_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5023,5029 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5027: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GFORTRAN_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5064,5070 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5068: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5067,5073 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5071: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5095,5101 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5099: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5098,5104 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5102: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5139,5145 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5143: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5142,5148 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5146: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5170,5176 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5174: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5173,5179 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5177: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LIPO_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5214,5220 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5218: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5217,5223 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5221: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5245,5251 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5249: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5248,5254 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5252: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5289,5295 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5293: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5292,5298 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5296: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5320,5326 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5324: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5323,5329 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5327: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5364,5370 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5368: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5367,5373 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5371: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5395,5401 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5399: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5398,5404 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5402: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5434,5440 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5438: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5437,5443 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5441: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5465,5471 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5469: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5468,5474 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5472: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_STRIP_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5509,5515 ****
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5513: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5512,5518 ----
      # Extract the first word of "${ncn_target_tool_prefix}${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5516: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5540,5546 ****
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5544: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 5543,5549 ----
      # Extract the first word of "${ncn_progname}", so it can be a program name with args.
  set dummy ${ncn_progname}; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:5547: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 5583,5589 ****
  RAW_CXX_FOR_TARGET="$CXX_FOR_TARGET"
  
  echo $ac_n "checking where to find the target ar""... $ac_c" 1>&6
! echo "configure:5587: checking where to find the target ar" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5586,5592 ----
  RAW_CXX_FOR_TARGET="$CXX_FOR_TARGET"
  
  echo $ac_n "checking where to find the target ar""... $ac_c" 1>&6
! echo "configure:5590: checking where to find the target ar" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5608,5614 ****
    fi
  fi
  echo $ac_n "checking where to find the target as""... $ac_c" 1>&6
! echo "configure:5612: checking where to find the target as" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5611,5617 ----
    fi
  fi
  echo $ac_n "checking where to find the target as""... $ac_c" 1>&6
! echo "configure:5615: checking where to find the target as" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5633,5639 ****
    fi
  fi
  echo $ac_n "checking where to find the target cc""... $ac_c" 1>&6
! echo "configure:5637: checking where to find the target cc" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5636,5642 ----
    fi
  fi
  echo $ac_n "checking where to find the target cc""... $ac_c" 1>&6
! echo "configure:5640: checking where to find the target cc" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5658,5664 ****
    fi
  fi
  echo $ac_n "checking where to find the target c++""... $ac_c" 1>&6
! echo "configure:5662: checking where to find the target c++" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5661,5667 ----
    fi
  fi
  echo $ac_n "checking where to find the target c++""... $ac_c" 1>&6
! echo "configure:5665: checking where to find the target c++" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5686,5692 ****
    fi
  fi
  echo $ac_n "checking where to find the target c++ for libstdc++""... $ac_c" 1>&6
! echo "configure:5690: checking where to find the target c++ for libstdc++" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5689,5695 ----
    fi
  fi
  echo $ac_n "checking where to find the target c++ for libstdc++""... $ac_c" 1>&6
! echo "configure:5693: checking where to find the target c++ for libstdc++" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5714,5720 ****
    fi
  fi
  echo $ac_n "checking where to find the target dlltool""... $ac_c" 1>&6
! echo "configure:5718: checking where to find the target dlltool" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5717,5723 ----
    fi
  fi
  echo $ac_n "checking where to find the target dlltool""... $ac_c" 1>&6
! echo "configure:5721: checking where to find the target dlltool" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5739,5745 ****
    fi
  fi
  echo $ac_n "checking where to find the target gcc""... $ac_c" 1>&6
! echo "configure:5743: checking where to find the target gcc" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5742,5748 ----
    fi
  fi
  echo $ac_n "checking where to find the target gcc""... $ac_c" 1>&6
! echo "configure:5746: checking where to find the target gcc" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5764,5770 ****
    fi
  fi
  echo $ac_n "checking where to find the target gcj""... $ac_c" 1>&6
! echo "configure:5768: checking where to find the target gcj" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5767,5773 ----
    fi
  fi
  echo $ac_n "checking where to find the target gcj""... $ac_c" 1>&6
! echo "configure:5771: checking where to find the target gcj" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5792,5798 ****
    fi
  fi
  echo $ac_n "checking where to find the target gfortran""... $ac_c" 1>&6
! echo "configure:5796: checking where to find the target gfortran" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5795,5801 ----
    fi
  fi
  echo $ac_n "checking where to find the target gfortran""... $ac_c" 1>&6
! echo "configure:5799: checking where to find the target gfortran" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5820,5826 ****
    fi
  fi
  echo $ac_n "checking where to find the target ld""... $ac_c" 1>&6
! echo "configure:5824: checking where to find the target ld" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5823,5829 ----
    fi
  fi
  echo $ac_n "checking where to find the target ld""... $ac_c" 1>&6
! echo "configure:5827: checking where to find the target ld" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5845,5851 ****
    fi
  fi
  echo $ac_n "checking where to find the target lipo""... $ac_c" 1>&6
! echo "configure:5849: checking where to find the target lipo" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5848,5854 ----
    fi
  fi
  echo $ac_n "checking where to find the target lipo""... $ac_c" 1>&6
! echo "configure:5852: checking where to find the target lipo" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5860,5866 ****
    fi
  fi
  echo $ac_n "checking where to find the target nm""... $ac_c" 1>&6
! echo "configure:5864: checking where to find the target nm" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5863,5869 ----
    fi
  fi
  echo $ac_n "checking where to find the target nm""... $ac_c" 1>&6
! echo "configure:5867: checking where to find the target nm" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5885,5891 ****
    fi
  fi
  echo $ac_n "checking where to find the target objdump""... $ac_c" 1>&6
! echo "configure:5889: checking where to find the target objdump" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5888,5894 ----
    fi
  fi
  echo $ac_n "checking where to find the target objdump""... $ac_c" 1>&6
! echo "configure:5892: checking where to find the target objdump" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5910,5916 ****
    fi
  fi
  echo $ac_n "checking where to find the target ranlib""... $ac_c" 1>&6
! echo "configure:5914: checking where to find the target ranlib" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5913,5919 ----
    fi
  fi
  echo $ac_n "checking where to find the target ranlib""... $ac_c" 1>&6
! echo "configure:5917: checking where to find the target ranlib" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5935,5941 ****
    fi
  fi
  echo $ac_n "checking where to find the target strip""... $ac_c" 1>&6
! echo "configure:5939: checking where to find the target strip" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5938,5944 ----
    fi
  fi
  echo $ac_n "checking where to find the target strip""... $ac_c" 1>&6
! echo "configure:5942: checking where to find the target strip" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 5960,5966 ****
    fi
  fi
  echo $ac_n "checking where to find the target windres""... $ac_c" 1>&6
! echo "configure:5964: checking where to find the target windres" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
--- 5963,5969 ----
    fi
  fi
  echo $ac_n "checking where to find the target windres""... $ac_c" 1>&6
! echo "configure:5967: checking where to find the target windres" >&5
  if test "x${build}" != "x${host}" ; then
    # Canadian cross, just use what we found
    echo "$ac_t""pre-installed" 1>&6
***************
*** 6013,6019 ****
  
  
  echo $ac_n "checking whether to enable maintainer-specific portions of Makefiles""... $ac_c" 1>&6
! echo "configure:6017: checking whether to enable maintainer-specific portions of Makefiles" >&5
  # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.
  if test "${enable_maintainer_mode+set}" = set; then
    enableval="$enable_maintainer_mode"
--- 6016,6022 ----
  
  
  echo $ac_n "checking whether to enable maintainer-specific portions of Makefiles""... $ac_c" 1>&6
! echo "configure:6020: checking whether to enable maintainer-specific portions of Makefiles" >&5
  # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.
  if test "${enable_maintainer_mode+set}" = set; then
    enableval="$enable_maintainer_mode"
***************
*** 6060,6066 ****
  # gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not
  # possible, however, we can resort to mv.
  echo $ac_n "checking if symbolic links between directories work""... $ac_c" 1>&6
! echo "configure:6064: checking if symbolic links between directories work" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 6063,6069 ----
  # gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not
  # possible, however, we can resort to mv.
  echo $ac_n "checking if symbolic links between directories work""... $ac_c" 1>&6
! echo "configure:6067: checking if symbolic links between directories work" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 6174,6188 ****
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! cat > conftest.defs <<\EOF
! s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
! s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
! s%\[%\\&%g
! s%\]%\\&%g
! s%\$%$$%g
! EOF
! DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
! rm -f conftest.defs
  
  
  # Without the "./", some shells look in PATH for config.status.
--- 6177,6210 ----
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! #
! # If the first sed substitution is executed (which looks for macros that
! # take arguments), then we branch to the quote section.  Otherwise,
! # look for a macro that doesn't take arguments.
! cat >confdef2opt.sed <<\_ACEOF
! t clear
! : clear
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! d
! : quote
! s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
! s,\[,\\&,g
! s,\],\\&,g
! s,\$,$$,g
! p
! _ACEOF
! # We use echo to avoid assuming a particular line-breaking character.
! # The extra dot is to prevent the shell from consuming trailing
! # line-breaks from the sub-command output.  A line-break within
! # single-quotes doesn't work because, if this script is created in a
! # platform that uses two characters for line-breaks (e.g., DOS), tr
! # would break.
! ac_LF_and_DOT=`echo; echo .`
! DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
! rm -f confdef2opt.sed
  
  
  # Without the "./", some shells look in PATH for config.status.
diff -bcrN newlib-1.14.0.org/configure.in newlib-1.14.0/configure.in
*** newlib-1.14.0.org/configure.in	2005-12-15 03:00:22.000000000 +0900
--- newlib-1.14.0/configure.in	2006-08-17 09:16:53.000000000 +0900
***************
*** 413,418 ****
--- 413,421 ----
    *-*-rtems*)
      noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
      ;;
+   *-*-es*)
+     noconfigdirs="$noconfigdirs ${libgcj}"
+     ;;
      # The tpf target doesn't support gdb yet.
    *-*-tpf*)
      noconfigdirs="$noconfigdirs target-newlib target-libgloss target-libiberty ${libgcj} target-libmudflap gdb tcl tk libgui itcl"
diff -bcrN newlib-1.14.0.org/libgloss/configure newlib-1.14.0/libgloss/configure
*** newlib-1.14.0.org/libgloss/configure	2005-12-12 20:25:07.000000000 +0900
--- newlib-1.14.0/libgloss/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 720,725 ****
--- 720,728 ----
    i[3456]86-*-elf*|i[3456]86-*-coff*)
  	configdirs="${configdirs} i386 testsuite";
  	;;
+   i[3456]86-*-es*)
+ 	configdirs="${configdirs} i386-es testsuite";
+ 	;;
    m32r-*-*)
  	configdirs="${configdirs} m32r testsuite"
  	;;
***************
*** 834,840 ****
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:838: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 837,843 ----
  # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:841: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 864,870 ****
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:868: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 867,873 ----
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:871: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 913,919 ****
  fi
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:917: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 916,922 ----
  fi
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:920: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 922,928 ****
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:926: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
--- 925,931 ----
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:929: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
***************
*** 937,943 ****
    ac_save_CFLAGS="$CFLAGS"
    CFLAGS=
    echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:941: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 940,946 ----
    ac_save_CFLAGS="$CFLAGS"
    CFLAGS=
    echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:944: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 969,975 ****
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:973: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 972,978 ----
  # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:976: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1003,1009 ****
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1007: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1006,1012 ----
  # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1010: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1104,1118 ****
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! cat > conftest.defs <<\EOF
! s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
! s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
! s%\[%\\&%g
! s%\]%\\&%g
! s%\$%$$%g
! EOF
! DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
! rm -f conftest.defs
  
  
  # Without the "./", some shells look in PATH for config.status.
--- 1107,1140 ----
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! #
! # If the first sed substitution is executed (which looks for macros that
! # take arguments), then we branch to the quote section.  Otherwise,
! # look for a macro that doesn't take arguments.
! cat >confdef2opt.sed <<\_ACEOF
! t clear
! : clear
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! d
! : quote
! s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
! s,\[,\\&,g
! s,\],\\&,g
! s,\$,$$,g
! p
! _ACEOF
! # We use echo to avoid assuming a particular line-breaking character.
! # The extra dot is to prevent the shell from consuming trailing
! # line-breaks from the sub-command output.  A line-break within
! # single-quotes doesn't work because, if this script is created in a
! # platform that uses two characters for line-breaks (e.g., DOS), tr
! # would break.
! ac_LF_and_DOT=`echo; echo .`
! DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
! rm -f confdef2opt.sed
  
  
  # Without the "./", some shells look in PATH for config.status.
diff -bcrN newlib-1.14.0.org/libgloss/configure.in newlib-1.14.0/libgloss/configure.in
*** newlib-1.14.0.org/libgloss/configure.in	2005-12-12 20:25:07.000000000 +0900
--- newlib-1.14.0/libgloss/configure.in	2006-08-17 09:16:53.000000000 +0900
***************
*** 31,36 ****
--- 31,39 ----
    i[[3456]]86-*-elf*|i[[3456]]86-*-coff*)
  	configdirs="${configdirs} i386 testsuite";
  	;;
+   i[[3456]]86-*-es*)
+ 	configdirs="${configdirs} i386-es testsuite";
+ 	;;
    m32r-*-*)
  	configdirs="${configdirs} m32r testsuite"
  	;;
diff -bcrN newlib-1.14.0.org/libgloss/i386/configure newlib-1.14.0/libgloss/i386/configure
*** newlib-1.14.0.org/libgloss/i386/configure	2002-10-26 04:18:46.000000000 +0900
--- newlib-1.14.0/libgloss/i386/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 991,1005 ****
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! cat > conftest.defs <<\EOF
! s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
! s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
! s%\[%\\&%g
! s%\]%\\&%g
! s%\$%$$%g
! EOF
! DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
! rm -f conftest.defs
  
  
  # Without the "./", some shells look in PATH for config.status.
--- 991,1024 ----
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! #
! # If the first sed substitution is executed (which looks for macros that
! # take arguments), then we branch to the quote section.  Otherwise,
! # look for a macro that doesn't take arguments.
! cat >confdef2opt.sed <<\_ACEOF
! t clear
! : clear
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! d
! : quote
! s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
! s,\[,\\&,g
! s,\],\\&,g
! s,\$,$$,g
! p
! _ACEOF
! # We use echo to avoid assuming a particular line-breaking character.
! # The extra dot is to prevent the shell from consuming trailing
! # line-breaks from the sub-command output.  A line-break within
! # single-quotes doesn't work because, if this script is created in a
! # platform that uses two characters for line-breaks (e.g., DOS), tr
! # would break.
! ac_LF_and_DOT=`echo; echo .`
! DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
! rm -f confdef2opt.sed
  
  
  # Without the "./", some shells look in PATH for config.status.
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/configure newlib-1.14.0/libgloss/i386-es/configure
*** newlib-1.14.0.org/libgloss/i386-es/configure	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,1237 ----
+ #! /bin/sh
+ 
+ # Guess values for system-dependent variables and create Makefiles.
+ # Generated automatically using autoconf version 2.13 
+ # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
+ #
+ # This configure script is free software; the Free Software Foundation
+ # gives unlimited permission to copy, distribute and modify it.
+ 
+ # Defaults:
+ ac_help=
+ ac_default_prefix=/usr/local
+ # Any additions from configure.in:
+ 
+ # Initialize some variables set by options.
+ # The variables have the same names as the options, with
+ # dashes changed to underlines.
+ build=NONE
+ cache_file=./config.cache
+ exec_prefix=NONE
+ host=NONE
+ no_create=
+ nonopt=NONE
+ no_recursion=
+ prefix=NONE
+ program_prefix=NONE
+ program_suffix=NONE
+ program_transform_name=s,x,x,
+ silent=
+ site=
+ srcdir=
+ target=NONE
+ verbose=
+ x_includes=NONE
+ x_libraries=NONE
+ bindir='${exec_prefix}/bin'
+ sbindir='${exec_prefix}/sbin'
+ libexecdir='${exec_prefix}/libexec'
+ datadir='${prefix}/share'
+ sysconfdir='${prefix}/etc'
+ sharedstatedir='${prefix}/com'
+ localstatedir='${prefix}/var'
+ libdir='${exec_prefix}/lib'
+ includedir='${prefix}/include'
+ oldincludedir='/usr/include'
+ infodir='${prefix}/info'
+ mandir='${prefix}/man'
+ 
+ # Initialize some other variables.
+ subdirs=
+ MFLAGS= MAKEFLAGS=
+ SHELL=${CONFIG_SHELL-/bin/sh}
+ # Maximum number of lines to put in a shell here document.
+ ac_max_here_lines=12
+ 
+ ac_prev=
+ for ac_option
+ do
+ 
+   # If the previous option needs an argument, assign it.
+   if test -n "$ac_prev"; then
+     eval "$ac_prev=\$ac_option"
+     ac_prev=
+     continue
+   fi
+ 
+   case "$ac_option" in
+   -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
+   *) ac_optarg= ;;
+   esac
+ 
+   # Accept the important Cygnus configure options, so we can diagnose typos.
+ 
+   case "$ac_option" in
+ 
+   -bindir | --bindir | --bindi | --bind | --bin | --bi)
+     ac_prev=bindir ;;
+   -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
+     bindir="$ac_optarg" ;;
+ 
+   -build | --build | --buil | --bui | --bu)
+     ac_prev=build ;;
+   -build=* | --build=* | --buil=* | --bui=* | --bu=*)
+     build="$ac_optarg" ;;
+ 
+   -cache-file | --cache-file | --cache-fil | --cache-fi \
+   | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
+     ac_prev=cache_file ;;
+   -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
+   | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
+     cache_file="$ac_optarg" ;;
+ 
+   -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
+     ac_prev=datadir ;;
+   -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
+   | --da=*)
+     datadir="$ac_optarg" ;;
+ 
+   -disable-* | --disable-*)
+     ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
+       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
+     fi
+     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
+     eval "enable_${ac_feature}=no" ;;
+ 
+   -enable-* | --enable-*)
+     ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
+       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
+     fi
+     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
+     case "$ac_option" in
+       *=*) ;;
+       *) ac_optarg=yes ;;
+     esac
+     eval "enable_${ac_feature}='$ac_optarg'" ;;
+ 
+   -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
+   | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
+   | --exec | --exe | --ex)
+     ac_prev=exec_prefix ;;
+   -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
+   | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
+   | --exec=* | --exe=* | --ex=*)
+     exec_prefix="$ac_optarg" ;;
+ 
+   -gas | --gas | --ga | --g)
+     # Obsolete; use --with-gas.
+     with_gas=yes ;;
+ 
+   -help | --help | --hel | --he)
+     # Omit some internal or obsolete options to make the list less imposing.
+     # This message is too long to be a string in the A/UX 3.1 sh.
+     cat << EOF
+ Usage: configure [options] [host]
+ Options: [defaults in brackets after descriptions]
+ Configuration:
+   --cache-file=FILE       cache test results in FILE
+   --help                  print this message
+   --no-create             do not create output files
+   --quiet, --silent       do not print \`checking...' messages
+   --version               print the version of autoconf that created configure
+ Directory and file names:
+   --prefix=PREFIX         install architecture-independent files in PREFIX
+                           [$ac_default_prefix]
+   --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
+                           [same as prefix]
+   --bindir=DIR            user executables in DIR [EPREFIX/bin]
+   --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
+   --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
+   --datadir=DIR           read-only architecture-independent data in DIR
+                           [PREFIX/share]
+   --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
+   --sharedstatedir=DIR    modifiable architecture-independent data in DIR
+                           [PREFIX/com]
+   --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
+   --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
+   --includedir=DIR        C header files in DIR [PREFIX/include]
+   --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
+   --infodir=DIR           info documentation in DIR [PREFIX/info]
+   --mandir=DIR            man documentation in DIR [PREFIX/man]
+   --srcdir=DIR            find the sources in DIR [configure dir or ..]
+   --program-prefix=PREFIX prepend PREFIX to installed program names
+   --program-suffix=SUFFIX append SUFFIX to installed program names
+   --program-transform-name=PROGRAM
+                           run sed PROGRAM on installed program names
+ EOF
+     cat << EOF
+ Host type:
+   --build=BUILD           configure for building on BUILD [BUILD=HOST]
+   --host=HOST             configure for HOST [guessed]
+   --target=TARGET         configure for TARGET [TARGET=HOST]
+ Features and packages:
+   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
+   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
+   --x-includes=DIR        X include files are in DIR
+   --x-libraries=DIR       X library files are in DIR
+ EOF
+     if test -n "$ac_help"; then
+       echo "--enable and --with options recognized:$ac_help"
+     fi
+     exit 0 ;;
+ 
+   -host | --host | --hos | --ho)
+     ac_prev=host ;;
+   -host=* | --host=* | --hos=* | --ho=*)
+     host="$ac_optarg" ;;
+ 
+   -includedir | --includedir | --includedi | --included | --include \
+   | --includ | --inclu | --incl | --inc)
+     ac_prev=includedir ;;
+   -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
+   | --includ=* | --inclu=* | --incl=* | --inc=*)
+     includedir="$ac_optarg" ;;
+ 
+   -infodir | --infodir | --infodi | --infod | --info | --inf)
+     ac_prev=infodir ;;
+   -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
+     infodir="$ac_optarg" ;;
+ 
+   -libdir | --libdir | --libdi | --libd)
+     ac_prev=libdir ;;
+   -libdir=* | --libdir=* | --libdi=* | --libd=*)
+     libdir="$ac_optarg" ;;
+ 
+   -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
+   | --libexe | --libex | --libe)
+     ac_prev=libexecdir ;;
+   -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
+   | --libexe=* | --libex=* | --libe=*)
+     libexecdir="$ac_optarg" ;;
+ 
+   -localstatedir | --localstatedir | --localstatedi | --localstated \
+   | --localstate | --localstat | --localsta | --localst \
+   | --locals | --local | --loca | --loc | --lo)
+     ac_prev=localstatedir ;;
+   -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
+   | --localstate=* | --localstat=* | --localsta=* | --localst=* \
+   | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
+     localstatedir="$ac_optarg" ;;
+ 
+   -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
+     ac_prev=mandir ;;
+   -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
+     mandir="$ac_optarg" ;;
+ 
+   -nfp | --nfp | --nf)
+     # Obsolete; use --without-fp.
+     with_fp=no ;;
+ 
+   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+   | --no-cr | --no-c)
+     no_create=yes ;;
+ 
+   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+   | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
+     no_recursion=yes ;;
+ 
+   -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
+   | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
+   | --oldin | --oldi | --old | --ol | --o)
+     ac_prev=oldincludedir ;;
+   -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
+   | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
+   | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
+     oldincludedir="$ac_optarg" ;;
+ 
+   -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
+     ac_prev=prefix ;;
+   -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
+     prefix="$ac_optarg" ;;
+ 
+   -program-prefix | --program-prefix | --program-prefi | --program-pref \
+   | --program-pre | --program-pr | --program-p)
+     ac_prev=program_prefix ;;
+   -program-prefix=* | --program-prefix=* | --program-prefi=* \
+   | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
+     program_prefix="$ac_optarg" ;;
+ 
+   -program-suffix | --program-suffix | --program-suffi | --program-suff \
+   | --program-suf | --program-su | --program-s)
+     ac_prev=program_suffix ;;
+   -program-suffix=* | --program-suffix=* | --program-suffi=* \
+   | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
+     program_suffix="$ac_optarg" ;;
+ 
+   -program-transform-name | --program-transform-name \
+   | --program-transform-nam | --program-transform-na \
+   | --program-transform-n | --program-transform- \
+   | --program-transform | --program-transfor \
+   | --program-transfo | --program-transf \
+   | --program-trans | --program-tran \
+   | --progr-tra | --program-tr | --program-t)
+     ac_prev=program_transform_name ;;
+   -program-transform-name=* | --program-transform-name=* \
+   | --program-transform-nam=* | --program-transform-na=* \
+   | --program-transform-n=* | --program-transform-=* \
+   | --program-transform=* | --program-transfor=* \
+   | --program-transfo=* | --program-transf=* \
+   | --program-trans=* | --program-tran=* \
+   | --progr-tra=* | --program-tr=* | --program-t=*)
+     program_transform_name="$ac_optarg" ;;
+ 
+   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+   | -silent | --silent | --silen | --sile | --sil)
+     silent=yes ;;
+ 
+   -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
+     ac_prev=sbindir ;;
+   -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
+   | --sbi=* | --sb=*)
+     sbindir="$ac_optarg" ;;
+ 
+   -sharedstatedir | --sharedstatedir | --sharedstatedi \
+   | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
+   | --sharedst | --shareds | --shared | --share | --shar \
+   | --sha | --sh)
+     ac_prev=sharedstatedir ;;
+   -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
+   | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
+   | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
+   | --sha=* | --sh=*)
+     sharedstatedir="$ac_optarg" ;;
+ 
+   -site | --site | --sit)
+     ac_prev=site ;;
+   -site=* | --site=* | --sit=*)
+     site="$ac_optarg" ;;
+ 
+   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
+     ac_prev=srcdir ;;
+   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
+     srcdir="$ac_optarg" ;;
+ 
+   -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
+   | --syscon | --sysco | --sysc | --sys | --sy)
+     ac_prev=sysconfdir ;;
+   -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
+   | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
+     sysconfdir="$ac_optarg" ;;
+ 
+   -target | --target | --targe | --targ | --tar | --ta | --t)
+     ac_prev=target ;;
+   -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
+     target="$ac_optarg" ;;
+ 
+   -v | -verbose | --verbose | --verbos | --verbo | --verb)
+     verbose=yes ;;
+ 
+   -version | --version | --versio | --versi | --vers)
+     echo "configure generated by autoconf version 2.13"
+     exit 0 ;;
+ 
+   -with-* | --with-*)
+     ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
+       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
+     fi
+     ac_package=`echo $ac_package| sed 's/-/_/g'`
+     case "$ac_option" in
+       *=*) ;;
+       *) ac_optarg=yes ;;
+     esac
+     eval "with_${ac_package}='$ac_optarg'" ;;
+ 
+   -without-* | --without-*)
+     ac_package=`echo $ac_option|sed -e 's/-*without-//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
+       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
+     fi
+     ac_package=`echo $ac_package| sed 's/-/_/g'`
+     eval "with_${ac_package}=no" ;;
+ 
+   --x)
+     # Obsolete; use --with-x.
+     with_x=yes ;;
+ 
+   -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
+   | --x-incl | --x-inc | --x-in | --x-i)
+     ac_prev=x_includes ;;
+   -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
+   | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
+     x_includes="$ac_optarg" ;;
+ 
+   -x-libraries | --x-libraries | --x-librarie | --x-librari \
+   | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
+     ac_prev=x_libraries ;;
+   -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
+   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
+     x_libraries="$ac_optarg" ;;
+ 
+   -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
+     ;;
+ 
+   *)
+     if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
+       echo "configure: warning: $ac_option: invalid host type" 1>&2
+     fi
+     if test "x$nonopt" != xNONE; then
+       { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
+     fi
+     nonopt="$ac_option"
+     ;;
+ 
+   esac
+ done
+ 
+ if test -n "$ac_prev"; then
+   { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
+ fi
+ 
+ trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
+ 
+ # File descriptor usage:
+ # 0 standard input
+ # 1 file creation
+ # 2 errors and warnings
+ # 3 some systems may open it to /dev/tty
+ # 4 used on the Kubota Titan
+ # 6 checking for... messages and results
+ # 5 compiler messages saved in config.log
+ if test "$silent" = yes; then
+   exec 6>/dev/null
+ else
+   exec 6>&1
+ fi
+ exec 5>./config.log
+ 
+ echo "\
+ This file contains any messages produced by compilers while
+ running configure, to aid debugging if configure makes a mistake.
+ " 1>&5
+ 
+ # Strip out --no-create and --no-recursion so they do not pile up.
+ # Also quote any args containing shell metacharacters.
+ ac_configure_args=
+ for ac_arg
+ do
+   case "$ac_arg" in
+   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+   | --no-cr | --no-c) ;;
+   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+   | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
+   *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
+   ac_configure_args="$ac_configure_args '$ac_arg'" ;;
+   *) ac_configure_args="$ac_configure_args $ac_arg" ;;
+   esac
+ done
+ 
+ # NLS nuisances.
+ # Only set these to C if already set.  These must not be set unconditionally
+ # because not all systems understand e.g. LANG=C (notably SCO).
+ # Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
+ # Non-C LC_CTYPE values break the ctype check.
+ if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
+ if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
+ if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
+ if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
+ 
+ # confdefs.h avoids OS command line length limits that DEFS can exceed.
+ rm -rf conftest* confdefs.h
+ # AIX cpp loses on an empty file, so make sure it contains at least a newline.
+ echo > confdefs.h
+ 
+ # A filename unique to this package, relative to the directory that
+ # configure is in, which we can look for to find out if srcdir is correct.
+ ac_unique_file=es-salib.c
+ 
+ # Find the source files, if location was not specified.
+ if test -z "$srcdir"; then
+   ac_srcdir_defaulted=yes
+   # Try the directory containing this script, then its parent.
+   ac_prog=$0
+   ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
+   test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
+   srcdir=$ac_confdir
+   if test ! -r $srcdir/$ac_unique_file; then
+     srcdir=..
+   fi
+ else
+   ac_srcdir_defaulted=no
+ fi
+ if test ! -r $srcdir/$ac_unique_file; then
+   if test "$ac_srcdir_defaulted" = yes; then
+     { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
+   else
+     { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
+   fi
+ fi
+ srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`
+ 
+ # Prefer explicitly selected file to automatically selected ones.
+ if test -z "$CONFIG_SITE"; then
+   if test "x$prefix" != xNONE; then
+     CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+   else
+     CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+   fi
+ fi
+ for ac_site_file in $CONFIG_SITE; do
+   if test -r "$ac_site_file"; then
+     echo "loading site script $ac_site_file"
+     . "$ac_site_file"
+   fi
+ done
+ 
+ if test -r "$cache_file"; then
+   echo "loading cache $cache_file"
+   . $cache_file
+ else
+   echo "creating cache $cache_file"
+   > $cache_file
+ fi
+ 
+ ac_ext=c
+ # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
+ ac_cpp='$CPP $CPPFLAGS'
+ ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
+ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
+ cross_compiling=$ac_cv_prog_cc_cross
+ 
+ ac_exeext=
+ ac_objext=o
+ if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
+   # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
+   if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
+     ac_n= ac_c='
+ ' ac_t='	'
+   else
+     ac_n=-n ac_c= ac_t=
+   fi
+ else
+   ac_n= ac_c='\c' ac_t=
+ fi
+ 
+ 
+ 
+ if test "${enable_shared}" = "yes" ; then
+     echo "Shared libraries not supported for cross compiling, ignored"
+ fi
+ 
+ if test "$srcdir" = "." ; then
+   if test "${with_target_subdir}" != "." ; then
+     libgloss_topdir="${srcdir}/${with_multisrctop}../../.."
+   else
+     libgloss_topdir="${srcdir}/${with_multisrctop}../.."
+   fi
+ else
+   libgloss_topdir="${srcdir}/../.."
+ fi
+ ac_aux_dir=
+ for ac_dir in $libgloss_topdir $srcdir/$libgloss_topdir; do
+   if test -f $ac_dir/install-sh; then
+     ac_aux_dir=$ac_dir
+     ac_install_sh="$ac_aux_dir/install-sh -c"
+     break
+   elif test -f $ac_dir/install.sh; then
+     ac_aux_dir=$ac_dir
+     ac_install_sh="$ac_aux_dir/install.sh -c"
+     break
+   fi
+ done
+ if test -z "$ac_aux_dir"; then
+   { echo "configure: error: can not find install-sh or install.sh in $libgloss_topdir $srcdir/$libgloss_topdir" 1>&2; exit 1; }
+ fi
+ ac_config_guess=$ac_aux_dir/config.guess
+ ac_config_sub=$ac_aux_dir/config.sub
+ ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.
+ 
+ 
+ 
+ # Do some error checking and defaulting for the host and target type.
+ # The inputs are:
+ #    configure --host=HOST --target=TARGET --build=BUILD NONOPT
+ #
+ # The rules are:
+ # 1. You are not allowed to specify --host, --target, and nonopt at the
+ #    same time.
+ # 2. Host defaults to nonopt.
+ # 3. If nonopt is not specified, then host defaults to the current host,
+ #    as determined by config.guess.
+ # 4. Target and build default to nonopt.
+ # 5. If nonopt is not specified, then target and build default to host.
+ 
+ # The aliases save the names the user supplied, while $host etc.
+ # will get canonicalized.
+ case $host---$target---$nonopt in
+ NONE---*---* | *---NONE---* | *---*---NONE) ;;
+ *) { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; } ;;
+ esac
+ 
+ 
+ # Make sure we can run config.sub.
+ if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
+ else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
+ fi
+ 
+ echo $ac_n "checking host system type""... $ac_c" 1>&6
+ echo "configure:587: checking host system type" >&5
+ 
+ host_alias=$host
+ case "$host_alias" in
+ NONE)
+   case $nonopt in
+   NONE)
+     if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
+     else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
+     fi ;;
+   *) host_alias=$nonopt ;;
+   esac ;;
+ esac
+ 
+ host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
+ host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+ host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+ host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ echo "$ac_t""$host" 1>&6
+ 
+ echo $ac_n "checking target system type""... $ac_c" 1>&6
+ echo "configure:608: checking target system type" >&5
+ 
+ target_alias=$target
+ case "$target_alias" in
+ NONE)
+   case $nonopt in
+   NONE) target_alias=$host_alias ;;
+   *) target_alias=$nonopt ;;
+   esac ;;
+ esac
+ 
+ target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
+ target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+ target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+ target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ echo "$ac_t""$target" 1>&6
+ 
+ echo $ac_n "checking build system type""... $ac_c" 1>&6
+ echo "configure:626: checking build system type" >&5
+ 
+ build_alias=$build
+ case "$build_alias" in
+ NONE)
+   case $nonopt in
+   NONE) build_alias=$host_alias ;;
+   *) build_alias=$nonopt ;;
+   esac ;;
+ esac
+ 
+ build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
+ build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+ build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+ build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ echo "$ac_t""$build" 1>&6
+ 
+ test "$host_alias" != "$target_alias" &&
+   test "$program_prefix$program_suffix$program_transform_name" = \
+     NONENONEs,x,x, &&
+   program_prefix=${target_alias}-
+ 
+ if test "$program_transform_name" = s,x,x,; then
+   program_transform_name=
+ else
+   # Double any \ or $.  echo might interpret backslashes.
+   cat <<\EOF_SED > conftestsed
+ s,\\,\\\\,g; s,\$,$$,g
+ EOF_SED
+   program_transform_name="`echo $program_transform_name|sed -f conftestsed`"
+   rm -f conftestsed
+ fi
+ test "$program_prefix" != NONE &&
+   program_transform_name="s,^,${program_prefix},; $program_transform_name"
+ # Use a double $ so make ignores it.
+ test "$program_suffix" != NONE &&
+   program_transform_name="s,\$\$,${program_suffix},; $program_transform_name"
+ 
+ # sed with no file args requires a program.
+ test "$program_transform_name" = "" && program_transform_name="s,x,x,"
+ 
+ 
+ # Find a good install program.  We prefer a C program (faster),
+ # so one script is as good as another.  But avoid the broken or
+ # incompatible versions:
+ # SysV /etc/install, /usr/sbin/install
+ # SunOS /usr/etc/install
+ # IRIX /sbin/install
+ # AIX /bin/install
+ # AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+ # AFS /usr/afsws/bin/install, which mishandles nonexistent args
+ # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+ # ./install, which can be erroneously created by make from ./install.sh.
+ echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
+ echo "configure:680: checking for a BSD compatible install" >&5
+ if test -z "$INSTALL"; then
+ if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+     IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
+   for ac_dir in $PATH; do
+     # Account for people who put trailing slashes in PATH elements.
+     case "$ac_dir/" in
+     /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+     *)
+       # OSF1 and SCO ODT 3.0 have their own names for install.
+       # Don't use installbsd from OSF since it installs stuff as root
+       # by default.
+       for ac_prog in ginstall scoinst install; do
+         if test -f $ac_dir/$ac_prog; then
+ 	  if test $ac_prog = install &&
+             grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+ 	    # AIX install.  It has an incompatible calling convention.
+ 	    :
+ 	  else
+ 	    ac_cv_path_install="$ac_dir/$ac_prog -c"
+ 	    break 2
+ 	  fi
+ 	fi
+       done
+       ;;
+     esac
+   done
+   IFS="$ac_save_IFS"
+ 
+ fi
+   if test "${ac_cv_path_install+set}" = set; then
+     INSTALL="$ac_cv_path_install"
+   else
+     # As a last resort, use the slow shell script.  We don't cache a
+     # path for INSTALL within a source directory, because that will
+     # break other packages using the cache if that directory is
+     # removed, or if the path is relative.
+     INSTALL="$ac_install_sh"
+   fi
+ fi
+ echo "$ac_t""$INSTALL" 1>&6
+ 
+ # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
+ # It thinks the first close brace ends the variable substitution.
+ test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
+ 
+ test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'
+ 
+ test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
+ 
+ 
+ # FIXME: We temporarily define our own version of AC_PROG_CC.  This is
+ # copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We
+ # are building a library that must be included in all links, so we 
+ # can't link an executable until this lib is built.
+ # autoconf should provide a way to do this.
+ 
+ 
+ 
+ case "$target" in
+     *coff)
+ 	IS_COFF="-DCOFF"
+ 	;;
+     *aout)
+ 	IS_AOUT="-DAOUT"
+ 	;;
+ esac
+ 
+ # Extract the first word of "gcc", so it can be a program name with args.
+ set dummy gcc; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:753: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$CC"; then
+   ac_cv_prog_CC="$CC" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       ac_cv_prog_CC="gcc"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+ fi
+ fi
+ CC="$ac_cv_prog_CC"
+ if test -n "$CC"; then
+   echo "$ac_t""$CC" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+ if test -z "$CC"; then
+   # Extract the first word of "cc", so it can be a program name with args.
+ set dummy cc; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:783: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$CC"; then
+   ac_cv_prog_CC="$CC" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_prog_rejected=no
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
+         ac_prog_rejected=yes
+ 	continue
+       fi
+       ac_cv_prog_CC="cc"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+ if test $ac_prog_rejected = yes; then
+   # We found a bogon in the path, so make sure we never use it.
+   set dummy $ac_cv_prog_CC
+   shift
+   if test $# -gt 0; then
+     # We chose a different compiler from the bogus one.
+     # However, it has the same basename, so the bogon will be chosen
+     # first if we set CC to just the basename; use the full file name.
+     shift
+     set dummy "$ac_dir/$ac_word" "$@"
+     shift
+     ac_cv_prog_CC="$@"
+   fi
+ fi
+ fi
+ fi
+ CC="$ac_cv_prog_CC"
+ if test -n "$CC"; then
+   echo "$ac_t""$CC" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+   test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
+ fi
+ 
+ echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
+ echo "configure:832: checking whether we are using GNU C" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   cat > conftest.c <<EOF
+ #ifdef __GNUC__
+   yes;
+ #endif
+ EOF
+ if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:841: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
+   ac_cv_prog_gcc=yes
+ else
+   ac_cv_prog_gcc=no
+ fi
+ fi
+ 
+ echo "$ac_t""$ac_cv_prog_gcc" 1>&6
+ 
+ if test $ac_cv_prog_gcc = yes; then
+   GCC=yes
+   ac_test_CFLAGS="${CFLAGS+set}"
+   ac_save_CFLAGS="$CFLAGS"
+   CFLAGS=
+   echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
+ echo "configure:856: checking whether ${CC-cc} accepts -g" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   echo 'void f(){}' > conftest.c
+ if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
+   ac_cv_prog_cc_g=yes
+ else
+   ac_cv_prog_cc_g=no
+ fi
+ rm -f conftest*
+ 
+ fi
+ 
+ echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
+   if test "$ac_test_CFLAGS" = set; then
+     CFLAGS="$ac_save_CFLAGS"
+   elif test $ac_cv_prog_cc_g = yes; then
+     CFLAGS="-g -O2"
+   else
+     CFLAGS="-O2"
+   fi
+ else
+   GCC=
+   test "${CFLAGS+set}" = set || CFLAGS="-g"
+ fi
+ 
+ AS=${AS-as}
+ 
+ AR=${AR-ar}
+ 
+ LD=${LD-ld}
+ 
+ 
+ 
+ 
+ # Extract the first word of "ranlib", so it can be a program name with args.
+ set dummy ranlib; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:895: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$RANLIB"; then
+   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       ac_cv_prog_RANLIB="ranlib"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+   test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
+ fi
+ fi
+ RANLIB="$ac_cv_prog_RANLIB"
+ if test -n "$RANLIB"; then
+   echo "$ac_t""$RANLIB" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+ 
+ host_makefile_frag=${srcdir}/../config/default.mh
+ 
+ host_makefile_frag_path=$host_makefile_frag
+ 
+ 
+ 
+ trap '' 1 2 15
+ cat > confcache <<\EOF
+ # This file is a shell script that caches the results of configure
+ # tests run on this system so they can be shared between configure
+ # scripts and configure runs.  It is not useful on other systems.
+ # If it contains results you don't want to keep, you may remove or edit it.
+ #
+ # By default, configure uses ./config.cache as the cache file,
+ # creating it if it does not exist already.  You can give configure
+ # the --cache-file=FILE option to use a different cache file; that is
+ # what configure does when it calls configure scripts in
+ # subdirectories, so they share the cache.
+ # Giving --cache-file=/dev/null disables caching, for debugging configure.
+ # config.status only pays attention to the cache file if you give it the
+ # --recheck option to rerun configure.
+ #
+ EOF
+ # The following way of writing the cache mishandles newlines in values,
+ # but we know of no workaround that is simple, portable, and efficient.
+ # So, don't put newlines in cache variables' values.
+ # Ultrix sh set writes to stderr and can't be redirected directly,
+ # and sets the high bit in the cache file unless we assign to the vars.
+ (set) 2>&1 |
+   case `(ac_space=' '; set | grep ac_space) 2>&1` in
+   *ac_space=\ *)
+     # `set' does not quote correctly, so add quotes (double-quote substitution
+     # turns \\\\ into \\, and sed turns \\ into \).
+     sed -n \
+       -e "s/'/'\\\\''/g" \
+       -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
+     ;;
+   *)
+     # `set' quotes correctly as required by POSIX, so do not add quotes.
+     sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
+     ;;
+   esac >> confcache
+ if cmp -s $cache_file confcache; then
+   :
+ else
+   if test -w $cache_file; then
+     echo "updating cache $cache_file"
+     cat confcache > $cache_file
+   else
+     echo "not updating unwritable cache $cache_file"
+   fi
+ fi
+ rm -f confcache
+ 
+ trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
+ 
+ test "x$prefix" = xNONE && prefix=$ac_default_prefix
+ # Let make expand exec_prefix.
+ test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
+ 
+ # Any assignment to VPATH causes Sun make to only execute
+ # the first set of double-colon rules, so remove it if not needed.
+ # If there is a colon in the path, we need to keep it.
+ if test "x$srcdir" = x.; then
+   ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
+ fi
+ 
+ trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15
+ 
+ # Transform confdefs.h into DEFS.
+ # Protect against shell expansion while executing Makefile rules.
+ # Protect against Makefile macro expansion.
+ #
+ # If the first sed substitution is executed (which looks for macros that
+ # take arguments), then we branch to the quote section.  Otherwise,
+ # look for a macro that doesn't take arguments.
+ cat >confdef2opt.sed <<\_ACEOF
+ t clear
+ : clear
+ s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
+ t quote
+ s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
+ t quote
+ d
+ : quote
+ s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
+ s,\[,\\&,g
+ s,\],\\&,g
+ s,\$,$$,g
+ p
+ _ACEOF
+ # We use echo to avoid assuming a particular line-breaking character.
+ # The extra dot is to prevent the shell from consuming trailing
+ # line-breaks from the sub-command output.  A line-break within
+ # single-quotes doesn't work because, if this script is created in a
+ # platform that uses two characters for line-breaks (e.g., DOS), tr
+ # would break.
+ ac_LF_and_DOT=`echo; echo .`
+ DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
+ rm -f confdef2opt.sed
+ 
+ 
+ # Without the "./", some shells look in PATH for config.status.
+ : ${CONFIG_STATUS=./config.status}
+ 
+ echo creating $CONFIG_STATUS
+ rm -f $CONFIG_STATUS
+ cat > $CONFIG_STATUS <<EOF
+ #! /bin/sh
+ # Generated automatically by configure.
+ # Run this file to recreate the current configuration.
+ # This directory was configured as follows,
+ # on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
+ #
+ # $0 $ac_configure_args
+ #
+ # Compiler output produced by configure, useful for debugging
+ # configure, is in ./config.log if it exists.
+ 
+ ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
+ for ac_option
+ do
+   case "\$ac_option" in
+   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+     echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
+     exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
+   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
+     echo "$CONFIG_STATUS generated by autoconf version 2.13"
+     exit 0 ;;
+   -help | --help | --hel | --he | --h)
+     echo "\$ac_cs_usage"; exit 0 ;;
+   *) echo "\$ac_cs_usage"; exit 1 ;;
+   esac
+ done
+ 
+ ac_given_srcdir=$srcdir
+ ac_given_INSTALL="$INSTALL"
+ 
+ trap 'rm -fr `echo "Makefile" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
+ EOF
+ cat >> $CONFIG_STATUS <<EOF
+ 
+ # Protect against being on the right side of a sed subst in config.status.
+ sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
+  s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
+ $ac_vpsub
+ $extrasub
+ s%@SHELL@%$SHELL%g
+ s%@CFLAGS@%$CFLAGS%g
+ s%@CPPFLAGS@%$CPPFLAGS%g
+ s%@CXXFLAGS@%$CXXFLAGS%g
+ s%@FFLAGS@%$FFLAGS%g
+ s%@DEFS@%$DEFS%g
+ s%@LDFLAGS@%$LDFLAGS%g
+ s%@LIBS@%$LIBS%g
+ s%@exec_prefix@%$exec_prefix%g
+ s%@prefix@%$prefix%g
+ s%@program_transform_name@%$program_transform_name%g
+ s%@bindir@%$bindir%g
+ s%@sbindir@%$sbindir%g
+ s%@libexecdir@%$libexecdir%g
+ s%@datadir@%$datadir%g
+ s%@sysconfdir@%$sysconfdir%g
+ s%@sharedstatedir@%$sharedstatedir%g
+ s%@localstatedir@%$localstatedir%g
+ s%@libdir@%$libdir%g
+ s%@includedir@%$includedir%g
+ s%@oldincludedir@%$oldincludedir%g
+ s%@infodir@%$infodir%g
+ s%@mandir@%$mandir%g
+ s%@host@%$host%g
+ s%@host_alias@%$host_alias%g
+ s%@host_cpu@%$host_cpu%g
+ s%@host_vendor@%$host_vendor%g
+ s%@host_os@%$host_os%g
+ s%@target@%$target%g
+ s%@target_alias@%$target_alias%g
+ s%@target_cpu@%$target_cpu%g
+ s%@target_vendor@%$target_vendor%g
+ s%@target_os@%$target_os%g
+ s%@build@%$build%g
+ s%@build_alias@%$build_alias%g
+ s%@build_cpu@%$build_cpu%g
+ s%@build_vendor@%$build_vendor%g
+ s%@build_os@%$build_os%g
+ s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g
+ s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g
+ s%@INSTALL_DATA@%$INSTALL_DATA%g
+ s%@CC@%$CC%g
+ s%@AS@%$AS%g
+ s%@AR@%$AR%g
+ s%@LD@%$LD%g
+ s%@IS_COFF@%$IS_COFF%g
+ s%@IS_AOUT@%$IS_AOUT%g
+ s%@NEED_UNDERSCORE@%$NEED_UNDERSCORE%g
+ s%@RANLIB@%$RANLIB%g
+ s%@host_makefile_frag_path@%$host_makefile_frag_path%g
+ /@host_makefile_frag@/r $host_makefile_frag
+ s%@host_makefile_frag@%%g
+ 
+ CEOF
+ EOF
+ 
+ cat >> $CONFIG_STATUS <<\EOF
+ 
+ # Split the substitutions into bite-sized pieces for seds with
+ # small command number limits, like on Digital OSF/1 and HP-UX.
+ ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
+ ac_file=1 # Number of current file.
+ ac_beg=1 # First line for current file.
+ ac_end=$ac_max_sed_cmds # Line after last line for current file.
+ ac_more_lines=:
+ ac_sed_cmds=""
+ while $ac_more_lines; do
+   if test $ac_beg -gt 1; then
+     sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
+   else
+     sed "${ac_end}q" conftest.subs > conftest.s$ac_file
+   fi
+   if test ! -s conftest.s$ac_file; then
+     ac_more_lines=false
+     rm -f conftest.s$ac_file
+   else
+     if test -z "$ac_sed_cmds"; then
+       ac_sed_cmds="sed -f conftest.s$ac_file"
+     else
+       ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
+     fi
+     ac_file=`expr $ac_file + 1`
+     ac_beg=$ac_end
+     ac_end=`expr $ac_end + $ac_max_sed_cmds`
+   fi
+ done
+ if test -z "$ac_sed_cmds"; then
+   ac_sed_cmds=cat
+ fi
+ EOF
+ 
+ cat >> $CONFIG_STATUS <<EOF
+ 
+ CONFIG_FILES=\${CONFIG_FILES-"Makefile"}
+ EOF
+ cat >> $CONFIG_STATUS <<\EOF
+ for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
+   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
+   case "$ac_file" in
+   *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
+        ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
+   *) ac_file_in="${ac_file}.in" ;;
+   esac
+ 
+   # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
+ 
+   # Remove last slash and all that follows it.  Not all systems have dirname.
+   ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
+   if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
+     # The file is in a subdirectory.
+     test ! -d "$ac_dir" && mkdir "$ac_dir"
+     ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
+     # A "../" for each directory in $ac_dir_suffix.
+     ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
+   else
+     ac_dir_suffix= ac_dots=
+   fi
+ 
+   case "$ac_given_srcdir" in
+   .)  srcdir=.
+       if test -z "$ac_dots"; then top_srcdir=.
+       else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
+   /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
+   *) # Relative path.
+     srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
+     top_srcdir="$ac_dots$ac_given_srcdir" ;;
+   esac
+ 
+   case "$ac_given_INSTALL" in
+   [/$]*) INSTALL="$ac_given_INSTALL" ;;
+   *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
+   esac
+ 
+   echo creating "$ac_file"
+   rm -f "$ac_file"
+   configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
+   case "$ac_file" in
+   *Makefile*) ac_comsub="1i\\
+ # $configure_input" ;;
+   *) ac_comsub= ;;
+   esac
+ 
+   ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
+   sed -e "$ac_comsub
+ s%@configure_input@%$configure_input%g
+ s%@srcdir@%$srcdir%g
+ s%@top_srcdir@%$top_srcdir%g
+ s%@INSTALL@%$INSTALL%g
+ " $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
+ fi; done
+ rm -f conftest.s*
+ 
+ EOF
+ cat >> $CONFIG_STATUS <<EOF
+ srcdir=${srcdir}
+ target=${target}
+ ac_configure_args="${ac_configure_args} --enable-multilib"
+ CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+ libgloss_topdir=${libgloss_topdir}
+ 
+ EOF
+ cat >> $CONFIG_STATUS <<\EOF
+ . ${libgloss_topdir}/config-ml.in
+ exit 0
+ EOF
+ chmod +x $CONFIG_STATUS
+ rm -fr confdefs* $ac_clean_files
+ test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
+ 
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/configure.in newlib-1.14.0/libgloss/i386-es/configure.in
*** newlib-1.14.0.org/libgloss/i386-es/configure.in	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/configure.in	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,114 ----
+ # Copyright (c) 1995, 1996 Cygnus Support
+ #
+ # The authors hereby grant permission to use, copy, modify, distribute,
+ # and license this software and its documentation for any purpose, provided
+ # that existing copyright notices are retained in all copies and that this
+ # notice is included verbatim in any distributions. No written agreement,
+ # license, or royalty fee is required for any of the authorized uses.
+ # Modifications to this software may be copyrighted by their authors
+ # and need not follow the licensing terms described here, provided that
+ # the new terms are clearly indicated on the first page of each file where
+ # they apply.
+ #
+ # Process this file with autoconf to produce a configure script.
+ #
+ AC_PREREQ(2.5)dnl
+ AC_INIT(es-salib.c)
+ 
+ if test "${enable_shared}" = "yes" ; then
+     echo "Shared libraries not supported for cross compiling, ignored"
+ fi
+ 
+ if test "$srcdir" = "." ; then
+   if test "${with_target_subdir}" != "." ; then
+     libgloss_topdir="${srcdir}/${with_multisrctop}../../.."
+   else
+     libgloss_topdir="${srcdir}/${with_multisrctop}../.."
+   fi
+ else
+   libgloss_topdir="${srcdir}/../.."
+ fi
+ AC_CONFIG_AUX_DIR($libgloss_topdir)
+ 
+ AC_CANONICAL_SYSTEM
+ AC_ARG_PROGRAM
+ 
+ AC_PROG_INSTALL
+ 
+ # FIXME: We temporarily define our own version of AC_PROG_CC.  This is
+ # copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We
+ # are building a library that must be included in all links, so we 
+ # can't link an executable until this lib is built.
+ # autoconf should provide a way to do this.
+ 
+ AC_DEFUN(LIB_AC_PROG_CC,
+ [AC_BEFORE([$0], [AC_PROG_CPP])dnl
+ AC_CHECK_PROG(CC, gcc, gcc)
+ if test -z "$CC"; then
+   AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)
+   test -z "$CC" && AC_MSG_ERROR([no acceptable cc found in \$PATH])
+ fi
+ 
+ AC_PROG_CC_GNU
+ 
+ if test $ac_cv_prog_gcc = yes; then
+   GCC=yes
+ dnl Check whether -g works, even if CFLAGS is set, in case the package
+ dnl plays around with CFLAGS (such as to build both debugging and
+ dnl normal versions of a library), tasteless as that idea is.
+   ac_test_CFLAGS="${CFLAGS+set}"
+   ac_save_CFLAGS="$CFLAGS"
+   CFLAGS=
+   AC_PROG_CC_G
+   if test "$ac_test_CFLAGS" = set; then
+     CFLAGS="$ac_save_CFLAGS"
+   elif test $ac_cv_prog_cc_g = yes; then
+     CFLAGS="-g -O2"
+   else
+     CFLAGS="-O2"
+   fi
+ else
+   GCC=
+   test "${CFLAGS+set}" = set || CFLAGS="-g"
+ fi
+ ])
+ 
+ case "$target" in
+     *coff)
+ 	IS_COFF="-DCOFF"
+ 	;;
+     *aout)
+ 	IS_AOUT="-DAOUT"
+ 	;;
+ esac
+ 
+ LIB_AC_PROG_CC
+ AS=${AS-as}
+ AC_SUBST(AS)
+ AR=${AR-ar}
+ AC_SUBST(AR)
+ LD=${LD-ld}
+ AC_SUBST(LD)
+ AC_SUBST(IS_COFF)
+ AC_SUBST(IS_AOUT)
+ AC_SUBST(NEED_UNDERSCORE)
+ AC_PROG_RANLIB
+ 
+ host_makefile_frag=${srcdir}/../config/default.mh
+ 
+ dnl We have to assign the same value to other variables because autoconf
+ dnl doesn't provide a mechanism to substitute a replacement keyword with
+ dnl arbitrary data or pathnames.
+ dnl
+ host_makefile_frag_path=$host_makefile_frag
+ AC_SUBST(host_makefile_frag_path)
+ AC_SUBST_FILE(host_makefile_frag)
+ 
+ AC_OUTPUT(Makefile,
+ . ${libgloss_topdir}/config-ml.in,
+ srcdir=${srcdir}
+ target=${target}
+ ac_configure_args="${ac_configure_args} --enable-multilib"
+ CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+ libgloss_topdir=${libgloss_topdir}
+ )
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/es-crt0.S newlib-1.14.0/libgloss/i386-es/es-crt0.S
*** newlib-1.14.0.org/libgloss/i386-es/es-crt0.S	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/es-crt0.S	2006-08-22 16:44:05.000000000 +0900
***************
*** 0 ****
--- 1,51 ----
+ /*
+  * crt0 startup code for user programs running under es
+  *
+  * Copyright (c) 1998, 2000 Cygnus Support
+  *
+  * The authors hereby grant permission to use, copy, modify, distribute,
+  * and license this software and its documentation for any purpose, provided
+  * that existing copyright notices are retained in all copies and that this
+  * notice is included verbatim in any distributions. No written agreement,
+  * license, or royalty fee is required for any of the authorized uses.
+  * Modifications to this software may be copyrighted by their authors
+  * and need not follow the licensing terms described here, provided that
+  * the new terms are clearly indicated on the first page of each file where
+  * they apply.
+  */
+ 
+         .text
+         .align 4
+ 
+         .globl _start
+ _start:
+         /* Clear the frame pointer.  The ABI suggests this be done, to mark
+            the outermost frame obviously.  */
+         xorl %ebp, %ebp
+ 
+         movl    $__bss_start, %edi
+         movl    $_end, %ecx
+         subl    %edi, %ecx
+         xorl    %eax, %eax
+         rep; stosb
+ 
+         pushl   $_fini
+         call    atexit
+         addl    $4,%esp
+ 
+         call    _init
+ 
+         call    main
+         addl    $8,%esp
+ 
+         /* call exit from the C library so atexit gets called, and the
+          * C++ destructors get run. This calls our exit routine below
+          * when it's done.
+          */
+         pushl   %eax
+         call    exit
+         addl    $4,%esp
+ 
+ 3:
+         hlt
+         jmp     3b
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/es.ld newlib-1.14.0/libgloss/i386-es/es.ld
*** newlib-1.14.0.org/libgloss/i386-es/es.ld	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/es.ld	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,99 ----
+ STARTUP(es-crt0.o)
+ ENTRY(__start)
+ GROUP(-les -lc -les -lgcc)
+ SEARCH_DIR(.)
+ __DYNAMIC  =  0;
+ 
+ /*
+  * Allocate the stack to be at the top of memory, since the stack
+  * grows down
+  */
+ PROVIDE (__stack = 0x500000);
+ 
+ /*
+  * Initalize some symbols to be zero so we can reference them in the
+  * crt0 without core dumping. These functions are all optional, but
+  * we do this so we can have our crt0 always use them if they exist. 
+  * This is so BSPs work better when using the crt0 installed with gcc.
+  * We have to initalize them twice, so we multiple object file
+  * formats, as some prepend an underscore.
+  */
+ PROVIDE (hardware_init_hook = 0);
+ PROVIDE (software_init_hook = 0);
+ PROVIDE (__mem_start = 0x100000);
+ PROVIDE (___mem_start = 0x100000);
+ SECTIONS
+ {	
+   . = 0x100000;
+   .text : {
+      _ftext = . ;
+     *(.init)
+      eprol  =  .;
+     *(.text)
+     PROVIDE (__runtime_reloc_start = .);
+     *(.rel.sdata)
+     PROVIDE (__runtime_reloc_stop = .);
+     *(.fini)
+      __CTOR_LIST__ = .;
+     CONSTRUCTORS
+     LONG(-1)
+     *(.ctors)
+     LONG(0)
+     __CTOR_END__ = .;
+     __DTOR_LIST__ = .;
+     LONG(-1)
+     *(.dtors)
+      LONG(0)
+     __DTOR_END__ = .;
+     PROVIDE(_etext  =  .);
+     PROVIDE(__etext  =  .);
+   }
+   . = .;
+   .rdata : {
+     *(.rdata)
+   }
+   .rodata : {
+     *(.rodata)
+   }
+   .eh_frame :
+   {
+     PROVIDE (__EH_FRAME_BEGIN__ = .);
+     *(.eh_frame)
+     PROVIDE (__EH_FRAME_END__ = .);
+   }
+   _fdata = ALIGN(16);
+   .data : {
+     *(.data)
+     *(.gcc_except_table)
+     *(.gcc_exc)
+   }
+   . = ALIGN(8);
+   _gp = . + 0x8000;
+   __global = . + 0x8000;
+   .lit8 : {
+     *(.lit8)
+   }
+   .lit4 : {
+     *(.lit4)
+   }
+   .sdata : {
+     *(.sdata)
+   }
+   . = ALIGN(4);
+    PROVIDE(_edata  =  .);
+    PROVIDE(__edata  =  .);
+    fbss = .;
+    _fbss = .;
+   .sbss : {
+     PROVIDE(__bss_start = .);
+     *(.sbss)
+     *(.scommon)
+   }
+   .bss : {
+     *(.bss)
+     *(COMMON)
+     PROVIDE(__bss_end = .);
+   }
+   PROVIDE(_end = .);
+   PROVIDE(__end = .);
+ }
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/es-salib.c newlib-1.14.0/libgloss/i386-es/es-salib.c
*** newlib-1.14.0.org/libgloss/i386-es/es-salib.c	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/es-salib.c	2007-07-24 13:43:43.000000000 +0900
***************
*** 0 ****
--- 1,203 ----
+ /*
+  * Standard x86 syscalls for user programs running under es
+  *
+  * Copyright (c) 1998, 2000 Cygnus Support
+  *
+  * The authors hereby grant permission to use, copy, modify, distribute,
+  * and license this software and its documentation for any purpose, provided
+  * that existing copyright notices are retained in all copies and that this
+  * notice is included verbatim in any distributions. No written agreement,
+  * license, or royalty fee is required for any of the authorized uses.
+  * Modifications to this software may be copyrighted by their authors
+  * and need not follow the licensing terms described here, provided that
+  * the new terms are clearly indicated on the first page of each file where
+  * they apply.
+  */
+ 
+ #include <errno.h>
+ #include <fcntl.h>
+ #include <stdarg.h>
+ #include <string.h>
+ #include <stdlib.h>
+ #include "es-syscall.h"
+ #include <sys/time.h>
+ #include <sys/lock.h>
+ 
+ static long long _syscall(void* self, void* base, int m, va_list ap)
+ {
+     long long result;
+ 
+     __asm__ __volatile__ (
+         "int    $65"
+         : "=A"(result) : "a"(self), "d"(m), "c"(ap), "S"(base));
+     return result;
+ }
+ 
+ extern int errno;
+ 
+ #pragma weak _fstat
+ #pragma weak _open
+ #pragma weak _sbrk
+ #pragma weak _kill
+ #pragma weak _getpid
+ #pragma weak _write
+ #pragma weak _close
+ #pragma weak _lseek
+ #pragma weak _read
+ #pragma weak _exit
+ #pragma weak isatty
+ #pragma weak profil_write
+ 
+ int _fstat(int file, struct stat *st)
+ {
+     return -1;
+ }
+ 
+ int _open(const char *path, int flags)
+ {
+     return -1;
+ }
+ 
+ caddr_t _sbrk(size_t amt)
+ {
+     long long increment = amt;
+ 
+     return (caddr_t) _syscall(0, 0, SET_BREAK, (va_list) &increment);
+ }
+ 
+ int _kill(int n, int m)
+ {
+     return -1;
+ }
+ 
+ _getpid(int n)
+ {
+     return -1;
+ }
+ 
+ int _write(int file, char *ptr, size_t len)
+ {
+     return -1;
+ }
+ 
+ int _close(int file)
+ {
+     return -1;
+ }
+ 
+ off_t _lseek(int file, off_t ptr, int dir)
+ {
+     return -1;
+ }
+ 
+ int _read(int file, char *ptr, size_t len)
+ {
+     return -1;
+ }
+ 
+ void _exit(int i)
+ {
+     return (caddr_t) _syscall(0, 0, EXIT, (va_list) &i);
+ }
+ 
+ int isatty(int i)
+ {
+     return i < 3;   // Ultra-super cheezy.
+ }
+ 
+ void
+ profil_write(int type, char *buffer, int len)
+ {
+     static int des = -1;
+ 
+     if (des < 0)
+     {
+         des = open("gmon.out", O_WRONLY | O_CREAT | O_TRUNC, 0644);
+     }
+     if (len == 0)
+     {
+         close (des);
+     }
+       else
+     {
+         write(des, buffer, len);
+     }
+ }
+ 
+ #pragma weak esOnce
+ #pragma weak esCreateMonitor
+ #pragma weak esLockMonitor
+ #pragma weak esTryLockMonitor
+ #pragma weak esUnlockMonitor
+ 
+ int
+ esOnce(esOnceControl* control, void (*func)(void))
+ {
+     if (!control->done)
+     {
+         int value = 0;
+ 
+         __asm__ __volatile__ (
+             "xchgl  %0, %1\n"
+             : "=a"(value), "=m"(control->started) : "0"(value), "m"(control->started));
+ 
+         if (value == -1)
+         {
+             if (func)
+             {
+                 func();
+             }
+             control->done = 1;
+         }
+         else
+         {
+             while (!control->done)
+             {
+                 _syscall(0, 0, YIELD, 0);   // XXX should sleep for a while
+             }
+         }
+     }
+     return 0;
+ }
+ 
+ void
+ esCreateMonitor(esMonitor* monitor)
+ {
+     monitor->monitor = (void*) _syscall(0, 0, CREATE_MONITOR, 0);
+ }
+ 
+ void
+ esLockMonitor(esMonitor* monitor)
+ {
+     if (monitor->monitor)
+     {
+         _syscall(monitor->monitor, 0, LOCK, 0);
+     }
+ }
+ 
+ int
+ esTryLockMonitor(esMonitor* monitor)
+ {
+     if (!monitor->monitor)
+     {
+         return 0;
+     }
+ 
+     if ((int) _syscall(monitor->monitor, 0, TRY_LOCK, 0))
+     {
+         return 0;
+     }
+     else
+     {
+         return EBUSY;
+     }
+ }
+ 
+ void
+ esUnlockMonitor(esMonitor* monitor)
+ {
+     if (monitor->monitor)
+     {
+         _syscall(monitor->monitor, 0, UNLOCK, 0);
+     }
+ }
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/es-syscall.h newlib-1.14.0/libgloss/i386-es/es-syscall.h
*** newlib-1.14.0.org/libgloss/i386-es/es-syscall.h	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/es-syscall.h	2007-07-24 13:43:32.000000000 +0900
***************
*** 0 ****
--- 1,37 ----
+ #ifndef ES_SYSCALL_H
+ #define ES_SYSCALL_H
+ 
+ enum
+ {
+     // IInterface method number
+     QUERY_INTERFACE = 0,
+     ADD_REF,
+     RELEASE,
+ 
+     // ICurrentProcess method number
+     EXIT = 3,
+     MAP,
+     UNMAP,
+     CURRENT_THREAD,
+     CREATE_THREAD,
+     YIELD,
+     CREATE_MONITOR,
+     GET_ROOT,
+     GET_IN,
+     GET_OUT,
+     GET_ERROR,
+     SET_BREAK,
+     GET_NOW,
+     SET_STARTUP,
+ 
+     // IMonitor method number
+     LOCK = 3,
+     TRY_LOCK,
+     UNLOCK,
+     WAIT,
+     WAIT_TIMEOUT,
+     NOTIFY,
+     NOTIFY_ALL
+ };
+ 
+ #endif /* SYSCALL_H */
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/es-tsd.c newlib-1.14.0/libgloss/i386-es/es-tsd.c
*** newlib-1.14.0.org/libgloss/i386-es/es-tsd.c	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/es-tsd.c	2007-07-24 13:46:14.000000000 +0900
***************
*** 0 ****
--- 1,133 ----
+ //
+ // Thread Specific Data (TSD) routines
+ //
+ // Note TSD routines are just required to support threads compatibility
+ // routines for libgcc2. User programs should avoid using TSD and should
+ // use Thread Local Storate (TLS) instead.
+ 
+ #include <errno.h>
+ #include <sys/lock.h>
+ 
+ #define KEYS_MAX 64
+ 
+ typedef struct Key
+ {
+     volatile int seq;
+     void (*dtor)(void*);
+ } Key;
+ 
+ typedef struct KeyData
+ {
+     int seq;
+     void* data;
+ } KeyData;
+ 
+ static esOnceControl    once = {0, -1};
+ static esMonitor        monitor;
+ static Key              keys[KEYS_MAX];
+ static unsigned int     hint;
+ static __thread KeyData specific[KEYS_MAX];
+ 
+ static void initMonitor(void)
+ {
+     esCreateMonitor(&monitor);
+ }
+ 
+ static void defaultDtor(void* data)
+ {
+ }
+ 
+ int esCreateThreadKey(unsigned int* key, void (*dtor)(void*))
+ {
+     unsigned int i;
+ 
+     esOnce(&once, initMonitor);
+     if (!dtor)
+     {
+         dtor = defaultDtor;
+     }
+     esLockMonitor(&monitor);
+     for (i = hint; i < KEYS_MAX; ++i)
+     {
+         Key* key = &keys[i];
+         if (!key->dtor)
+         {
+             ++hint;
+             key->dtor = dtor;
+             break;
+         }
+     }
+     esUnlockMonitor(&monitor);
+     if (KEYS_MAX <= i)
+     {
+         *key = -1;
+         return EAGAIN;
+     }
+     *key = i;
+     return 0;
+ }
+ 
+ int esDeleteThreadKey(unsigned int key)
+ {
+     if (KEYS_MAX <= key)
+     {
+         return EINVAL;
+     }
+     esLockMonitor(&monitor);
+     if (keys[key].dtor)
+     {
+         ++keys[key].seq;
+         keys[key].dtor = 0;
+         hint = key;
+     }
+     esUnlockMonitor(&monitor);
+     return 0;
+ }
+ 
+ void* esGetThreadSpecific(unsigned int key)
+ {
+     if (KEYS_MAX <= key)
+     {
+         return 0;
+     }
+     return specific[key].data;
+ }
+ 
+ int esSetThreadSpecific(unsigned int key, const void* ptr)
+ {
+     int seq;
+ 
+     if (KEYS_MAX <= key)
+     {
+         return EINVAL;
+     }
+     do
+     {
+         seq = keys[key].seq;
+         specific[key].data = (void*) ptr;
+         specific[key].seq = seq;
+     } while (seq != keys[key].seq);
+     return 0;
+ }
+ 
+ void esDeallocateSpecific(void)
+ {
+     unsigned int i;
+ 
+     for (i = 0; i < KEYS_MAX; ++i)
+     {
+         KeyData* data = &specific[i];
+         if (data->data)
+         {
+             void* ptr = data->data;
+             Key* key = &keys[i];
+             void (*dtor)(void*) = key->dtor;
+ 
+             data->data = 0;
+             if (dtor && key->seq == data->seq)
+             {
+                 dtor(ptr);
+             }
+         }
+     }
+ }
diff -bcrN newlib-1.14.0.org/libgloss/i386-es/Makefile.in newlib-1.14.0/libgloss/i386-es/Makefile.in
*** newlib-1.14.0.org/libgloss/i386-es/Makefile.in	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/libgloss/i386-es/Makefile.in	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,130 ----
+ # Copyright (c) 1997, 2000 Cygnus Support
+ #
+ # The authors hereby grant permission to use, copy, modify, distribute,
+ # and license this software and its documentation for any purpose, provided
+ # that existing copyright notices are retained in all copies and that this
+ # notice is included verbatim in any distributions. No written agreement,
+ # license, or royalty fee is required for any of the authorized uses.
+ # Modifications to this software may be copyrighted by their authors
+ # and need not follow the licensing terms described here, provided that
+ # the new terms are clearly indicated on the first page of each file where
+ # they apply.
+ 
+ DESTDIR =
+ VPATH = @srcdir@
+ srcdir = @srcdir@
+ objdir = .
+ srcroot = $(srcdir)/../..
+ objroot = $(objdir)/../..
+ 
+ prefix = @prefix@
+ exec_prefix = @exec_prefix@
+ 
+ host_alias = @host_alias@
+ target_alias = @target_alias@
+ program_transform_name = @program_transform_name@
+ 
+ bindir = @bindir@
+ libdir = @libdir@
+ tooldir = $(exec_prefix)/$(target_alias)
+ 
+ # Multilib support variables.
+ # TOP is used instead of MULTI{BUILD,SRC}TOP.
+ MULTIDIRS =
+ MULTISUBDIR =
+ MULTIDO = true
+ MULTICLEAN = true
+ 
+ INSTALL = @INSTALL@
+ INSTALL_PROGRAM = @INSTALL_PROGRAM@
+ INSTALL_DATA = @INSTALL_DATA@
+ 
+ SHELL =	/bin/sh
+ 
+ CC = @CC@
+ 
+ #AS = @AS@
+ AS = `if [ -f ${objroot}/../gas/as.new ] ; \
+ 	then echo ${objroot}/../gas/as.new ; \
+ 	else echo as ; fi`
+ 
+ AR = @AR@
+ 
+ #LD = @LD@
+ LD = `if [ -f ${objroot}/../ld/ld.new ] ; \
+ 	then echo ${objroot}/../ld/ld.new ; \
+ 	else echo ld ; fi`
+ 
+ RANLIB = @RANLIB@
+ 
+ OBJDUMP = `if [ -f ${objroot}/../binutils/objdump ] ; \
+ 	then echo ${objroot}/../binutils/objdump ; \
+ 	else t='$(program_transform_name)'; echo objdump | sed -e $$t ; fi`
+ OBJCOPY = `if [ -f ${objroot}/../binutils/objcopy ] ; \
+ 	then echo ${objroot}/../binutils/objcopy ; \
+ 	else t='$(program_transform_name)'; echo objcopy | sed -e $$t ; fi`
+ 
+ CRT0 = crt0.o
+ CYGMON_OBJS = es-salib.o es-tsd.o
+ 
+ CFLAGS = -g
+ 
+ GCC_LDFLAGS = `if [ -d ${objroot}/../gcc ] ; \
+ 	then echo -L${objroot}/../gcc ; fi`
+ 
+ SCRIPTS = es
+ BSP = libes.a
+ 
+ # Host specific makefile fragment comes in here.
+ @host_makefile_frag@
+ 
+ all: ${CRT0} ${BSP}
+ 
+ #
+ # here's where we build the board support packages for each target
+ #
+ libes.a: $(CYGMON_OBJS)
+ 	${AR} ${ARFLAGS} $@ $(CYGMON_OBJS)
+ 	${RANLIB} $@
+ 
+ es-salib.o: ${srcdir}/es-salib.c
+ 	$(CC) -isystem ${prefix}/include -c $(CFLAGS) @NEED_UNDERSCORE@ @IS_COFF@ @IS_AOUT@ $(<) -o $@
+ 
+ es-tsd.o: ${srcdir}/es-tsd.c
+ 	$(CC) -isystem ${prefix}/include -c $(CFLAGS) @NEED_UNDERSCORE@ @IS_COFF@ @IS_AOUT@ $(<) -o $@
+ 
+ crt0.o: ${srcdir}/es-crt0.S
+ 	$(CC) -c $(CFLAGS) @NEED_UNDERSCORE@ @IS_COFF@ @IS_AOUT@ $(<) -o $@
+ 
+ doc:	
+ 
+ clean mostlyclean:
+ 	rm -f a.out core *.i *~ *.o *-test *.srec *.dis *.map *.x
+ 
+ distclean maintainer-clean realclean: clean
+ 	rm -f Makefile config.status a.out
+ 
+ .PHONY: install info install-info clean-info
+ install:
+ 	$(INSTALL_PROGRAM) $(CRT0) $(DESTDIR)$(tooldir)/lib${MULTISUBDIR}/$(CRT0)
+ 	@for bsp in ${BSP}; do\
+ 	 $(INSTALL_PROGRAM) $${bsp} $(DESTDIR)$(tooldir)/lib${MULTISUBDIR}; \
+ 	done
+ 	@for script in ${SCRIPTS}; do\
+ 	 $(INSTALL_DATA) ${srcdir}/$${script}.ld $(DESTDIR)$(tooldir)/lib${MULTISUBDIR}/$${script}.ld; \
+ 	done
+ 
+ info:
+ install-info:
+ clean-info:
+ 
+ test.o:	${srcdir}/test.c
+ 
+ # these are for the BSPs
+ ${CRT0}: es-crt0.S
+ 
+ Makefile: Makefile.in config.status @host_makefile_frag_path@
+ 	$(SHELL) config.status
+ 
+ config.status: configure
+ 	$(SHELL) config.status --recheck
diff -bcrN newlib-1.14.0.org/libgloss/libnosys/Makefile.in newlib-1.14.0/libgloss/libnosys/Makefile.in
*** newlib-1.14.0.org/libgloss/libnosys/Makefile.in	2005-12-01 08:43:57.000000000 +0900
--- newlib-1.14.0/libgloss/libnosys/Makefile.in	2006-08-17 09:16:53.000000000 +0900
***************
*** 81,87 ****
  NEWLIB_CFLAGS = `if [ -d ${objroot}/newlib ]; then echo -I${objroot}/newlib/targ-include -I${srcroot}/newlib/libc/include; fi`
  NEWLIB_LDFLAGS = `if [ -d ${objroot}/newlib ]; then echo -B${objroot}/newlib/ -L${objroot}/newlib/; fi`
  
! INCLUDES = -I. -I$(srcdir)/..
  # Note that when building the library, ${MULTILIB} is not the way multilib
  # options are passed; they're passed in $(CFLAGS).
  CFLAGS_FOR_TARGET = ${MULTILIB} ${INCLUDES} ${NEWLIB_CFLAGS}
--- 81,87 ----
  NEWLIB_CFLAGS = `if [ -d ${objroot}/newlib ]; then echo -I${objroot}/newlib/targ-include -I${srcroot}/newlib/libc/include; fi`
  NEWLIB_LDFLAGS = `if [ -d ${objroot}/newlib ]; then echo -B${objroot}/newlib/ -L${objroot}/newlib/; fi`
  
! INCLUDES = -I. -I$(srcdir)/.. -I${prefix}/include
  # Note that when building the library, ${MULTILIB} is not the way multilib
  # options are passed; they're passed in $(CFLAGS).
  CFLAGS_FOR_TARGET = ${MULTILIB} ${INCLUDES} ${NEWLIB_CFLAGS}
diff -bcrN newlib-1.14.0.org/newlib/configure newlib-1.14.0/newlib/configure
*** newlib-1.14.0.org/newlib/configure	2005-12-17 05:49:37.000000000 +0900
--- newlib-1.14.0/newlib/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 3104,3110 ****
    
  	 
  	 
! for ac_prog in mawk gawk nawk awk
  do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
--- 3104,3110 ----
    
  	 
  	 
! for ac_prog in gawk mawk nawk awk
  do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
diff -bcrN newlib-1.14.0.org/newlib/configure.host newlib-1.14.0/newlib/configure.host
*** newlib-1.14.0.org/newlib/configure.host	2005-12-12 20:25:07.000000000 +0900
--- newlib-1.14.0/newlib/configure.host	2006-08-17 09:16:53.000000000 +0900
***************
*** 305,310 ****
--- 305,313 ----
  	posix_dir=posix
  	stdio64_dir=stdio64
  	;;
+   *-*-es*)
+ 	sys_dir=es
+ 	;;
    *-*-netware*)
  	signal_dir=
  	sys_dir=netware
***************
*** 476,481 ****
--- 479,488 ----
  	newlib_cflags="${newlib_cflags} -DHAVE_OPENDIR -DHAVE_RENAME -DSIGNAL_PROVIDED -D_COMPILING_NEWLIB -DHAVE_FCNTL -DMALLOC_PROVIDED"
  	syscall_dir=syscalls
  	;;
+   *-*-es*)
+ 	syscall_dir=syscalls
+ 	newlib_cflags="${newlib_cflags} -I${prefix}/include"
+ 	;;
  # RTEMS supplies its own versions of some routines:
  #       malloc()            (reentrant version)
  #       exit()              RTEMS has a "global" reent to flush
diff -bcrN newlib-1.14.0.org/newlib/doc/makedoc.c newlib-1.14.0/newlib/doc/makedoc.c
*** newlib-1.14.0.org/newlib/doc/makedoc.c	2000-02-18 04:39:46.000000000 +0900
--- newlib-1.14.0/newlib/doc/makedoc.c	2006-08-17 09:16:53.000000000 +0900
***************
*** 37,47 ****
  
  #include "ansidecl.h"
  #include <stdio.h>
  #include <ctype.h>
  
- extern PTR malloc();
- extern PTR realloc();
- 
  #define DEF_SIZE 5000
  #define STACK 50
  
--- 37,45 ----
  
  #include "ansidecl.h"
  #include <stdio.h>
+ #include <stdlib.h>
  #include <ctype.h>
  
  #define DEF_SIZE 5000
  #define STACK 50
  
diff -bcrN newlib-1.14.0.org/newlib/libc/configure newlib-1.14.0/newlib/libc/configure
*** newlib-1.14.0.org/newlib/libc/configure	2005-12-17 05:49:38.000000000 +0900
--- newlib-1.14.0/newlib/libc/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 3219,3233 ****
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! cat > conftest.defs <<\EOF
! s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
! s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
! s%\[%\\&%g
! s%\]%\\&%g
! s%\$%$$%g
! EOF
! DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
! rm -f conftest.defs
  
  
  # Without the "./", some shells look in PATH for config.status.
--- 3219,3252 ----
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! #
! # If the first sed substitution is executed (which looks for macros that
! # take arguments), then we branch to the quote section.  Otherwise,
! # look for a macro that doesn't take arguments.
! cat >confdef2opt.sed <<\_ACEOF
! t clear
! : clear
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! d
! : quote
! s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
! s,\[,\\&,g
! s,\],\\&,g
! s,\$,$$,g
! p
! _ACEOF
! # We use echo to avoid assuming a particular line-breaking character.
! # The extra dot is to prevent the shell from consuming trailing
! # line-breaks from the sub-command output.  A line-break within
! # single-quotes doesn't work because, if this script is created in a
! # platform that uses two characters for line-breaks (e.g., DOS), tr
! # would break.
! ac_LF_and_DOT=`echo; echo .`
! DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
! rm -f confdef2opt.sed
  
  
  # Without the "./", some shells look in PATH for config.status.
diff -bcrN newlib-1.14.0.org/newlib/libc/include/machine/setjmp.h newlib-1.14.0/newlib/libc/include/machine/setjmp.h
*** newlib-1.14.0.org/newlib/libc/include/machine/setjmp.h	2005-12-14 07:57:31.000000000 +0900
--- newlib-1.14.0/newlib/libc/include/machine/setjmp.h	2006-08-17 09:16:53.000000000 +0900
***************
*** 56,62 ****
  #if defined(__CYGWIN__) && !defined (_JBLEN)
  #define _JBLEN (13 * 4)
  #elif defined (__i386__)
! #if defined(__unix__) || defined(__rtems__)
  # define _JBLEN	9
  #else
  #include "setjmp-dj.h"
--- 56,62 ----
  #if defined(__CYGWIN__) && !defined (_JBLEN)
  #define _JBLEN (13 * 4)
  #elif defined (__i386__)
! #if defined(__unix__) || defined(__rtems__) || defined(__es__)
  # define _JBLEN 9
  #else
  #include "setjmp-dj.h"
diff -bcrN newlib-1.14.0.org/newlib/libc/include/sys/config.h newlib-1.14.0/newlib/libc/include/sys/config.h
*** newlib-1.14.0.org/newlib/libc/include/sys/config.h	2005-08-11 05:35:13.000000000 +0900
--- newlib-1.14.0/newlib/libc/include/sys/config.h	2006-08-17 09:16:53.000000000 +0900
***************
*** 55,64 ****
  #endif
  
  #ifdef __i386__
! #ifndef __unix__
  /* in other words, go32 */
  #define _FLOAT_RET double
  #endif
  #ifdef __linux__
  /* we want the reentrancy structure to be returned by a function */
  #define __DYNAMIC_REENT__
--- 55,69 ----
  #endif
  
  #ifdef __i386__
! #if !defined(__unix__) && !defined(__es__)
  /* in other words, go32 */
  #define _FLOAT_RET double
  #endif
+ #ifdef __es__
+ /* we want the reentrancy structure to be returned by a function */
+ #define __DYNAMIC_REENT__
+ #define __THREAD __thread
+ #endif
  #ifdef __linux__
  /* we want the reentrancy structure to be returned by a function */
  #define __DYNAMIC_REENT__
diff -bcrN newlib-1.14.0.org/newlib/libc/include/sys/errno.h newlib-1.14.0/newlib/libc/include/sys/errno.h
*** newlib-1.14.0.org/newlib/libc/include/sys/errno.h	2002-09-24 23:10:12.000000000 +0900
--- newlib-1.14.0/newlib/libc/include/sys/errno.h	2006-09-22 10:37:07.000000000 +0900
***************
*** 3,15 ****
     __errno.  */
  
  #ifndef _SYS_ERRNO_H_
- #ifdef __cplusplus
- extern "C" {
- #endif
  #define _SYS_ERRNO_H_
  
  #include <sys/reent.h>
  
  #ifndef _REENT_ONLY
  #define errno (*__errno())
  extern int *__errno _PARAMS ((void));
--- 3,16 ----
     __errno.  */
  
  #ifndef _SYS_ERRNO_H_
  #define _SYS_ERRNO_H_
  
  #include <sys/reent.h>
  
+ #ifdef __cplusplus
+ extern "C" {
+ #endif
+ 
  #ifndef _REENT_ONLY
  #define errno (*__errno())
  extern int *__errno _PARAMS ((void));
diff -bcrN newlib-1.14.0.org/newlib/libc/include/sys/reent.h newlib-1.14.0/newlib/libc/include/sys/reent.h
*** newlib-1.14.0.org/newlib/libc/include/sys/reent.h	2005-02-08 10:33:16.000000000 +0900
--- newlib-1.14.0/newlib/libc/include/sys/reent.h	2006-09-22 10:30:58.000000000 +0900
***************
*** 5,13 ****
     in the namespace allotted to us.  */
  
  #ifndef _SYS_REENT_H_
- #ifdef __cplusplus
- extern "C" {
- #endif
  #define _SYS_REENT_H_
  
  #include <_ansi.h>
--- 5,10 ----
***************
*** 32,37 ****
--- 29,38 ----
  typedef __uint32_t __ULong;
  #endif
  
+ #ifdef __cplusplus
+ extern "C" {
+ #endif
+ 
  /*
   * If _REENT_SMALL is defined, we make struct _reent as small as possible,
   * by having nearly everything possible allocated at first use.
***************
*** 796,802 ****
  #define __ATTRIBUTE_IMPURE_PTR__
  #endif
  
! extern struct _reent *_impure_ptr __ATTRIBUTE_IMPURE_PTR__;
  extern struct _reent *_CONST _global_impure_ptr __ATTRIBUTE_IMPURE_PTR__;
  
  void _reclaim_reent _PARAMS ((struct _reent *));
--- 797,807 ----
  #define __ATTRIBUTE_IMPURE_PTR__
  #endif
  
! #ifndef __THREAD
! #define __THREAD
! #endif
! 
! extern __THREAD struct _reent *_impure_ptr __ATTRIBUTE_IMPURE_PTR__;
  extern struct _reent *_CONST _global_impure_ptr __ATTRIBUTE_IMPURE_PTR__;
  
  void _reclaim_reent _PARAMS ((struct _reent *));
diff -bcrN newlib-1.14.0.org/newlib/libc/machine/i386/setjmp.S newlib-1.14.0/newlib/libc/machine/i386/setjmp.S
*** newlib-1.14.0.org/newlib/libc/machine/i386/setjmp.S	2001-02-23 07:12:39.000000000 +0900
--- newlib-1.14.0/newlib/libc/machine/i386/setjmp.S	2006-08-17 09:16:53.000000000 +0900
***************
*** 71,77 ****
  
  	movl	24(edi),ebp
  
-        __CLI
  	movl	28(edi),esp
  	
  	pushl	32(edi)	
--- 71,76 ----
***************
*** 82,87 ****
  	movl	12(edi),edx
  	movl	16(edi),esi
  	movl	20(edi),edi
-        __STI
  
  	ret
--- 81,85 ----
diff -bcrN newlib-1.14.0.org/newlib/libc/reent/impure.c newlib-1.14.0/newlib/libc/reent/impure.c
*** newlib-1.14.0.org/newlib/libc/reent/impure.c	2004-09-16 06:44:39.000000000 +0900
--- newlib-1.14.0/newlib/libc/reent/impure.c	2006-08-17 09:16:53.000000000 +0900
***************
*** 9,17 ****
--- 9,28 ----
  #define __ATTRIBUTE_IMPURE_DATA__
  #endif
  
+ #ifndef __THREAD
+ 
  static struct _reent __ATTRIBUTE_IMPURE_DATA__ impure_data = _REENT_INIT (impure_data);
  #ifdef __CYGWIN__
  extern struct _reent reent_data __attribute__ ((alias("impure_data")));
  #endif
  struct _reent *__ATTRIBUTE_IMPURE_PTR__ _impure_ptr = &impure_data;
  struct _reent *_CONST __ATTRIBUTE_IMPURE_PTR__ _global_impure_ptr = &impure_data;
+ 
+ #else  /* __THREAD */
+ 
+ __THREAD struct _reent *__ATTRIBUTE_IMPURE_PTR__ _impure_ptr;
+ 
+ static struct _reent __ATTRIBUTE_IMPURE_DATA__ _global_impure_data = _REENT_INIT(_global_impure_data);
+ struct _reent *_CONST __ATTRIBUTE_IMPURE_PTR__ _global_impure_ptr = &_global_impure_data;
+ 
+ #endif  /* __THREAD */
diff -bcrN newlib-1.14.0.org/newlib/libc/stdlib/__atexit.c newlib-1.14.0/newlib/libc/stdlib/__atexit.c
*** newlib-1.14.0.org/newlib/libc/stdlib/__atexit.c	2004-09-16 05:50:07.000000000 +0900
--- newlib-1.14.0/newlib/libc/stdlib/__atexit.c	2006-08-17 09:16:53.000000000 +0900
***************
*** 8,13 ****
--- 8,16 ----
  #include <sys/lock.h>
  #include "atexit.h"
  
+ #ifndef __SINGLE_THREAD__
+ __LOCK_INIT(static, lock);
+ #endif
  
  /*
   * Register a function to be performed at exit or on shared library unload.
***************
*** 25,32 ****
    register struct _atexit *p;
  
  #ifndef __SINGLE_THREAD__
-   __LOCK_INIT(static, lock);
- 
    __lock_acquire(lock);
  #endif
  
--- 28,33 ----
diff -bcrN newlib-1.14.0.org/newlib/libc/stdlib/malloc.c newlib-1.14.0/newlib/libc/stdlib/malloc.c
*** newlib-1.14.0.org/newlib/libc/stdlib/malloc.c	2000-02-18 04:39:47.000000000 +0900
--- newlib-1.14.0/newlib/libc/stdlib/malloc.c	2006-08-17 09:16:53.000000000 +0900
***************
*** 201,206 ****
--- 201,213 ----
    _free_r (_REENT, aptr);
  }
  
+ #ifdef __es__
+ 
+ #pragma weak malloc
+ #pragma weak free
+ 
+ #endif  /* __es__ */
+ 
  #endif
  
  #endif /* ! defined (MALLOC_PROVIDED) */
diff -bcrN newlib-1.14.0.org/newlib/libc/stdlib/mallocr.c newlib-1.14.0/newlib/libc/stdlib/mallocr.c
*** newlib-1.14.0.org/newlib/libc/stdlib/mallocr.c	2005-10-08 03:07:26.000000000 +0900
--- newlib-1.14.0/newlib/libc/stdlib/mallocr.c	2006-08-17 09:16:53.000000000 +0900
***************
*** 1069,1074 ****
--- 1069,1094 ----
  struct mallinfo mALLINFo();
  #endif
  
+ #ifdef __es__
+ 
+ #pragma weak calloc
+ #pragma weak free
+ #pragma weak cfree
+ #pragma weak malloc
+ #pragma weak memalign
+ #pragma weak realloc
+ #pragma weak valloc
+ #pragma weak pvalloc
+ #pragma weak mallinfo
+ #pragma weak mallopt
+ 
+ #pragma weak _malloc_r
+ #pragma weak _free_r
+ #pragma weak _realloc_r
+ #pragma weak _calloc_r
+ 
+ #endif  /* __es__ */
+ 
  
  #ifdef __cplusplus
  };  /* end of extern "C" */
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/configure newlib-1.14.0/newlib/libc/sys/configure
*** newlib-1.14.0.org/newlib/libc/sys/configure	2005-12-17 05:49:41.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 3074,3088 ****
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! cat > conftest.defs <<\EOF
! s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
! s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
! s%\[%\\&%g
! s%\]%\\&%g
! s%\$%$$%g
! EOF
! DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
! rm -f conftest.defs
  
  
  # Without the "./", some shells look in PATH for config.status.
--- 3074,3107 ----
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! #
! # If the first sed substitution is executed (which looks for macros that
! # take arguments), then we branch to the quote section.  Otherwise,
! # look for a macro that doesn't take arguments.
! cat >confdef2opt.sed <<\_ACEOF
! t clear
! : clear
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! d
! : quote
! s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
! s,\[,\\&,g
! s,\],\\&,g
! s,\$,$$,g
! p
! _ACEOF
! # We use echo to avoid assuming a particular line-breaking character.
! # The extra dot is to prevent the shell from consuming trailing
! # line-breaks from the sub-command output.  A line-break within
! # single-quotes doesn't work because, if this script is created in a
! # platform that uses two characters for line-breaks (e.g., DOS), tr
! # would break.
! ac_LF_and_DOT=`echo; echo .`
! DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
! rm -f confdef2opt.sed
  
  
  # Without the "./", some shells look in PATH for config.status.
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/aclocal.m4 newlib-1.14.0/newlib/libc/sys/es/aclocal.m4
*** newlib-1.14.0.org/newlib/libc/sys/es/aclocal.m4	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/aclocal.m4	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,366 ----
+ dnl aclocal.m4 generated automatically by aclocal 1.4-p6
+ 
+ dnl Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.
+ dnl This file is free software; the Free Software Foundation
+ dnl gives unlimited permission to copy and/or distribute it,
+ dnl with or without modifications, as long as this notice is preserved.
+ 
+ dnl This program is distributed in the hope that it will be useful,
+ dnl but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+ dnl even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ dnl PARTICULAR PURPOSE.
+ 
+ dnl This provides configure definitions used by all the newlib
+ dnl configure.in files.
+ 
+ dnl Basic newlib configury.  This calls basic introductory stuff,
+ dnl including AM_INIT_AUTOMAKE and AC_CANONICAL_HOST.  It also runs
+ dnl configure.host.  The only argument is the relative path to the top
+ dnl newlib directory.
+ 
+ AC_DEFUN(NEWLIB_CONFIGURE,
+ [
+ dnl Default to --enable-multilib
+ AC_ARG_ENABLE(multilib,
+ [  --enable-multilib         build many library versions (default)],
+ [case "${enableval}" in
+   yes) multilib=yes ;;
+   no)  multilib=no ;;
+   *)   AC_MSG_ERROR(bad value ${enableval} for multilib option) ;;
+  esac], [multilib=yes])dnl
+ 
+ dnl Support --enable-target-optspace
+ AC_ARG_ENABLE(target-optspace,
+ [  --enable-target-optspace  optimize for space],
+ [case "${enableval}" in
+   yes) target_optspace=yes ;;
+   no)  target_optspace=no ;;
+   *)   AC_MSG_ERROR(bad value ${enableval} for target-optspace option) ;;
+  esac], [target_optspace=])dnl
+ 
+ dnl Support --enable-malloc-debugging - currently only supported for Cygwin
+ AC_ARG_ENABLE(malloc-debugging,
+ [  --enable-malloc-debugging indicate malloc debugging requested],
+ [case "${enableval}" in
+   yes) malloc_debugging=yes ;;
+   no)  malloc_debugging=no ;;
+   *)   AC_MSG_ERROR(bad value ${enableval} for malloc-debugging option) ;;
+  esac], [malloc_debugging=])dnl
+ 
+ dnl Support --enable-newlib-multithread
+ AC_ARG_ENABLE(newlib-multithread,
+ [  --enable-newlib-multithread        enable support for multiple threads],
+ [case "${enableval}" in
+   yes) newlib_multithread=yes ;;
+   no)  newlib_multithread=no ;;
+   *)   AC_MSG_ERROR(bad value ${enableval} for newlib-multithread option) ;;
+  esac], [newlib_multithread=yes])dnl
+ 
+ dnl Support --enable-newlib-iconv
+ AC_ARG_ENABLE(newlib-iconv,
+ [  --enable-newlib-iconv     enable iconv library support],
+ [if test "${newlib_iconv+set}" != set; then
+    case "${enableval}" in
+      yes) newlib_iconv=yes ;;
+      no)  newlib_iconv=no ;;
+      *)   AC_MSG_ERROR(bad value ${enableval} for newlib-iconv option) ;;
+    esac
+  fi], [newlib_iconv=${newlib_iconv}])dnl
+ 
+ dnl Support --enable-newlib-elix-level
+ AC_ARG_ENABLE(newlib-elix-level,
+ [  --enable-newlib-elix-level         supply desired elix library level (1-4)],
+ [case "${enableval}" in
+   0)   newlib_elix_level=0 ;;
+   1)   newlib_elix_level=1 ;;
+   2)   newlib_elix_level=2 ;;
+   3)   newlib_elix_level=3 ;;
+   4)   newlib_elix_level=4 ;;
+   *)   AC_MSG_ERROR(bad value ${enableval} for newlib-elix-level option) ;;
+  esac], [newlib_elix_level=0])dnl
+ 
+ dnl Support --disable-newlib-io-float
+ AC_ARG_ENABLE(newlib-io-float,
+ [  --disable-newlib-io-float disable printf/scanf family float support],
+ [case "${enableval}" in
+   yes) newlib_io_float=yes ;;
+   no)  newlib_io_float=no ;;
+   *)   AC_MSG_ERROR(bad value ${enableval} for newlib-io-float option) ;;
+  esac], [newlib_io_float=yes])dnl
+ 
+ dnl Support --disable-newlib-supplied-syscalls
+ AC_ARG_ENABLE(newlib-supplied-syscalls,
+ [  --disable-newlib-supplied-syscalls disable newlib from supplying syscalls],
+ [case "${enableval}" in
+   yes) newlib_may_supply_syscalls=yes ;;
+   no)  newlib_may_supply_syscalls=no ;;
+   *)   AC_MSG_ERROR(bad value ${enableval} for newlib-supplied-syscalls option) ;;
+  esac], [newlib_may_supply_syscalls=yes])dnl
+ 
+ AM_CONDITIONAL(MAY_SUPPLY_SYSCALLS, test x[$]{newlib_may_supply_syscalls} = xyes)
+ 
+ dnl We may get other options which we don't document:
+ dnl --with-target-subdir, --with-multisrctop, --with-multisubdir
+ 
+ test -z "[$]{with_target_subdir}" && with_target_subdir=.
+ 
+ if test "[$]{srcdir}" = "."; then
+   if test "[$]{with_target_subdir}" != "."; then
+     newlib_basedir="[$]{srcdir}/[$]{with_multisrctop}../$1"
+   else
+     newlib_basedir="[$]{srcdir}/[$]{with_multisrctop}$1"
+   fi
+ else
+   newlib_basedir="[$]{srcdir}/$1"
+ fi
+ AC_SUBST(newlib_basedir)
+ 
+ AC_CANONICAL_SYSTEM
+ 
+ AM_INIT_AUTOMAKE(newlib, 1.14.0)
+ 
+ # FIXME: We temporarily define our own version of AC_PROG_CC.  This is
+ # copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We
+ # are probably using a cross compiler, which will not be able to fully
+ # link an executable.  This should really be fixed in autoconf
+ # itself.
+ 
+ AC_DEFUN(LIB_AC_PROG_CC,
+ [AC_BEFORE([$0], [AC_PROG_CPP])dnl
+ AC_CHECK_PROG(CC, gcc, gcc)
+ if test -z "$CC"; then
+   AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)
+   test -z "$CC" && AC_MSG_ERROR([no acceptable cc found in \$PATH])
+ fi
+ 
+ AC_PROG_CC_GNU
+ 
+ if test $ac_cv_prog_gcc = yes; then
+   GCC=yes
+ dnl Check whether -g works, even if CFLAGS is set, in case the package
+ dnl plays around with CFLAGS (such as to build both debugging and
+ dnl normal versions of a library), tasteless as that idea is.
+   ac_test_CFLAGS="${CFLAGS+set}"
+   ac_save_CFLAGS="$CFLAGS"
+   CFLAGS=
+   AC_PROG_CC_G
+   if test "$ac_test_CFLAGS" = set; then
+     CFLAGS="$ac_save_CFLAGS"
+   elif test $ac_cv_prog_cc_g = yes; then
+     CFLAGS="-g -O2"
+   else
+     CFLAGS="-O2"
+   fi
+ else
+   GCC=
+   test "${CFLAGS+set}" = set || CFLAGS="-g"
+ fi
+ ])
+ 
+ LIB_AC_PROG_CC
+ 
+ AC_CHECK_TOOL(AS, as)
+ AC_CHECK_TOOL(AR, ar)
+ AC_CHECK_TOOL(RANLIB, ranlib, :)
+ 
+ AC_PROG_INSTALL
+ 
+ AM_MAINTAINER_MODE
+ 
+ # We need AC_EXEEXT to keep automake happy in cygnus mode.  However,
+ # at least currently, we never actually build a program, so we never
+ # need to use $(EXEEXT).  Moreover, the test for EXEEXT normally
+ # fails, because we are probably configuring with a cross compiler
+ # which can't create executables.  So we include AC_EXEEXT to keep
+ # automake happy, but we don't execute it, since we don't care about
+ # the result.
+ if false; then
+   AC_EXEEXT
+ fi
+ 
+ . [$]{newlib_basedir}/configure.host
+ 
+ newlib_cflags="[$]{newlib_cflags} -fno-builtin"
+ 
+ NEWLIB_CFLAGS=${newlib_cflags}
+ AC_SUBST(NEWLIB_CFLAGS)
+ 
+ LDFLAGS=${ldflags}
+ AC_SUBST(LDFLAGS)
+ 
+ AM_CONDITIONAL(ELIX_LEVEL_0, test x[$]{newlib_elix_level} = x0)
+ AM_CONDITIONAL(ELIX_LEVEL_1, test x[$]{newlib_elix_level} = x1)
+ AM_CONDITIONAL(ELIX_LEVEL_2, test x[$]{newlib_elix_level} = x2)
+ AM_CONDITIONAL(ELIX_LEVEL_3, test x[$]{newlib_elix_level} = x3)
+ AM_CONDITIONAL(ELIX_LEVEL_4, test x[$]{newlib_elix_level} = x4)
+ 
+ AM_CONDITIONAL(USE_LIBTOOL, test x[$]{use_libtool} = xyes)
+ 
+ # Hard-code OBJEXT.  Normally it is set by AC_OBJEXT, but we
+ # use oext, which is set in configure.host based on the target platform.
+ OBJEXT=${oext}
+ 
+ AC_SUBST(OBJEXT)
+ AC_SUBST(oext)
+ AC_SUBST(aext)
+ 
+ AC_SUBST(libm_machine_dir)
+ AC_SUBST(machine_dir)
+ AC_SUBST(sys_dir)
+ ])
+ 
+ # Do all the work for Automake.  This macro actually does too much --
+ # some checks are only needed if your package does certain things.
+ # But this isn't really a big deal.
+ 
+ # serial 1
+ 
+ dnl Usage:
+ dnl AM_INIT_AUTOMAKE(package,version, [no-define])
+ 
+ AC_DEFUN([AM_INIT_AUTOMAKE],
+ [AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl
+ AC_REQUIRE([AC_PROG_INSTALL])
+ PACKAGE=[$1]
+ AC_SUBST(PACKAGE)
+ VERSION=[$2]
+ AC_SUBST(VERSION)
+ dnl test to see if srcdir already configured
+ if test "`cd $srcdir && pwd`" != "`pwd`" && test -f $srcdir/config.status; then
+   AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
+ fi
+ ifelse([$3],,
+ AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
+ AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package]))
+ AC_REQUIRE([AM_SANITY_CHECK])
+ AC_REQUIRE([AC_ARG_PROGRAM])
+ dnl FIXME This is truly gross.
+ missing_dir=`cd $ac_aux_dir && pwd`
+ AM_MISSING_PROG(ACLOCAL, aclocal-${am__api_version}, $missing_dir)
+ AM_MISSING_PROG(AUTOCONF, autoconf, $missing_dir)
+ AM_MISSING_PROG(AUTOMAKE, automake-${am__api_version}, $missing_dir)
+ AM_MISSING_PROG(AUTOHEADER, autoheader, $missing_dir)
+ AM_MISSING_PROG(MAKEINFO, makeinfo, $missing_dir)
+ AC_REQUIRE([AC_PROG_MAKE_SET])])
+ 
+ # Copyright 2002  Free Software Foundation, Inc.
+ 
+ # This program is free software; you can redistribute it and/or modify
+ # it under the terms of the GNU General Public License as published by
+ # the Free Software Foundation; either version 2, or (at your option)
+ # any later version.
+ 
+ # This program is distributed in the hope that it will be useful,
+ # but WITHOUT ANY WARRANTY; without even the implied warranty of
+ # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ # GNU General Public License for more details.
+ 
+ # You should have received a copy of the GNU General Public License
+ # along with this program; if not, write to the Free Software
+ # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
+ 
+ # AM_AUTOMAKE_VERSION(VERSION)
+ # ----------------------------
+ # Automake X.Y traces this macro to ensure aclocal.m4 has been
+ # generated from the m4 files accompanying Automake X.Y.
+ AC_DEFUN([AM_AUTOMAKE_VERSION],[am__api_version="1.4"])
+ 
+ # AM_SET_CURRENT_AUTOMAKE_VERSION
+ # -------------------------------
+ # Call AM_AUTOMAKE_VERSION so it can be traced.
+ # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
+ AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
+ 	 [AM_AUTOMAKE_VERSION([1.4-p6])])
+ 
+ #
+ # Check to make sure that the build environment is sane.
+ #
+ 
+ AC_DEFUN([AM_SANITY_CHECK],
+ [AC_MSG_CHECKING([whether build environment is sane])
+ # Just in case
+ sleep 1
+ echo timestamp > conftestfile
+ # Do `set' in a subshell so we don't clobber the current shell's
+ # arguments.  Must try -L first in case configure is actually a
+ # symlink; some systems play weird games with the mod time of symlinks
+ # (eg FreeBSD returns the mod time of the symlink's containing
+ # directory).
+ if (
+    set X `ls -Lt $srcdir/configure conftestfile 2> /dev/null`
+    if test "[$]*" = "X"; then
+       # -L didn't work.
+       set X `ls -t $srcdir/configure conftestfile`
+    fi
+    if test "[$]*" != "X $srcdir/configure conftestfile" \
+       && test "[$]*" != "X conftestfile $srcdir/configure"; then
+ 
+       # If neither matched, then we have a broken ls.  This can happen
+       # if, for instance, CONFIG_SHELL is bash and it inherits a
+       # broken ls alias from the environment.  This has actually
+       # happened.  Such a system could not be considered "sane".
+       AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken
+ alias in your environment])
+    fi
+ 
+    test "[$]2" = conftestfile
+    )
+ then
+    # Ok.
+    :
+ else
+    AC_MSG_ERROR([newly created file is older than distributed files!
+ Check your system clock])
+ fi
+ rm -f conftest*
+ AC_MSG_RESULT(yes)])
+ 
+ dnl AM_MISSING_PROG(NAME, PROGRAM, DIRECTORY)
+ dnl The program must properly implement --version.
+ AC_DEFUN([AM_MISSING_PROG],
+ [AC_MSG_CHECKING(for working $2)
+ # Run test in a subshell; some versions of sh will print an error if
+ # an executable is not found, even if stderr is redirected.
+ # Redirect stdin to placate older versions of autoconf.  Sigh.
+ if ($2 --version) < /dev/null > /dev/null 2>&1; then
+    $1=$2
+    AC_MSG_RESULT(found)
+ else
+    $1="$3/missing $2"
+    AC_MSG_RESULT(missing)
+ fi
+ AC_SUBST($1)])
+ 
+ # Define a conditional.
+ 
+ AC_DEFUN([AM_CONDITIONAL],
+ [AC_SUBST($1_TRUE)
+ AC_SUBST($1_FALSE)
+ if $2; then
+   $1_TRUE=
+   $1_FALSE='#'
+ else
+   $1_TRUE='#'
+   $1_FALSE=
+ fi])
+ 
+ # Add --enable-maintainer-mode option to configure.
+ # From Jim Meyering
+ 
+ # serial 1
+ 
+ AC_DEFUN([AM_MAINTAINER_MODE],
+ [AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])
+   dnl maintainer-mode is disabled by default
+   AC_ARG_ENABLE(maintainer-mode,
+ [  --enable-maintainer-mode enable make rules and dependencies not useful
+                           (and sometimes confusing) to the casual installer],
+       USE_MAINTAINER_MODE=$enableval,
+       USE_MAINTAINER_MODE=no)
+   AC_MSG_RESULT($USE_MAINTAINER_MODE)
+   AM_CONDITIONAL(MAINTAINER_MODE, test $USE_MAINTAINER_MODE = yes)
+   MAINT=$MAINTAINER_MODE_TRUE
+   AC_SUBST(MAINT)dnl
+ ]
+ )
+ 
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/configure newlib-1.14.0/newlib/libc/sys/es/configure
*** newlib-1.14.0.org/newlib/libc/sys/es/configure	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/configure	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,1899 ----
+ #! /bin/sh
+ 
+ # Guess values for system-dependent variables and create Makefiles.
+ # Generated automatically using autoconf version 2.13 
+ # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
+ #
+ # This configure script is free software; the Free Software Foundation
+ # gives unlimited permission to copy, distribute and modify it.
+ 
+ # Defaults:
+ ac_help=
+ ac_default_prefix=/usr/local
+ # Any additions from configure.in:
+ ac_help="$ac_help
+   --enable-multilib         build many library versions (default)"
+ ac_help="$ac_help
+   --enable-target-optspace  optimize for space"
+ ac_help="$ac_help
+   --enable-malloc-debugging indicate malloc debugging requested"
+ ac_help="$ac_help
+   --enable-newlib-multithread        enable support for multiple threads"
+ ac_help="$ac_help
+   --enable-newlib-iconv     enable iconv library support"
+ ac_help="$ac_help
+   --enable-newlib-elix-level         supply desired elix library level (1-4)"
+ ac_help="$ac_help
+   --disable-newlib-io-float disable printf/scanf family float support"
+ ac_help="$ac_help
+   --disable-newlib-supplied-syscalls disable newlib from supplying syscalls"
+ ac_help="$ac_help
+   --enable-maintainer-mode enable make rules and dependencies not useful
+                           (and sometimes confusing) to the casual installer"
+ 
+ # Initialize some variables set by options.
+ # The variables have the same names as the options, with
+ # dashes changed to underlines.
+ build=NONE
+ cache_file=./config.cache
+ exec_prefix=NONE
+ host=NONE
+ no_create=
+ nonopt=NONE
+ no_recursion=
+ prefix=NONE
+ program_prefix=NONE
+ program_suffix=NONE
+ program_transform_name=s,x,x,
+ silent=
+ site=
+ srcdir=
+ target=NONE
+ verbose=
+ x_includes=NONE
+ x_libraries=NONE
+ bindir='${exec_prefix}/bin'
+ sbindir='${exec_prefix}/sbin'
+ libexecdir='${exec_prefix}/libexec'
+ datadir='${prefix}/share'
+ sysconfdir='${prefix}/etc'
+ sharedstatedir='${prefix}/com'
+ localstatedir='${prefix}/var'
+ libdir='${exec_prefix}/lib'
+ includedir='${prefix}/include'
+ oldincludedir='/usr/include'
+ infodir='${prefix}/info'
+ mandir='${prefix}/man'
+ 
+ # Initialize some other variables.
+ subdirs=
+ MFLAGS= MAKEFLAGS=
+ SHELL=${CONFIG_SHELL-/bin/sh}
+ # Maximum number of lines to put in a shell here document.
+ ac_max_here_lines=12
+ 
+ ac_prev=
+ for ac_option
+ do
+ 
+   # If the previous option needs an argument, assign it.
+   if test -n "$ac_prev"; then
+     eval "$ac_prev=\$ac_option"
+     ac_prev=
+     continue
+   fi
+ 
+   case "$ac_option" in
+   -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
+   *) ac_optarg= ;;
+   esac
+ 
+   # Accept the important Cygnus configure options, so we can diagnose typos.
+ 
+   case "$ac_option" in
+ 
+   -bindir | --bindir | --bindi | --bind | --bin | --bi)
+     ac_prev=bindir ;;
+   -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
+     bindir="$ac_optarg" ;;
+ 
+   -build | --build | --buil | --bui | --bu)
+     ac_prev=build ;;
+   -build=* | --build=* | --buil=* | --bui=* | --bu=*)
+     build="$ac_optarg" ;;
+ 
+   -cache-file | --cache-file | --cache-fil | --cache-fi \
+   | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
+     ac_prev=cache_file ;;
+   -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
+   | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
+     cache_file="$ac_optarg" ;;
+ 
+   -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
+     ac_prev=datadir ;;
+   -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
+   | --da=*)
+     datadir="$ac_optarg" ;;
+ 
+   -disable-* | --disable-*)
+     ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
+       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
+     fi
+     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
+     eval "enable_${ac_feature}=no" ;;
+ 
+   -enable-* | --enable-*)
+     ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
+       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
+     fi
+     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
+     case "$ac_option" in
+       *=*) ;;
+       *) ac_optarg=yes ;;
+     esac
+     eval "enable_${ac_feature}='$ac_optarg'" ;;
+ 
+   -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
+   | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
+   | --exec | --exe | --ex)
+     ac_prev=exec_prefix ;;
+   -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
+   | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
+   | --exec=* | --exe=* | --ex=*)
+     exec_prefix="$ac_optarg" ;;
+ 
+   -gas | --gas | --ga | --g)
+     # Obsolete; use --with-gas.
+     with_gas=yes ;;
+ 
+   -help | --help | --hel | --he)
+     # Omit some internal or obsolete options to make the list less imposing.
+     # This message is too long to be a string in the A/UX 3.1 sh.
+     cat << EOF
+ Usage: configure [options] [host]
+ Options: [defaults in brackets after descriptions]
+ Configuration:
+   --cache-file=FILE       cache test results in FILE
+   --help                  print this message
+   --no-create             do not create output files
+   --quiet, --silent       do not print \`checking...' messages
+   --version               print the version of autoconf that created configure
+ Directory and file names:
+   --prefix=PREFIX         install architecture-independent files in PREFIX
+                           [$ac_default_prefix]
+   --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
+                           [same as prefix]
+   --bindir=DIR            user executables in DIR [EPREFIX/bin]
+   --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
+   --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
+   --datadir=DIR           read-only architecture-independent data in DIR
+                           [PREFIX/share]
+   --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
+   --sharedstatedir=DIR    modifiable architecture-independent data in DIR
+                           [PREFIX/com]
+   --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
+   --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
+   --includedir=DIR        C header files in DIR [PREFIX/include]
+   --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
+   --infodir=DIR           info documentation in DIR [PREFIX/info]
+   --mandir=DIR            man documentation in DIR [PREFIX/man]
+   --srcdir=DIR            find the sources in DIR [configure dir or ..]
+   --program-prefix=PREFIX prepend PREFIX to installed program names
+   --program-suffix=SUFFIX append SUFFIX to installed program names
+   --program-transform-name=PROGRAM
+                           run sed PROGRAM on installed program names
+ EOF
+     cat << EOF
+ Host type:
+   --build=BUILD           configure for building on BUILD [BUILD=HOST]
+   --host=HOST             configure for HOST [guessed]
+   --target=TARGET         configure for TARGET [TARGET=HOST]
+ Features and packages:
+   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
+   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
+   --x-includes=DIR        X include files are in DIR
+   --x-libraries=DIR       X library files are in DIR
+ EOF
+     if test -n "$ac_help"; then
+       echo "--enable and --with options recognized:$ac_help"
+     fi
+     exit 0 ;;
+ 
+   -host | --host | --hos | --ho)
+     ac_prev=host ;;
+   -host=* | --host=* | --hos=* | --ho=*)
+     host="$ac_optarg" ;;
+ 
+   -includedir | --includedir | --includedi | --included | --include \
+   | --includ | --inclu | --incl | --inc)
+     ac_prev=includedir ;;
+   -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
+   | --includ=* | --inclu=* | --incl=* | --inc=*)
+     includedir="$ac_optarg" ;;
+ 
+   -infodir | --infodir | --infodi | --infod | --info | --inf)
+     ac_prev=infodir ;;
+   -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
+     infodir="$ac_optarg" ;;
+ 
+   -libdir | --libdir | --libdi | --libd)
+     ac_prev=libdir ;;
+   -libdir=* | --libdir=* | --libdi=* | --libd=*)
+     libdir="$ac_optarg" ;;
+ 
+   -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
+   | --libexe | --libex | --libe)
+     ac_prev=libexecdir ;;
+   -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
+   | --libexe=* | --libex=* | --libe=*)
+     libexecdir="$ac_optarg" ;;
+ 
+   -localstatedir | --localstatedir | --localstatedi | --localstated \
+   | --localstate | --localstat | --localsta | --localst \
+   | --locals | --local | --loca | --loc | --lo)
+     ac_prev=localstatedir ;;
+   -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
+   | --localstate=* | --localstat=* | --localsta=* | --localst=* \
+   | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
+     localstatedir="$ac_optarg" ;;
+ 
+   -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
+     ac_prev=mandir ;;
+   -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
+     mandir="$ac_optarg" ;;
+ 
+   -nfp | --nfp | --nf)
+     # Obsolete; use --without-fp.
+     with_fp=no ;;
+ 
+   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+   | --no-cr | --no-c)
+     no_create=yes ;;
+ 
+   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+   | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
+     no_recursion=yes ;;
+ 
+   -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
+   | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
+   | --oldin | --oldi | --old | --ol | --o)
+     ac_prev=oldincludedir ;;
+   -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
+   | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
+   | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
+     oldincludedir="$ac_optarg" ;;
+ 
+   -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
+     ac_prev=prefix ;;
+   -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
+     prefix="$ac_optarg" ;;
+ 
+   -program-prefix | --program-prefix | --program-prefi | --program-pref \
+   | --program-pre | --program-pr | --program-p)
+     ac_prev=program_prefix ;;
+   -program-prefix=* | --program-prefix=* | --program-prefi=* \
+   | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
+     program_prefix="$ac_optarg" ;;
+ 
+   -program-suffix | --program-suffix | --program-suffi | --program-suff \
+   | --program-suf | --program-su | --program-s)
+     ac_prev=program_suffix ;;
+   -program-suffix=* | --program-suffix=* | --program-suffi=* \
+   | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
+     program_suffix="$ac_optarg" ;;
+ 
+   -program-transform-name | --program-transform-name \
+   | --program-transform-nam | --program-transform-na \
+   | --program-transform-n | --program-transform- \
+   | --program-transform | --program-transfor \
+   | --program-transfo | --program-transf \
+   | --program-trans | --program-tran \
+   | --progr-tra | --program-tr | --program-t)
+     ac_prev=program_transform_name ;;
+   -program-transform-name=* | --program-transform-name=* \
+   | --program-transform-nam=* | --program-transform-na=* \
+   | --program-transform-n=* | --program-transform-=* \
+   | --program-transform=* | --program-transfor=* \
+   | --program-transfo=* | --program-transf=* \
+   | --program-trans=* | --program-tran=* \
+   | --progr-tra=* | --program-tr=* | --program-t=*)
+     program_transform_name="$ac_optarg" ;;
+ 
+   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+   | -silent | --silent | --silen | --sile | --sil)
+     silent=yes ;;
+ 
+   -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
+     ac_prev=sbindir ;;
+   -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
+   | --sbi=* | --sb=*)
+     sbindir="$ac_optarg" ;;
+ 
+   -sharedstatedir | --sharedstatedir | --sharedstatedi \
+   | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
+   | --sharedst | --shareds | --shared | --share | --shar \
+   | --sha | --sh)
+     ac_prev=sharedstatedir ;;
+   -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
+   | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
+   | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
+   | --sha=* | --sh=*)
+     sharedstatedir="$ac_optarg" ;;
+ 
+   -site | --site | --sit)
+     ac_prev=site ;;
+   -site=* | --site=* | --sit=*)
+     site="$ac_optarg" ;;
+ 
+   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
+     ac_prev=srcdir ;;
+   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
+     srcdir="$ac_optarg" ;;
+ 
+   -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
+   | --syscon | --sysco | --sysc | --sys | --sy)
+     ac_prev=sysconfdir ;;
+   -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
+   | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
+     sysconfdir="$ac_optarg" ;;
+ 
+   -target | --target | --targe | --targ | --tar | --ta | --t)
+     ac_prev=target ;;
+   -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
+     target="$ac_optarg" ;;
+ 
+   -v | -verbose | --verbose | --verbos | --verbo | --verb)
+     verbose=yes ;;
+ 
+   -version | --version | --versio | --versi | --vers)
+     echo "configure generated by autoconf version 2.13"
+     exit 0 ;;
+ 
+   -with-* | --with-*)
+     ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
+       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
+     fi
+     ac_package=`echo $ac_package| sed 's/-/_/g'`
+     case "$ac_option" in
+       *=*) ;;
+       *) ac_optarg=yes ;;
+     esac
+     eval "with_${ac_package}='$ac_optarg'" ;;
+ 
+   -without-* | --without-*)
+     ac_package=`echo $ac_option|sed -e 's/-*without-//'`
+     # Reject names that are not valid shell variable names.
+     if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
+       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
+     fi
+     ac_package=`echo $ac_package| sed 's/-/_/g'`
+     eval "with_${ac_package}=no" ;;
+ 
+   --x)
+     # Obsolete; use --with-x.
+     with_x=yes ;;
+ 
+   -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
+   | --x-incl | --x-inc | --x-in | --x-i)
+     ac_prev=x_includes ;;
+   -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
+   | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
+     x_includes="$ac_optarg" ;;
+ 
+   -x-libraries | --x-libraries | --x-librarie | --x-librari \
+   | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
+     ac_prev=x_libraries ;;
+   -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
+   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
+     x_libraries="$ac_optarg" ;;
+ 
+   -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
+     ;;
+ 
+   *)
+     if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
+       echo "configure: warning: $ac_option: invalid host type" 1>&2
+     fi
+     if test "x$nonopt" != xNONE; then
+       { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
+     fi
+     nonopt="$ac_option"
+     ;;
+ 
+   esac
+ done
+ 
+ if test -n "$ac_prev"; then
+   { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
+ fi
+ 
+ trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
+ 
+ # File descriptor usage:
+ # 0 standard input
+ # 1 file creation
+ # 2 errors and warnings
+ # 3 some systems may open it to /dev/tty
+ # 4 used on the Kubota Titan
+ # 6 checking for... messages and results
+ # 5 compiler messages saved in config.log
+ if test "$silent" = yes; then
+   exec 6>/dev/null
+ else
+   exec 6>&1
+ fi
+ exec 5>./config.log
+ 
+ echo "\
+ This file contains any messages produced by compilers while
+ running configure, to aid debugging if configure makes a mistake.
+ " 1>&5
+ 
+ # Strip out --no-create and --no-recursion so they do not pile up.
+ # Also quote any args containing shell metacharacters.
+ ac_configure_args=
+ for ac_arg
+ do
+   case "$ac_arg" in
+   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+   | --no-cr | --no-c) ;;
+   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+   | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
+   *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
+   ac_configure_args="$ac_configure_args '$ac_arg'" ;;
+   *) ac_configure_args="$ac_configure_args $ac_arg" ;;
+   esac
+ done
+ 
+ # NLS nuisances.
+ # Only set these to C if already set.  These must not be set unconditionally
+ # because not all systems understand e.g. LANG=C (notably SCO).
+ # Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
+ # Non-C LC_CTYPE values break the ctype check.
+ if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
+ if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
+ if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
+ if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
+ 
+ # confdefs.h avoids OS command line length limits that DEFS can exceed.
+ rm -rf conftest* confdefs.h
+ # AIX cpp loses on an empty file, so make sure it contains at least a newline.
+ echo > confdefs.h
+ 
+ # A filename unique to this package, relative to the directory that
+ # configure is in, which we can look for to find out if srcdir is correct.
+ ac_unique_file=getreent.c
+ 
+ # Find the source files, if location was not specified.
+ if test -z "$srcdir"; then
+   ac_srcdir_defaulted=yes
+   # Try the directory containing this script, then its parent.
+   ac_prog=$0
+   ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
+   test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
+   srcdir=$ac_confdir
+   if test ! -r $srcdir/$ac_unique_file; then
+     srcdir=..
+   fi
+ else
+   ac_srcdir_defaulted=no
+ fi
+ if test ! -r $srcdir/$ac_unique_file; then
+   if test "$ac_srcdir_defaulted" = yes; then
+     { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
+   else
+     { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
+   fi
+ fi
+ srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`
+ 
+ # Prefer explicitly selected file to automatically selected ones.
+ if test -z "$CONFIG_SITE"; then
+   if test "x$prefix" != xNONE; then
+     CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+   else
+     CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+   fi
+ fi
+ for ac_site_file in $CONFIG_SITE; do
+   if test -r "$ac_site_file"; then
+     echo "loading site script $ac_site_file"
+     . "$ac_site_file"
+   fi
+ done
+ 
+ if test -r "$cache_file"; then
+   echo "loading cache $cache_file"
+   . $cache_file
+ else
+   echo "creating cache $cache_file"
+   > $cache_file
+ fi
+ 
+ ac_ext=c
+ # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
+ ac_cpp='$CPP $CPPFLAGS'
+ ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
+ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
+ cross_compiling=$ac_cv_prog_cc_cross
+ 
+ ac_exeext=
+ ac_objext=o
+ if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
+   # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
+   if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
+     ac_n= ac_c='
+ ' ac_t='	'
+   else
+     ac_n=-n ac_c= ac_t=
+   fi
+ else
+   ac_n= ac_c='\c' ac_t=
+ fi
+ 
+ 
+ 
+ ac_aux_dir=
+ for ac_dir in ../../../.. $srcdir/../../../..; do
+   if test -f $ac_dir/install-sh; then
+     ac_aux_dir=$ac_dir
+     ac_install_sh="$ac_aux_dir/install-sh -c"
+     break
+   elif test -f $ac_dir/install.sh; then
+     ac_aux_dir=$ac_dir
+     ac_install_sh="$ac_aux_dir/install.sh -c"
+     break
+   fi
+ done
+ if test -z "$ac_aux_dir"; then
+   { echo "configure: error: can not find install-sh or install.sh in ../../../.. $srcdir/../../../.." 1>&2; exit 1; }
+ fi
+ ac_config_guess=$ac_aux_dir/config.guess
+ ac_config_sub=$ac_aux_dir/config.sub
+ ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.
+ 
+ 
+ am__api_version="1.4"
+ # Find a good install program.  We prefer a C program (faster),
+ # so one script is as good as another.  But avoid the broken or
+ # incompatible versions:
+ # SysV /etc/install, /usr/sbin/install
+ # SunOS /usr/etc/install
+ # IRIX /sbin/install
+ # AIX /bin/install
+ # AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+ # AFS /usr/afsws/bin/install, which mishandles nonexistent args
+ # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+ # ./install, which can be erroneously created by make from ./install.sh.
+ echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
+ echo "configure:578: checking for a BSD compatible install" >&5
+ if test -z "$INSTALL"; then
+ if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+     IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
+   for ac_dir in $PATH; do
+     # Account for people who put trailing slashes in PATH elements.
+     case "$ac_dir/" in
+     /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+     *)
+       # OSF1 and SCO ODT 3.0 have their own names for install.
+       # Don't use installbsd from OSF since it installs stuff as root
+       # by default.
+       for ac_prog in ginstall scoinst install; do
+         if test -f $ac_dir/$ac_prog; then
+ 	  if test $ac_prog = install &&
+             grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+ 	    # AIX install.  It has an incompatible calling convention.
+ 	    :
+ 	  else
+ 	    ac_cv_path_install="$ac_dir/$ac_prog -c"
+ 	    break 2
+ 	  fi
+ 	fi
+       done
+       ;;
+     esac
+   done
+   IFS="$ac_save_IFS"
+ 
+ fi
+   if test "${ac_cv_path_install+set}" = set; then
+     INSTALL="$ac_cv_path_install"
+   else
+     # As a last resort, use the slow shell script.  We don't cache a
+     # path for INSTALL within a source directory, because that will
+     # break other packages using the cache if that directory is
+     # removed, or if the path is relative.
+     INSTALL="$ac_install_sh"
+   fi
+ fi
+ echo "$ac_t""$INSTALL" 1>&6
+ 
+ # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
+ # It thinks the first close brace ends the variable substitution.
+ test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
+ 
+ test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'
+ 
+ test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
+ 
+ echo $ac_n "checking whether build environment is sane""... $ac_c" 1>&6
+ echo "configure:631: checking whether build environment is sane" >&5
+ # Just in case
+ sleep 1
+ echo timestamp > conftestfile
+ # Do `set' in a subshell so we don't clobber the current shell's
+ # arguments.  Must try -L first in case configure is actually a
+ # symlink; some systems play weird games with the mod time of symlinks
+ # (eg FreeBSD returns the mod time of the symlink's containing
+ # directory).
+ if (
+    set X `ls -Lt $srcdir/configure conftestfile 2> /dev/null`
+    if test "$*" = "X"; then
+       # -L didn't work.
+       set X `ls -t $srcdir/configure conftestfile`
+    fi
+    if test "$*" != "X $srcdir/configure conftestfile" \
+       && test "$*" != "X conftestfile $srcdir/configure"; then
+ 
+       # If neither matched, then we have a broken ls.  This can happen
+       # if, for instance, CONFIG_SHELL is bash and it inherits a
+       # broken ls alias from the environment.  This has actually
+       # happened.  Such a system could not be considered "sane".
+       { echo "configure: error: ls -t appears to fail.  Make sure there is not a broken
+ alias in your environment" 1>&2; exit 1; }
+    fi
+ 
+    test "$2" = conftestfile
+    )
+ then
+    # Ok.
+    :
+ else
+    { echo "configure: error: newly created file is older than distributed files!
+ Check your system clock" 1>&2; exit 1; }
+ fi
+ rm -f conftest*
+ echo "$ac_t""yes" 1>&6
+ if test "$program_transform_name" = s,x,x,; then
+   program_transform_name=
+ else
+   # Double any \ or $.  echo might interpret backslashes.
+   cat <<\EOF_SED > conftestsed
+ s,\\,\\\\,g; s,\$,$$,g
+ EOF_SED
+   program_transform_name="`echo $program_transform_name|sed -f conftestsed`"
+   rm -f conftestsed
+ fi
+ test "$program_prefix" != NONE &&
+   program_transform_name="s,^,${program_prefix},; $program_transform_name"
+ # Use a double $ so make ignores it.
+ test "$program_suffix" != NONE &&
+   program_transform_name="s,\$\$,${program_suffix},; $program_transform_name"
+ 
+ # sed with no file args requires a program.
+ test "$program_transform_name" = "" && program_transform_name="s,x,x,"
+ 
+ echo $ac_n "checking whether ${MAKE-make} sets \${MAKE}""... $ac_c" 1>&6
+ echo "configure:688: checking whether ${MAKE-make} sets \${MAKE}" >&5
+ set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y%./+-%__p_%'`
+ if eval "test \"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   cat > conftestmake <<\EOF
+ all:
+ 	@echo 'ac_maketemp="${MAKE}"'
+ EOF
+ # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
+ eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`
+ if test -n "$ac_maketemp"; then
+   eval ac_cv_prog_make_${ac_make}_set=yes
+ else
+   eval ac_cv_prog_make_${ac_make}_set=no
+ fi
+ rm -f conftestmake
+ fi
+ if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
+   echo "$ac_t""yes" 1>&6
+   SET_MAKE=
+ else
+   echo "$ac_t""no" 1>&6
+   SET_MAKE="MAKE=${MAKE-make}"
+ fi
+ 
+ if test $host != $build; then
+   ac_tool_prefix=${host_alias}-
+ else
+   ac_tool_prefix=
+ fi
+ 
+ echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
+ echo "configure:721: checking for Cygwin environment" >&5
+ if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   cat > conftest.$ac_ext <<EOF
+ #line 726 "configure"
+ #include "confdefs.h"
+ 
+ int main() {
+ 
+ #ifndef __CYGWIN__
+ #define __CYGWIN__ __CYGWIN32__
+ #endif
+ return __CYGWIN__;
+ ; return 0; }
+ EOF
+ if { (eval echo configure:737: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+   rm -rf conftest*
+   ac_cv_cygwin=yes
+ else
+   echo "configure: failed program was:" >&5
+   cat conftest.$ac_ext >&5
+   rm -rf conftest*
+   ac_cv_cygwin=no
+ fi
+ rm -f conftest*
+ rm -f conftest*
+ fi
+ 
+ echo "$ac_t""$ac_cv_cygwin" 1>&6
+ CYGWIN=
+ test "$ac_cv_cygwin" = yes && CYGWIN=yes
+ echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
+ echo "configure:754: checking for mingw32 environment" >&5
+ if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   cat > conftest.$ac_ext <<EOF
+ #line 759 "configure"
+ #include "confdefs.h"
+ 
+ int main() {
+ return __MINGW32__;
+ ; return 0; }
+ EOF
+ if { (eval echo configure:766: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+   rm -rf conftest*
+   ac_cv_mingw32=yes
+ else
+   echo "configure: failed program was:" >&5
+   cat conftest.$ac_ext >&5
+   rm -rf conftest*
+   ac_cv_mingw32=no
+ fi
+ rm -f conftest*
+ rm -f conftest*
+ fi
+ 
+ echo "$ac_t""$ac_cv_mingw32" 1>&6
+ MINGW32=
+ test "$ac_cv_mingw32" = yes && MINGW32=yes
+ 
+ # Check whether --enable-multilib or --disable-multilib was given.
+ if test "${enable_multilib+set}" = set; then
+   enableval="$enable_multilib"
+   case "${enableval}" in
+   yes) multilib=yes ;;
+   no)  multilib=no ;;
+   *)   { echo "configure: error: bad value ${enableval} for multilib option" 1>&2; exit 1; } ;;
+  esac
+ else
+   multilib=yes
+ fi
+ 
+ # Check whether --enable-target-optspace or --disable-target-optspace was given.
+ if test "${enable_target_optspace+set}" = set; then
+   enableval="$enable_target_optspace"
+   case "${enableval}" in
+   yes) target_optspace=yes ;;
+   no)  target_optspace=no ;;
+   *)   { echo "configure: error: bad value ${enableval} for target-optspace option" 1>&2; exit 1; } ;;
+  esac
+ else
+   target_optspace=
+ fi
+ 
+ # Check whether --enable-malloc-debugging or --disable-malloc-debugging was given.
+ if test "${enable_malloc_debugging+set}" = set; then
+   enableval="$enable_malloc_debugging"
+   case "${enableval}" in
+   yes) malloc_debugging=yes ;;
+   no)  malloc_debugging=no ;;
+   *)   { echo "configure: error: bad value ${enableval} for malloc-debugging option" 1>&2; exit 1; } ;;
+  esac
+ else
+   malloc_debugging=
+ fi
+ 
+ # Check whether --enable-newlib-multithread or --disable-newlib-multithread was given.
+ if test "${enable_newlib_multithread+set}" = set; then
+   enableval="$enable_newlib_multithread"
+   case "${enableval}" in
+   yes) newlib_multithread=yes ;;
+   no)  newlib_multithread=no ;;
+   *)   { echo "configure: error: bad value ${enableval} for newlib-multithread option" 1>&2; exit 1; } ;;
+  esac
+ else
+   newlib_multithread=yes
+ fi
+ 
+ # Check whether --enable-newlib-iconv or --disable-newlib-iconv was given.
+ if test "${enable_newlib_iconv+set}" = set; then
+   enableval="$enable_newlib_iconv"
+   if test "${newlib_iconv+set}" != set; then
+    case "${enableval}" in
+      yes) newlib_iconv=yes ;;
+      no)  newlib_iconv=no ;;
+      *)   { echo "configure: error: bad value ${enableval} for newlib-iconv option" 1>&2; exit 1; } ;;
+    esac
+  fi
+ else
+   newlib_iconv=${newlib_iconv}
+ fi
+ 
+ # Check whether --enable-newlib-elix-level or --disable-newlib-elix-level was given.
+ if test "${enable_newlib_elix_level+set}" = set; then
+   enableval="$enable_newlib_elix_level"
+   case "${enableval}" in
+   0)   newlib_elix_level=0 ;;
+   1)   newlib_elix_level=1 ;;
+   2)   newlib_elix_level=2 ;;
+   3)   newlib_elix_level=3 ;;
+   4)   newlib_elix_level=4 ;;
+   *)   { echo "configure: error: bad value ${enableval} for newlib-elix-level option" 1>&2; exit 1; } ;;
+  esac
+ else
+   newlib_elix_level=0
+ fi
+ 
+ # Check whether --enable-newlib-io-float or --disable-newlib-io-float was given.
+ if test "${enable_newlib_io_float+set}" = set; then
+   enableval="$enable_newlib_io_float"
+   case "${enableval}" in
+   yes) newlib_io_float=yes ;;
+   no)  newlib_io_float=no ;;
+   *)   { echo "configure: error: bad value ${enableval} for newlib-io-float option" 1>&2; exit 1; } ;;
+  esac
+ else
+   newlib_io_float=yes
+ fi
+ 
+ # Check whether --enable-newlib-supplied-syscalls or --disable-newlib-supplied-syscalls was given.
+ if test "${enable_newlib_supplied_syscalls+set}" = set; then
+   enableval="$enable_newlib_supplied_syscalls"
+   case "${enableval}" in
+   yes) newlib_may_supply_syscalls=yes ;;
+   no)  newlib_may_supply_syscalls=no ;;
+   *)   { echo "configure: error: bad value ${enableval} for newlib-supplied-syscalls option" 1>&2; exit 1; } ;;
+  esac
+ else
+   newlib_may_supply_syscalls=yes
+ fi
+ 
+ 
+ 
+ if test x${newlib_may_supply_syscalls} = xyes; then
+   MAY_SUPPLY_SYSCALLS_TRUE=
+   MAY_SUPPLY_SYSCALLS_FALSE='#'
+ else
+   MAY_SUPPLY_SYSCALLS_TRUE='#'
+   MAY_SUPPLY_SYSCALLS_FALSE=
+ fi
+ 
+ 
+ test -z "${with_target_subdir}" && with_target_subdir=.
+ 
+ if test "${srcdir}" = "."; then
+   if test "${with_target_subdir}" != "."; then
+     newlib_basedir="${srcdir}/${with_multisrctop}../../../.."
+   else
+     newlib_basedir="${srcdir}/${with_multisrctop}../../.."
+   fi
+ else
+   newlib_basedir="${srcdir}/../../.."
+ fi
+ 
+ 
+ 
+ # Do some error checking and defaulting for the host and target type.
+ # The inputs are:
+ #    configure --host=HOST --target=TARGET --build=BUILD NONOPT
+ #
+ # The rules are:
+ # 1. You are not allowed to specify --host, --target, and nonopt at the
+ #    same time.
+ # 2. Host defaults to nonopt.
+ # 3. If nonopt is not specified, then host defaults to the current host,
+ #    as determined by config.guess.
+ # 4. Target and build default to nonopt.
+ # 5. If nonopt is not specified, then target and build default to host.
+ 
+ # The aliases save the names the user supplied, while $host etc.
+ # will get canonicalized.
+ case $host---$target---$nonopt in
+ NONE---*---* | *---NONE---* | *---*---NONE) ;;
+ *) { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; } ;;
+ esac
+ 
+ 
+ # Make sure we can run config.sub.
+ if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
+ else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
+ fi
+ 
+ echo $ac_n "checking host system type""... $ac_c" 1>&6
+ echo "configure:936: checking host system type" >&5
+ 
+ host_alias=$host
+ case "$host_alias" in
+ NONE)
+   case $nonopt in
+   NONE)
+     if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
+     else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
+     fi ;;
+   *) host_alias=$nonopt ;;
+   esac ;;
+ esac
+ 
+ host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
+ host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+ host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+ host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ echo "$ac_t""$host" 1>&6
+ 
+ echo $ac_n "checking target system type""... $ac_c" 1>&6
+ echo "configure:957: checking target system type" >&5
+ 
+ target_alias=$target
+ case "$target_alias" in
+ NONE)
+   case $nonopt in
+   NONE) target_alias=$host_alias ;;
+   *) target_alias=$nonopt ;;
+   esac ;;
+ esac
+ 
+ target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
+ target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+ target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+ target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ echo "$ac_t""$target" 1>&6
+ 
+ echo $ac_n "checking build system type""... $ac_c" 1>&6
+ echo "configure:975: checking build system type" >&5
+ 
+ build_alias=$build
+ case "$build_alias" in
+ NONE)
+   case $nonopt in
+   NONE) build_alias=$host_alias ;;
+   *) build_alias=$nonopt ;;
+   esac ;;
+ esac
+ 
+ build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
+ build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+ build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+ build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ echo "$ac_t""$build" 1>&6
+ 
+ test "$host_alias" != "$target_alias" &&
+   test "$program_prefix$program_suffix$program_transform_name" = \
+     NONENONEs,x,x, &&
+   program_prefix=${target_alias}-
+ 
+ 
+ 
+ PACKAGE=newlib
+ 
+ VERSION=1.14.0
+ 
+ if test "`cd $srcdir && pwd`" != "`pwd`" && test -f $srcdir/config.status; then
+   { echo "configure: error: source directory already configured; run "make distclean" there first" 1>&2; exit 1; }
+ fi
+ cat >> confdefs.h <<EOF
+ #define PACKAGE "$PACKAGE"
+ EOF
+ 
+ cat >> confdefs.h <<EOF
+ #define VERSION "$VERSION"
+ EOF
+ 
+ 
+ 
+ missing_dir=`cd $ac_aux_dir && pwd`
+ echo $ac_n "checking for working aclocal-${am__api_version}""... $ac_c" 1>&6
+ echo "configure:1018: checking for working aclocal-${am__api_version}" >&5
+ # Run test in a subshell; some versions of sh will print an error if
+ # an executable is not found, even if stderr is redirected.
+ # Redirect stdin to placate older versions of autoconf.  Sigh.
+ if (aclocal-${am__api_version} --version) < /dev/null > /dev/null 2>&1; then
+    ACLOCAL=aclocal-${am__api_version}
+    echo "$ac_t""found" 1>&6
+ else
+    ACLOCAL="$missing_dir/missing aclocal-${am__api_version}"
+    echo "$ac_t""missing" 1>&6
+ fi
+ 
+ echo $ac_n "checking for working autoconf""... $ac_c" 1>&6
+ echo "configure:1031: checking for working autoconf" >&5
+ # Run test in a subshell; some versions of sh will print an error if
+ # an executable is not found, even if stderr is redirected.
+ # Redirect stdin to placate older versions of autoconf.  Sigh.
+ if (autoconf --version) < /dev/null > /dev/null 2>&1; then
+    AUTOCONF=autoconf
+    echo "$ac_t""found" 1>&6
+ else
+    AUTOCONF="$missing_dir/missing autoconf"
+    echo "$ac_t""missing" 1>&6
+ fi
+ 
+ echo $ac_n "checking for working automake-${am__api_version}""... $ac_c" 1>&6
+ echo "configure:1044: checking for working automake-${am__api_version}" >&5
+ # Run test in a subshell; some versions of sh will print an error if
+ # an executable is not found, even if stderr is redirected.
+ # Redirect stdin to placate older versions of autoconf.  Sigh.
+ if (automake-${am__api_version} --version) < /dev/null > /dev/null 2>&1; then
+    AUTOMAKE=automake-${am__api_version}
+    echo "$ac_t""found" 1>&6
+ else
+    AUTOMAKE="$missing_dir/missing automake-${am__api_version}"
+    echo "$ac_t""missing" 1>&6
+ fi
+ 
+ echo $ac_n "checking for working autoheader""... $ac_c" 1>&6
+ echo "configure:1057: checking for working autoheader" >&5
+ # Run test in a subshell; some versions of sh will print an error if
+ # an executable is not found, even if stderr is redirected.
+ # Redirect stdin to placate older versions of autoconf.  Sigh.
+ if (autoheader --version) < /dev/null > /dev/null 2>&1; then
+    AUTOHEADER=autoheader
+    echo "$ac_t""found" 1>&6
+ else
+    AUTOHEADER="$missing_dir/missing autoheader"
+    echo "$ac_t""missing" 1>&6
+ fi
+ 
+ echo $ac_n "checking for working makeinfo""... $ac_c" 1>&6
+ echo "configure:1070: checking for working makeinfo" >&5
+ # Run test in a subshell; some versions of sh will print an error if
+ # an executable is not found, even if stderr is redirected.
+ # Redirect stdin to placate older versions of autoconf.  Sigh.
+ if (makeinfo --version) < /dev/null > /dev/null 2>&1; then
+    MAKEINFO=makeinfo
+    echo "$ac_t""found" 1>&6
+ else
+    MAKEINFO="$missing_dir/missing makeinfo"
+    echo "$ac_t""missing" 1>&6
+ fi
+ 
+ 
+ 
+ # FIXME: We temporarily define our own version of AC_PROG_CC.  This is
+ # copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We
+ # are probably using a cross compiler, which will not be able to fully
+ # link an executable.  This should really be fixed in autoconf
+ # itself.
+ 
+ 
+ 
+ # Extract the first word of "gcc", so it can be a program name with args.
+ set dummy gcc; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:1095: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$CC"; then
+   ac_cv_prog_CC="$CC" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       ac_cv_prog_CC="gcc"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+ fi
+ fi
+ CC="$ac_cv_prog_CC"
+ if test -n "$CC"; then
+   echo "$ac_t""$CC" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+ if test -z "$CC"; then
+   # Extract the first word of "cc", so it can be a program name with args.
+ set dummy cc; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:1125: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$CC"; then
+   ac_cv_prog_CC="$CC" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_prog_rejected=no
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
+         ac_prog_rejected=yes
+ 	continue
+       fi
+       ac_cv_prog_CC="cc"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+ if test $ac_prog_rejected = yes; then
+   # We found a bogon in the path, so make sure we never use it.
+   set dummy $ac_cv_prog_CC
+   shift
+   if test $# -gt 0; then
+     # We chose a different compiler from the bogus one.
+     # However, it has the same basename, so the bogon will be chosen
+     # first if we set CC to just the basename; use the full file name.
+     shift
+     set dummy "$ac_dir/$ac_word" "$@"
+     shift
+     ac_cv_prog_CC="$@"
+   fi
+ fi
+ fi
+ fi
+ CC="$ac_cv_prog_CC"
+ if test -n "$CC"; then
+   echo "$ac_t""$CC" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+   test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
+ fi
+ 
+ echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
+ echo "configure:1174: checking whether we are using GNU C" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   cat > conftest.c <<EOF
+ #ifdef __GNUC__
+   yes;
+ #endif
+ EOF
+ if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1183: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
+   ac_cv_prog_gcc=yes
+ else
+   ac_cv_prog_gcc=no
+ fi
+ fi
+ 
+ echo "$ac_t""$ac_cv_prog_gcc" 1>&6
+ 
+ if test $ac_cv_prog_gcc = yes; then
+   GCC=yes
+   ac_test_CFLAGS="${CFLAGS+set}"
+   ac_save_CFLAGS="$CFLAGS"
+   CFLAGS=
+   echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
+ echo "configure:1198: checking whether ${CC-cc} accepts -g" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   echo 'void f(){}' > conftest.c
+ if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
+   ac_cv_prog_cc_g=yes
+ else
+   ac_cv_prog_cc_g=no
+ fi
+ rm -f conftest*
+ 
+ fi
+ 
+ echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
+   if test "$ac_test_CFLAGS" = set; then
+     CFLAGS="$ac_save_CFLAGS"
+   elif test $ac_cv_prog_cc_g = yes; then
+     CFLAGS="-g -O2"
+   else
+     CFLAGS="-O2"
+   fi
+ else
+   GCC=
+   test "${CFLAGS+set}" = set || CFLAGS="-g"
+ fi
+ 
+ 
+ # Extract the first word of "${ac_tool_prefix}as", so it can be a program name with args.
+ set dummy ${ac_tool_prefix}as; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:1229: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_AS'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$AS"; then
+   ac_cv_prog_AS="$AS" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       ac_cv_prog_AS="${ac_tool_prefix}as"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+   test -z "$ac_cv_prog_AS" && ac_cv_prog_AS="as"
+ fi
+ fi
+ AS="$ac_cv_prog_AS"
+ if test -n "$AS"; then
+   echo "$ac_t""$AS" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+ 
+ 
+ # Extract the first word of "${ac_tool_prefix}ar", so it can be a program name with args.
+ set dummy ${ac_tool_prefix}ar; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:1261: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$AR"; then
+   ac_cv_prog_AR="$AR" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       ac_cv_prog_AR="${ac_tool_prefix}ar"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+   test -z "$ac_cv_prog_AR" && ac_cv_prog_AR="ar"
+ fi
+ fi
+ AR="$ac_cv_prog_AR"
+ if test -n "$AR"; then
+   echo "$ac_t""$AR" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+ 
+ 
+ # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
+ set dummy ${ac_tool_prefix}ranlib; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:1293: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$RANLIB"; then
+   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+ fi
+ fi
+ RANLIB="$ac_cv_prog_RANLIB"
+ if test -n "$RANLIB"; then
+   echo "$ac_t""$RANLIB" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+ 
+ if test -z "$ac_cv_prog_RANLIB"; then
+ if test -n "$ac_tool_prefix"; then
+   # Extract the first word of "ranlib", so it can be a program name with args.
+ set dummy ranlib; ac_word=$2
+ echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
+ echo "configure:1325: checking for $ac_word" >&5
+ if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test -n "$RANLIB"; then
+   ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
+ else
+   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
+   ac_dummy="$PATH"
+   for ac_dir in $ac_dummy; do
+     test -z "$ac_dir" && ac_dir=.
+     if test -f $ac_dir/$ac_word; then
+       ac_cv_prog_RANLIB="ranlib"
+       break
+     fi
+   done
+   IFS="$ac_save_ifs"
+   test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
+ fi
+ fi
+ RANLIB="$ac_cv_prog_RANLIB"
+ if test -n "$RANLIB"; then
+   echo "$ac_t""$RANLIB" 1>&6
+ else
+   echo "$ac_t""no" 1>&6
+ fi
+ 
+ else
+   RANLIB=":"
+ fi
+ fi
+ 
+ 
+ # Find a good install program.  We prefer a C program (faster),
+ # so one script is as good as another.  But avoid the broken or
+ # incompatible versions:
+ # SysV /etc/install, /usr/sbin/install
+ # SunOS /usr/etc/install
+ # IRIX /sbin/install
+ # AIX /bin/install
+ # AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+ # AFS /usr/afsws/bin/install, which mishandles nonexistent args
+ # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+ # ./install, which can be erroneously created by make from ./install.sh.
+ echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
+ echo "configure:1370: checking for a BSD compatible install" >&5
+ if test -z "$INSTALL"; then
+ if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+     IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
+   for ac_dir in $PATH; do
+     # Account for people who put trailing slashes in PATH elements.
+     case "$ac_dir/" in
+     /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+     *)
+       # OSF1 and SCO ODT 3.0 have their own names for install.
+       # Don't use installbsd from OSF since it installs stuff as root
+       # by default.
+       for ac_prog in ginstall scoinst install; do
+         if test -f $ac_dir/$ac_prog; then
+ 	  if test $ac_prog = install &&
+             grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+ 	    # AIX install.  It has an incompatible calling convention.
+ 	    :
+ 	  else
+ 	    ac_cv_path_install="$ac_dir/$ac_prog -c"
+ 	    break 2
+ 	  fi
+ 	fi
+       done
+       ;;
+     esac
+   done
+   IFS="$ac_save_IFS"
+ 
+ fi
+   if test "${ac_cv_path_install+set}" = set; then
+     INSTALL="$ac_cv_path_install"
+   else
+     # As a last resort, use the slow shell script.  We don't cache a
+     # path for INSTALL within a source directory, because that will
+     # break other packages using the cache if that directory is
+     # removed, or if the path is relative.
+     INSTALL="$ac_install_sh"
+   fi
+ fi
+ echo "$ac_t""$INSTALL" 1>&6
+ 
+ # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
+ # It thinks the first close brace ends the variable substitution.
+ test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
+ 
+ test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'
+ 
+ test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
+ 
+ 
+ echo $ac_n "checking whether to enable maintainer-specific portions of Makefiles""... $ac_c" 1>&6
+ echo "configure:1424: checking whether to enable maintainer-specific portions of Makefiles" >&5
+     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.
+ if test "${enable_maintainer_mode+set}" = set; then
+   enableval="$enable_maintainer_mode"
+   USE_MAINTAINER_MODE=$enableval
+ else
+   USE_MAINTAINER_MODE=no
+ fi
+ 
+   echo "$ac_t""$USE_MAINTAINER_MODE" 1>&6
+   
+ 
+ if test $USE_MAINTAINER_MODE = yes; then
+   MAINTAINER_MODE_TRUE=
+   MAINTAINER_MODE_FALSE='#'
+ else
+   MAINTAINER_MODE_TRUE='#'
+   MAINTAINER_MODE_FALSE=
+ fi
+   MAINT=$MAINTAINER_MODE_TRUE
+   
+ 
+ 
+ # We need AC_EXEEXT to keep automake happy in cygnus mode.  However,
+ # at least currently, we never actually build a program, so we never
+ # need to use $(EXEEXT).  Moreover, the test for EXEEXT normally
+ # fails, because we are probably configuring with a cross compiler
+ # which can't create executables.  So we include AC_EXEEXT to keep
+ # automake happy, but we don't execute it, since we don't care about
+ # the result.
+ if false; then
+   
+ 
+ echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
+ echo "configure:1458: checking for executable suffix" >&5
+ if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
+   echo $ac_n "(cached) $ac_c" 1>&6
+ else
+   if test "$CYGWIN" = yes || test "$MINGW32" = yes; then
+   ac_cv_exeext=.exe
+ else
+   rm -f conftest*
+   echo 'int main () { return 0; }' > conftest.$ac_ext
+   ac_cv_exeext=
+   if { (eval echo configure:1468: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
+     for file in conftest.*; do
+       case $file in
+       *.c | *.o | *.obj) ;;
+       *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;
+       esac
+     done
+   else
+     { echo "configure: error: installation or configuration problem: compiler cannot create executables." 1>&2; exit 1; }
+   fi
+   rm -f conftest*
+   test x"${ac_cv_exeext}" = x && ac_cv_exeext=no
+ fi
+ fi
+ 
+ EXEEXT=""
+ test x"${ac_cv_exeext}" != xno && EXEEXT=${ac_cv_exeext}
+ echo "$ac_t""${ac_cv_exeext}" 1>&6
+ ac_exeext=$EXEEXT
+ 
+ fi
+ 
+ . ${newlib_basedir}/configure.host
+ 
+ newlib_cflags="${newlib_cflags} -fno-builtin"
+ 
+ NEWLIB_CFLAGS=${newlib_cflags}
+ 
+ 
+ LDFLAGS=${ldflags}
+ 
+ 
+ 
+ 
+ if test x${newlib_elix_level} = x0; then
+   ELIX_LEVEL_0_TRUE=
+   ELIX_LEVEL_0_FALSE='#'
+ else
+   ELIX_LEVEL_0_TRUE='#'
+   ELIX_LEVEL_0_FALSE=
+ fi
+ 
+ 
+ if test x${newlib_elix_level} = x1; then
+   ELIX_LEVEL_1_TRUE=
+   ELIX_LEVEL_1_FALSE='#'
+ else
+   ELIX_LEVEL_1_TRUE='#'
+   ELIX_LEVEL_1_FALSE=
+ fi
+ 
+ 
+ if test x${newlib_elix_level} = x2; then
+   ELIX_LEVEL_2_TRUE=
+   ELIX_LEVEL_2_FALSE='#'
+ else
+   ELIX_LEVEL_2_TRUE='#'
+   ELIX_LEVEL_2_FALSE=
+ fi
+ 
+ 
+ if test x${newlib_elix_level} = x3; then
+   ELIX_LEVEL_3_TRUE=
+   ELIX_LEVEL_3_FALSE='#'
+ else
+   ELIX_LEVEL_3_TRUE='#'
+   ELIX_LEVEL_3_FALSE=
+ fi
+ 
+ 
+ if test x${newlib_elix_level} = x4; then
+   ELIX_LEVEL_4_TRUE=
+   ELIX_LEVEL_4_FALSE='#'
+ else
+   ELIX_LEVEL_4_TRUE='#'
+   ELIX_LEVEL_4_FALSE=
+ fi
+ 
+ 
+ 
+ if test x${use_libtool} = xyes; then
+   USE_LIBTOOL_TRUE=
+   USE_LIBTOOL_FALSE='#'
+ else
+   USE_LIBTOOL_TRUE='#'
+   USE_LIBTOOL_FALSE=
+ fi
+ 
+ # Hard-code OBJEXT.  Normally it is set by AC_OBJEXT, but we
+ # use oext, which is set in configure.host based on the target platform.
+ OBJEXT=${oext}
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ 
+ trap '' 1 2 15
+ cat > confcache <<\EOF
+ # This file is a shell script that caches the results of configure
+ # tests run on this system so they can be shared between configure
+ # scripts and configure runs.  It is not useful on other systems.
+ # If it contains results you don't want to keep, you may remove or edit it.
+ #
+ # By default, configure uses ./config.cache as the cache file,
+ # creating it if it does not exist already.  You can give configure
+ # the --cache-file=FILE option to use a different cache file; that is
+ # what configure does when it calls configure scripts in
+ # subdirectories, so they share the cache.
+ # Giving --cache-file=/dev/null disables caching, for debugging configure.
+ # config.status only pays attention to the cache file if you give it the
+ # --recheck option to rerun configure.
+ #
+ EOF
+ # The following way of writing the cache mishandles newlines in values,
+ # but we know of no workaround that is simple, portable, and efficient.
+ # So, don't put newlines in cache variables' values.
+ # Ultrix sh set writes to stderr and can't be redirected directly,
+ # and sets the high bit in the cache file unless we assign to the vars.
+ (set) 2>&1 |
+   case `(ac_space=' '; set | grep ac_space) 2>&1` in
+   *ac_space=\ *)
+     # `set' does not quote correctly, so add quotes (double-quote substitution
+     # turns \\\\ into \\, and sed turns \\ into \).
+     sed -n \
+       -e "s/'/'\\\\''/g" \
+       -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
+     ;;
+   *)
+     # `set' quotes correctly as required by POSIX, so do not add quotes.
+     sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
+     ;;
+   esac >> confcache
+ if cmp -s $cache_file confcache; then
+   :
+ else
+   if test -w $cache_file; then
+     echo "updating cache $cache_file"
+     cat confcache > $cache_file
+   else
+     echo "not updating unwritable cache $cache_file"
+   fi
+ fi
+ rm -f confcache
+ 
+ trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
+ 
+ test "x$prefix" = xNONE && prefix=$ac_default_prefix
+ # Let make expand exec_prefix.
+ test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
+ 
+ # Any assignment to VPATH causes Sun make to only execute
+ # the first set of double-colon rules, so remove it if not needed.
+ # If there is a colon in the path, we need to keep it.
+ if test "x$srcdir" = x.; then
+   ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
+ fi
+ 
+ trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15
+ 
+ # Transform confdefs.h into DEFS.
+ # Protect against shell expansion while executing Makefile rules.
+ # Protect against Makefile macro expansion.
+ #
+ # If the first sed substitution is executed (which looks for macros that
+ # take arguments), then we branch to the quote section.  Otherwise,
+ # look for a macro that doesn't take arguments.
+ cat >confdef2opt.sed <<\_ACEOF
+ t clear
+ : clear
+ s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
+ t quote
+ s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
+ t quote
+ d
+ : quote
+ s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
+ s,\[,\\&,g
+ s,\],\\&,g
+ s,\$,$$,g
+ p
+ _ACEOF
+ # We use echo to avoid assuming a particular line-breaking character.
+ # The extra dot is to prevent the shell from consuming trailing
+ # line-breaks from the sub-command output.  A line-break within
+ # single-quotes doesn't work because, if this script is created in a
+ # platform that uses two characters for line-breaks (e.g., DOS), tr
+ # would break.
+ ac_LF_and_DOT=`echo; echo .`
+ DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
+ rm -f confdef2opt.sed
+ 
+ 
+ # Without the "./", some shells look in PATH for config.status.
+ : ${CONFIG_STATUS=./config.status}
+ 
+ echo creating $CONFIG_STATUS
+ rm -f $CONFIG_STATUS
+ cat > $CONFIG_STATUS <<EOF
+ #! /bin/sh
+ # Generated automatically by configure.
+ # Run this file to recreate the current configuration.
+ # This directory was configured as follows,
+ # on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
+ #
+ # $0 $ac_configure_args
+ #
+ # Compiler output produced by configure, useful for debugging
+ # configure, is in ./config.log if it exists.
+ 
+ ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
+ for ac_option
+ do
+   case "\$ac_option" in
+   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+     echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
+     exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
+   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
+     echo "$CONFIG_STATUS generated by autoconf version 2.13"
+     exit 0 ;;
+   -help | --help | --hel | --he | --h)
+     echo "\$ac_cs_usage"; exit 0 ;;
+   *) echo "\$ac_cs_usage"; exit 1 ;;
+   esac
+ done
+ 
+ ac_given_srcdir=$srcdir
+ ac_given_INSTALL="$INSTALL"
+ 
+ trap 'rm -fr `echo "Makefile" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
+ EOF
+ cat >> $CONFIG_STATUS <<EOF
+ 
+ # Protect against being on the right side of a sed subst in config.status.
+ sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
+  s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
+ $ac_vpsub
+ $extrasub
+ s%@SHELL@%$SHELL%g
+ s%@CFLAGS@%$CFLAGS%g
+ s%@CPPFLAGS@%$CPPFLAGS%g
+ s%@CXXFLAGS@%$CXXFLAGS%g
+ s%@FFLAGS@%$FFLAGS%g
+ s%@DEFS@%$DEFS%g
+ s%@LDFLAGS@%$LDFLAGS%g
+ s%@LIBS@%$LIBS%g
+ s%@exec_prefix@%$exec_prefix%g
+ s%@prefix@%$prefix%g
+ s%@program_transform_name@%$program_transform_name%g
+ s%@bindir@%$bindir%g
+ s%@sbindir@%$sbindir%g
+ s%@libexecdir@%$libexecdir%g
+ s%@datadir@%$datadir%g
+ s%@sysconfdir@%$sysconfdir%g
+ s%@sharedstatedir@%$sharedstatedir%g
+ s%@localstatedir@%$localstatedir%g
+ s%@libdir@%$libdir%g
+ s%@includedir@%$includedir%g
+ s%@oldincludedir@%$oldincludedir%g
+ s%@infodir@%$infodir%g
+ s%@mandir@%$mandir%g
+ s%@MAY_SUPPLY_SYSCALLS_TRUE@%$MAY_SUPPLY_SYSCALLS_TRUE%g
+ s%@MAY_SUPPLY_SYSCALLS_FALSE@%$MAY_SUPPLY_SYSCALLS_FALSE%g
+ s%@newlib_basedir@%$newlib_basedir%g
+ s%@host@%$host%g
+ s%@host_alias@%$host_alias%g
+ s%@host_cpu@%$host_cpu%g
+ s%@host_vendor@%$host_vendor%g
+ s%@host_os@%$host_os%g
+ s%@target@%$target%g
+ s%@target_alias@%$target_alias%g
+ s%@target_cpu@%$target_cpu%g
+ s%@target_vendor@%$target_vendor%g
+ s%@target_os@%$target_os%g
+ s%@build@%$build%g
+ s%@build_alias@%$build_alias%g
+ s%@build_cpu@%$build_cpu%g
+ s%@build_vendor@%$build_vendor%g
+ s%@build_os@%$build_os%g
+ s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g
+ s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g
+ s%@INSTALL_DATA@%$INSTALL_DATA%g
+ s%@PACKAGE@%$PACKAGE%g
+ s%@VERSION@%$VERSION%g
+ s%@ACLOCAL@%$ACLOCAL%g
+ s%@AUTOCONF@%$AUTOCONF%g
+ s%@AUTOMAKE@%$AUTOMAKE%g
+ s%@AUTOHEADER@%$AUTOHEADER%g
+ s%@MAKEINFO@%$MAKEINFO%g
+ s%@SET_MAKE@%$SET_MAKE%g
+ s%@CC@%$CC%g
+ s%@AS@%$AS%g
+ s%@AR@%$AR%g
+ s%@RANLIB@%$RANLIB%g
+ s%@MAINTAINER_MODE_TRUE@%$MAINTAINER_MODE_TRUE%g
+ s%@MAINTAINER_MODE_FALSE@%$MAINTAINER_MODE_FALSE%g
+ s%@MAINT@%$MAINT%g
+ s%@EXEEXT@%$EXEEXT%g
+ s%@NEWLIB_CFLAGS@%$NEWLIB_CFLAGS%g
+ s%@ELIX_LEVEL_0_TRUE@%$ELIX_LEVEL_0_TRUE%g
+ s%@ELIX_LEVEL_0_FALSE@%$ELIX_LEVEL_0_FALSE%g
+ s%@ELIX_LEVEL_1_TRUE@%$ELIX_LEVEL_1_TRUE%g
+ s%@ELIX_LEVEL_1_FALSE@%$ELIX_LEVEL_1_FALSE%g
+ s%@ELIX_LEVEL_2_TRUE@%$ELIX_LEVEL_2_TRUE%g
+ s%@ELIX_LEVEL_2_FALSE@%$ELIX_LEVEL_2_FALSE%g
+ s%@ELIX_LEVEL_3_TRUE@%$ELIX_LEVEL_3_TRUE%g
+ s%@ELIX_LEVEL_3_FALSE@%$ELIX_LEVEL_3_FALSE%g
+ s%@ELIX_LEVEL_4_TRUE@%$ELIX_LEVEL_4_TRUE%g
+ s%@ELIX_LEVEL_4_FALSE@%$ELIX_LEVEL_4_FALSE%g
+ s%@USE_LIBTOOL_TRUE@%$USE_LIBTOOL_TRUE%g
+ s%@USE_LIBTOOL_FALSE@%$USE_LIBTOOL_FALSE%g
+ s%@OBJEXT@%$OBJEXT%g
+ s%@oext@%$oext%g
+ s%@aext@%$aext%g
+ s%@libm_machine_dir@%$libm_machine_dir%g
+ s%@machine_dir@%$machine_dir%g
+ s%@sys_dir@%$sys_dir%g
+ 
+ CEOF
+ EOF
+ 
+ cat >> $CONFIG_STATUS <<\EOF
+ 
+ # Split the substitutions into bite-sized pieces for seds with
+ # small command number limits, like on Digital OSF/1 and HP-UX.
+ ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
+ ac_file=1 # Number of current file.
+ ac_beg=1 # First line for current file.
+ ac_end=$ac_max_sed_cmds # Line after last line for current file.
+ ac_more_lines=:
+ ac_sed_cmds=""
+ while $ac_more_lines; do
+   if test $ac_beg -gt 1; then
+     sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
+   else
+     sed "${ac_end}q" conftest.subs > conftest.s$ac_file
+   fi
+   if test ! -s conftest.s$ac_file; then
+     ac_more_lines=false
+     rm -f conftest.s$ac_file
+   else
+     if test -z "$ac_sed_cmds"; then
+       ac_sed_cmds="sed -f conftest.s$ac_file"
+     else
+       ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
+     fi
+     ac_file=`expr $ac_file + 1`
+     ac_beg=$ac_end
+     ac_end=`expr $ac_end + $ac_max_sed_cmds`
+   fi
+ done
+ if test -z "$ac_sed_cmds"; then
+   ac_sed_cmds=cat
+ fi
+ EOF
+ 
+ cat >> $CONFIG_STATUS <<EOF
+ 
+ CONFIG_FILES=\${CONFIG_FILES-"Makefile"}
+ EOF
+ cat >> $CONFIG_STATUS <<\EOF
+ for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
+   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
+   case "$ac_file" in
+   *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
+        ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
+   *) ac_file_in="${ac_file}.in" ;;
+   esac
+ 
+   # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
+ 
+   # Remove last slash and all that follows it.  Not all systems have dirname.
+   ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
+   if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
+     # The file is in a subdirectory.
+     test ! -d "$ac_dir" && mkdir "$ac_dir"
+     ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
+     # A "../" for each directory in $ac_dir_suffix.
+     ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
+   else
+     ac_dir_suffix= ac_dots=
+   fi
+ 
+   case "$ac_given_srcdir" in
+   .)  srcdir=.
+       if test -z "$ac_dots"; then top_srcdir=.
+       else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
+   /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
+   *) # Relative path.
+     srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
+     top_srcdir="$ac_dots$ac_given_srcdir" ;;
+   esac
+ 
+   case "$ac_given_INSTALL" in
+   [/$]*) INSTALL="$ac_given_INSTALL" ;;
+   *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
+   esac
+ 
+   echo creating "$ac_file"
+   rm -f "$ac_file"
+   configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
+   case "$ac_file" in
+   *Makefile*) ac_comsub="1i\\
+ # $configure_input" ;;
+   *) ac_comsub= ;;
+   esac
+ 
+   ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
+   sed -e "$ac_comsub
+ s%@configure_input@%$configure_input%g
+ s%@srcdir@%$srcdir%g
+ s%@top_srcdir@%$top_srcdir%g
+ s%@INSTALL@%$INSTALL%g
+ " $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
+ fi; done
+ rm -f conftest.s*
+ 
+ EOF
+ cat >> $CONFIG_STATUS <<EOF
+ 
+ EOF
+ cat >> $CONFIG_STATUS <<\EOF
+ 
+ exit 0
+ EOF
+ chmod +x $CONFIG_STATUS
+ rm -fr confdefs* $ac_clean_files
+ test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
+ 
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/configure.in newlib-1.14.0/newlib/libc/sys/es/configure.in
*** newlib-1.14.0.org/newlib/libc/sys/es/configure.in	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/configure.in	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,12 ----
+ dnl This is the newlib/libc/sys/es configure.in file.
+ dnl Process this file with autoconf to produce a configure script.
+ 
+ AC_PREREQ(2.5)
+ AC_INIT(getreent.c)
+ 
+ dnl Can't be done in NEWLIB_CONFIGURE because that confuses automake. 
+ AC_CONFIG_AUX_DIR(../../../..)
+ 
+ NEWLIB_CONFIGURE(../../..)
+ 
+ AC_OUTPUT(Makefile)
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/crt0.S newlib-1.14.0/newlib/libc/sys/es/crt0.S
*** newlib-1.14.0.org/newlib/libc/sys/es/crt0.S	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/crt0.S	2006-08-22 16:44:29.000000000 +0900
***************
*** 0 ****
--- 1,51 ----
+ /*
+  * crt0 startup code for user programs running under es
+  *
+  * Copyright (c) 1998, 2000 Cygnus Support
+  *
+  * The authors hereby grant permission to use, copy, modify, distribute,
+  * and license this software and its documentation for any purpose, provided
+  * that existing copyright notices are retained in all copies and that this
+  * notice is included verbatim in any distributions. No written agreement,
+  * license, or royalty fee is required for any of the authorized uses.
+  * Modifications to this software may be copyrighted by their authors
+  * and need not follow the licensing terms described here, provided that
+  * the new terms are clearly indicated on the first page of each file where
+  * they apply.
+  */
+ 
+         .text
+         .align 4
+ 
+         .globl _start
+ _start:
+         /* Clear the frame pointer.  The ABI suggests this be done, to mark
+            the outermost frame obviously.  */
+         xorl %ebp, %ebp
+ 
+         movl    $__bss_start, %edi
+         movl    $_end, %ecx
+         subl    %edi, %ecx
+         xorl    %eax, %eax
+         rep; stosb
+ 
+         pushl   $_fini
+         call    atexit
+         addl    $4,%esp
+ 
+         call    _init
+ 
+         call    main
+         addl    $8,%esp
+ 
+         /* call exit from the C library so atexit gets called, and the
+          * C++ destructors get run. This calls our exit routine below
+          * when it's done.
+          */
+         pushl   %eax
+         call    exit
+         addl    $4,%esp
+ 
+ 3:
+         hlt
+         jmp     3b
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/getreent.c newlib-1.14.0/newlib/libc/sys/es/getreent.c
*** newlib-1.14.0.org/newlib/libc/sys/es/getreent.c	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/getreent.c	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,26 ----
+ /* default reentrant pointer when multithread enabled */
+ 
+ #include <_ansi.h>
+ #include <reent.h>
+ 
+ /* Note that there is a copy of this in sys/reent.h.  */
+ #ifndef __ATTRIBUTE_IMPURE_PTR__
+ #define __ATTRIBUTE_IMPURE_PTR__
+ #endif
+ 
+ #ifndef __ATTRIBUTE_IMPURE_DATA__
+ #define __ATTRIBUTE_IMPURE_DATA__
+ #endif
+ 
+ static __THREAD struct _reent __ATTRIBUTE_IMPURE_DATA__ impure_data;
+ 
+ struct _reent *
+ __getreent(void)
+ {
+     if (_impure_ptr == 0)
+     {
+         _impure_ptr = &impure_data;
+         _REENT_INIT_PTR(_impure_ptr);
+     }
+     return _impure_ptr;
+ }
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/Makefile.am newlib-1.14.0/newlib/libc/sys/es/Makefile.am
*** newlib-1.14.0.org/newlib/libc/sys/es/Makefile.am	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/Makefile.am	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,14 ----
+ ## Process this file with automake to generate Makefile.in
+ 
+ AUTOMAKE_OPTIONS = cygnus
+ 
+ INCLUDES = $(NEWLIB_CFLAGS) $(CROSS_CFLAGS) $(TARGET_CFLAGS)
+ 
+ noinst_LIBRARIES = lib.a
+ 
+ lib_a_SOURCES = getreent.c
+ 
+ all: crt0.o
+ 
+ ACLOCAL_AMFLAGS = -I ../../..
+ CONFIG_STATUS_DEPENDENCIES = $(newlib_basedir)/configure.host
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/Makefile.in newlib-1.14.0/newlib/libc/sys/es/Makefile.in
*** newlib-1.14.0.org/newlib/libc/sys/es/Makefile.in	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/Makefile.in	2006-08-17 09:16:53.000000000 +0900
***************
*** 0 ****
--- 1,329 ----
+ # Makefile.in generated automatically by automake 1.4-p6 from Makefile.am
+ 
+ # Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.
+ # This Makefile.in is free software; the Free Software Foundation
+ # gives unlimited permission to copy and/or distribute it,
+ # with or without modifications, as long as this notice is preserved.
+ 
+ # This program is distributed in the hope that it will be useful,
+ # but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+ # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ # PARTICULAR PURPOSE.
+ 
+ 
+ SHELL = @SHELL@
+ 
+ srcdir = @srcdir@
+ top_srcdir = @top_srcdir@
+ VPATH = @srcdir@
+ prefix = @prefix@
+ exec_prefix = @exec_prefix@
+ 
+ bindir = @bindir@
+ sbindir = @sbindir@
+ libexecdir = @libexecdir@
+ datadir = @datadir@
+ sysconfdir = @sysconfdir@
+ sharedstatedir = @sharedstatedir@
+ localstatedir = @localstatedir@
+ libdir = @libdir@
+ infodir = @infodir@
+ mandir = @mandir@
+ includedir = @includedir@
+ oldincludedir = /usr/include
+ 
+ DESTDIR =
+ 
+ pkgdatadir = $(datadir)/@PACKAGE@
+ pkglibdir = $(libdir)/@PACKAGE@
+ pkgincludedir = $(includedir)/@PACKAGE@
+ 
+ top_builddir = .
+ 
+ ACLOCAL = @ACLOCAL@
+ AUTOCONF = @AUTOCONF@
+ AUTOMAKE = @AUTOMAKE@
+ AUTOHEADER = @AUTOHEADER@
+ 
+ INSTALL = @INSTALL@
+ INSTALL_PROGRAM = @INSTALL_PROGRAM@ $(AM_INSTALL_PROGRAM_FLAGS)
+ INSTALL_DATA = @INSTALL_DATA@
+ INSTALL_SCRIPT = @INSTALL_SCRIPT@
+ transform = @program_transform_name@
+ 
+ NORMAL_INSTALL = :
+ PRE_INSTALL = :
+ POST_INSTALL = :
+ NORMAL_UNINSTALL = :
+ PRE_UNINSTALL = :
+ POST_UNINSTALL = :
+ build_alias = @build_alias@
+ build_triplet = @build@
+ host_alias = @host_alias@
+ host_triplet = @host@
+ target_alias = @target_alias@
+ target_triplet = @target@
+ AR = @AR@
+ AS = @AS@
+ CC = @CC@
+ CPP = @CPP@
+ EXEEXT = @EXEEXT@
+ LDFLAGS = @LDFLAGS@
+ MAINT = @MAINT@
+ MAKEINFO = @MAKEINFO@
+ NEWLIB_CFLAGS = @NEWLIB_CFLAGS@
+ OBJEXT = @OBJEXT@
+ PACKAGE = @PACKAGE@
+ RANLIB = @RANLIB@
+ VERSION = @VERSION@
+ aext = @aext@
+ libm_machine_dir = @libm_machine_dir@
+ machine_dir = @machine_dir@
+ newlib_basedir = @newlib_basedir@
+ oext = @oext@
+ sys_dir = @sys_dir@
+ 
+ AUTOMAKE_OPTIONS = cygnus
+ 
+ INCLUDES = $(NEWLIB_CFLAGS) $(CROSS_CFLAGS) $(TARGET_CFLAGS)
+ 
+ noinst_LIBRARIES = lib.a
+ 
+ lib_a_SOURCES = getreent.c
+ 
+ ACLOCAL_AMFLAGS = -I ../../..
+ CONFIG_STATUS_DEPENDENCIES = $(newlib_basedir)/configure.host
+ ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+ mkinstalldirs = $(SHELL) $(top_srcdir)/../../../../mkinstalldirs
+ CONFIG_CLEAN_FILES = 
+ LIBRARIES =  $(noinst_LIBRARIES)
+ 
+ 
+ DEFS = @DEFS@ -I. -I$(srcdir) 
+ CPPFLAGS = @CPPFLAGS@
+ LIBS = @LIBS@
+ lib_a_LIBADD = 
+ lib_a_OBJECTS =  getreent.o
+ CFLAGS = @CFLAGS@
+ COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+ CCLD = $(CC)
+ LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
+ DIST_COMMON =  Makefile.am Makefile.in aclocal.m4 configure configure.in
+ 
+ 
+ DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)
+ 
+ TAR = gtar
+ GZIP_ENV = --best
+ SOURCES = $(lib_a_SOURCES)
+ OBJECTS = $(lib_a_OBJECTS)
+ 
+ all: all-redirect
+ .SUFFIXES:
+ .SUFFIXES: .S .c .o .s
+ $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) 
+ 	cd $(top_srcdir) && $(AUTOMAKE) --cygnus Makefile
+ 
+ Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status
+ 	cd $(top_builddir) \
+ 	  && CONFIG_FILES=$@ CONFIG_HEADERS= $(SHELL) ./config.status
+ 
+ $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ configure.in  \
+ 		../../../acinclude.m4 ../../../aclocal.m4 \
+ 		../../../libtool.m4
+ 	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
+ 
+ config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+ 	$(SHELL) ./config.status --recheck
+ $(srcdir)/configure: @MAINTAINER_MODE_TRUE@$(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
+ 	cd $(srcdir) && $(AUTOCONF)
+ 
+ mostlyclean-noinstLIBRARIES:
+ 
+ clean-noinstLIBRARIES:
+ 	-test -z "$(noinst_LIBRARIES)" || rm -f $(noinst_LIBRARIES)
+ 
+ distclean-noinstLIBRARIES:
+ 
+ maintainer-clean-noinstLIBRARIES:
+ 
+ .c.o:
+ 	$(COMPILE) -c $<
+ 
+ .s.o:
+ 	$(COMPILE) -c $<
+ 
+ .S.o:
+ 	$(COMPILE) -c $<
+ 
+ mostlyclean-compile:
+ 	-rm -f *.o core *.core
+ 
+ clean-compile:
+ 
+ distclean-compile:
+ 	-rm -f *.tab.c
+ 
+ maintainer-clean-compile:
+ 
+ lib.a: $(lib_a_OBJECTS) $(lib_a_DEPENDENCIES)
+ 	-rm -f lib.a
+ 	$(AR) cru lib.a $(lib_a_OBJECTS) $(lib_a_LIBADD)
+ 	$(RANLIB) lib.a
+ 
+ tags: TAGS
+ 
+ ID: $(HEADERS) $(SOURCES) $(LISP)
+ 	list='$(SOURCES) $(HEADERS)'; \
+ 	unique=`for i in $$list; do echo $$i; done | \
+ 	  awk '    { files[$$0] = 1; } \
+ 	       END { for (i in files) print i; }'`; \
+ 	here=`pwd` && cd $(srcdir) \
+ 	  && mkid -f$$here/ID $$unique $(LISP)
+ 
+ TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) $(LISP)
+ 	tags=; \
+ 	here=`pwd`; \
+ 	list='$(SOURCES) $(HEADERS)'; \
+ 	unique=`for i in $$list; do echo $$i; done | \
+ 	  awk '    { files[$$0] = 1; } \
+ 	       END { for (i in files) print i; }'`; \
+ 	test -z "$(ETAGS_ARGS)$$unique$(LISP)$$tags" \
+ 	  || (cd $(srcdir) && etags $(ETAGS_ARGS) $$tags  $$unique $(LISP) -o $$here/TAGS)
+ 
+ mostlyclean-tags:
+ 
+ clean-tags:
+ 
+ distclean-tags:
+ 	-rm -f TAGS ID
+ 
+ maintainer-clean-tags:
+ 
+ distdir = $(PACKAGE)-$(VERSION)
+ top_distdir = $(distdir)
+ 
+ # This target untars the dist file and tries a VPATH configuration.  Then
+ # it guarantees that the distribution is self-contained by making another
+ # tarfile.
+ distcheck: dist
+ 	-rm -rf $(distdir)
+ 	GZIP=$(GZIP_ENV) $(TAR) zxf $(distdir).tar.gz
+ 	mkdir $(distdir)/=build
+ 	mkdir $(distdir)/=inst
+ 	dc_install_base=`cd $(distdir)/=inst && pwd`; \
+ 	cd $(distdir)/=build \
+ 	  && ../configure --srcdir=.. --prefix=$$dc_install_base \
+ 	  && $(MAKE) $(AM_MAKEFLAGS) \
+ 	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
+ 	  && $(MAKE) $(AM_MAKEFLAGS) check \
+ 	  && $(MAKE) $(AM_MAKEFLAGS) install \
+ 	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
+ 	  && $(MAKE) $(AM_MAKEFLAGS) dist
+ 	-rm -rf $(distdir)
+ 	@banner="$(distdir).tar.gz is ready for distribution"; \
+ 	dashes=`echo "$$banner" | sed s/./=/g`; \
+ 	echo "$$dashes"; \
+ 	echo "$$banner"; \
+ 	echo "$$dashes"
+ dist: distdir
+ 	-chmod -R a+r $(distdir)
+ 	GZIP=$(GZIP_ENV) $(TAR) chozf $(distdir).tar.gz $(distdir)
+ 	-rm -rf $(distdir)
+ dist-all: distdir
+ 	-chmod -R a+r $(distdir)
+ 	GZIP=$(GZIP_ENV) $(TAR) chozf $(distdir).tar.gz $(distdir)
+ 	-rm -rf $(distdir)
+ distdir: $(DISTFILES)
+ 	-rm -rf $(distdir)
+ 	mkdir $(distdir)
+ 	-chmod 777 $(distdir)
+ 	@for file in $(DISTFILES); do \
+ 	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+ 	  if test -d $$d/$$file; then \
+ 	    cp -pr $$d/$$file $(distdir)/$$file; \
+ 	  else \
+ 	    test -f $(distdir)/$$file \
+ 	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
+ 	    || cp -p $$d/$$file $(distdir)/$$file || :; \
+ 	  fi; \
+ 	done
+ info-am:
+ info: info-am
+ dvi-am:
+ dvi: dvi-am
+ check-am:
+ check: check-am
+ installcheck-am:
+ installcheck: installcheck-am
+ install-info-am: 
+ install-info: install-info-am
+ install-exec-am:
+ install-exec: install-exec-am
+ 
+ install-data-am:
+ install-data: install-data-am
+ 
+ install-am: all-am
+ 	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+ install: install-am
+ uninstall-am:
+ uninstall: uninstall-am
+ all-am: Makefile $(LIBRARIES)
+ all-redirect: all-am
+ install-strip:
+ 	$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install
+ installdirs:
+ 
+ 
+ mostlyclean-generic:
+ 
+ clean-generic:
+ 
+ distclean-generic:
+ 	-rm -f Makefile $(CONFIG_CLEAN_FILES)
+ 	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
+ 
+ maintainer-clean-generic:
+ mostlyclean-am:  mostlyclean-noinstLIBRARIES mostlyclean-compile \
+ 		mostlyclean-tags mostlyclean-generic
+ 
+ mostlyclean: mostlyclean-am
+ 
+ clean-am:  clean-noinstLIBRARIES clean-compile clean-tags clean-generic \
+ 		mostlyclean-am
+ 
+ clean: clean-am
+ 
+ distclean-am:  distclean-noinstLIBRARIES distclean-compile \
+ 		distclean-tags distclean-generic clean-am
+ 
+ distclean: distclean-am
+ 	-rm -f config.status
+ 
+ maintainer-clean-am:  maintainer-clean-noinstLIBRARIES \
+ 		maintainer-clean-compile maintainer-clean-tags \
+ 		maintainer-clean-generic distclean-am
+ 	@echo "This command is intended for maintainers to use;"
+ 	@echo "it deletes files that may require special tools to rebuild."
+ 
+ maintainer-clean: maintainer-clean-am
+ 	-rm -f config.status
+ 
+ .PHONY: mostlyclean-noinstLIBRARIES distclean-noinstLIBRARIES \
+ clean-noinstLIBRARIES maintainer-clean-noinstLIBRARIES \
+ mostlyclean-compile distclean-compile clean-compile \
+ maintainer-clean-compile tags mostlyclean-tags distclean-tags \
+ clean-tags maintainer-clean-tags distdir info-am info dvi-am dvi check \
+ check-am installcheck-am installcheck install-info-am install-info \
+ install-exec-am install-exec install-data-am install-data install-am \
+ install uninstall-am uninstall all-redirect all-am all installdirs \
+ mostlyclean-generic distclean-generic clean-generic \
+ maintainer-clean-generic clean mostlyclean distclean maintainer-clean
+ 
+ 
+ all: crt0.o
+ 
+ # Tell versions [3.59,3.63) of GNU make to not export all variables.
+ # Otherwise a system limit (for SysV at least) may be exceeded.
+ .NOEXPORT:
diff -bcrN newlib-1.14.0.org/newlib/libc/sys/es/sys/lock.h newlib-1.14.0/newlib/libc/sys/es/sys/lock.h
*** newlib-1.14.0.org/newlib/libc/sys/es/sys/lock.h	1970-01-01 09:00:00.000000000 +0900
--- newlib-1.14.0/newlib/libc/sys/es/sys/lock.h	2007-07-24 13:51:33.000000000 +0900
***************
*** 0 ****
--- 1,66 ----
+ #ifndef __SYS_LOCK_H__
+ #define __SYS_LOCK_H__
+ 
+ #ifdef __cplusplus
+ extern "C" {
+ #endif // __cplusplus
+ 
+ #ifndef ES_ONCE_INIT
+ 
+ typedef struct esOnceControl
+ {
+     int  done;
+     long started;
+ } esOnceControl;
+ 
+ #define ES_ONCE_INIT {0, -1}
+ 
+ int   esOnce(esOnceControl* control, void (*func)(void));
+ 
+ int   esCreateThreadKey(unsigned int* key, void (*dtor)(void*));
+ int   esDeleteThreadKey(unsigned int key);
+ void* esGetThreadSpecific(unsigned int key);
+ int   esSetThreadSpecific(unsigned int key, const void* ptr);
+ void  esDeallocateSpecific(void);
+ 
+ typedef struct esMonitor
+ {
+     void* monitor;
+ } esMonitor;
+ 
+ void esCreateMonitor(esMonitor* monitor);
+ void esLockMonitor(esMonitor* monitor);
+ int  esTryLockMonitor(esMonitor* monitor);
+ void esUnlockMonitor(esMonitor* monitor);
+ 
+ #endif  // ES_ONCE_INIT
+ 
+ typedef esMonitor   _LOCK_T;
+ typedef esMonitor   _LOCK_RECURSIVE_T;
+ 
+ #define __LOCK_INIT(class,lock) \
+     class _LOCK_T lock; \
+     class void lock ## _constructor (void) __attribute__ ((constructor)); \
+     class void lock ## _constructor (void) \
+     { __lock_init(lock); }
+ #define __LOCK_INIT_RECURSIVE(class,lock) \
+     class _LOCK_RECURSIVE_T lock; \
+     class void lock ## _constructor (void) __attribute__ ((constructor)); \
+     class void lock ## _constructor (void) \
+     { __lock_init_recursive(lock); }
+ #define __lock_init(lock) (esCreateMonitor(&lock))
+ #define __lock_init_recursive(lock) (esCreateMonitor(&lock))
+ #define __lock_close(lock) (0)
+ #define __lock_close_recursive(lock) (0)
+ #define __lock_acquire(lock) (lock.monitor ? esLockMonitor(&lock) : 0)
+ #define __lock_acquire_recursive(lock) (lock.monitor ? esLockMonitor(&lock) : 0)
+ #define __lock_try_acquire(lock) (lock.monitor ? esTryLockMonitor(&lock) : 0)
+ #define __lock_try_acquire_recursive(lock) (lock.monitor ? esTryLockMonitor(&lock) : 0)
+ #define __lock_release(lock) (lock.monitor ? esUnlockMonitor(&lock) : 0)
+ #define __lock_release_recursive(lock) (lock.monitor ? esUnlockMonitor(&lock) : 0)
+ 
+ #ifdef __cplusplus
+ }
+ #endif
+ 
+ #endif /* __SYS_LOCK_H__ */
