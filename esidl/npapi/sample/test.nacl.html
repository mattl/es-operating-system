<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>ES NPAPI/NaCl Test</title>
<link rel="stylesheet" type="text/css" href="red.css">
<link rel="stylesheet" type="text/css" href="green.css">
<link rel="stylesheet" type="text/css" href="blue.css">
<script type="text/javascript">
function testFunction(a, b)
{
    alert(a + b);
}

function testToString()
{
    var test = new Test();
    alert(test.toString());
}

function testByte()
{
    var test = new Test();
    alert(test.testByte(127));
}

function testVariadic()
{
    var test = new Test();
    alert(test.testVariadic("a", "b", "c"));
}

function testObject()
{
    var obj = new Object();
    var test = new Test();
    var obj2 = test.testObject(obj);
    alert(obj2 === obj);  // should be true
}

function init()
{
    document.form.toString.addEventListener('click', testToString, true);
    document.form.byte.addEventListener('click', testByte, true);
    document.form.variadic.addEventListener('click', testVariadic, true);
    document.form.object.addEventListener('click', testObject, true);
}
</script>
</head>
<body onload="init()">
<a id="anchor" href="http://ad.example.com/">example</a>
<canvas id="canvas" width="640" height="480"></canvas>
<p class=red>red</p>
<p class=green>green</p>
<p class=blue>blue</p>
<form name="form">
<button type="button" name="toString">toString</button>
<button type="button" name="byte">testByte(127)</button>
<button type="button" name="variadic">testVariadic("a", "b", "c")</button>
<button type="button" name="object">testObject(obj)</button>
</form>
<embed type="application/x-nacl-srpc" width="0" height="0" src="npestest.nexe">
</body>
</html>
