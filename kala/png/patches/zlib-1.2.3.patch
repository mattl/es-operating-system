diff -bcrN zlib-1.2.3.org/Makefile zlib-1.2.3/Makefile
*** zlib-1.2.3.org/Makefile	2009-09-13 21:19:56.136069888 +0800
--- zlib-1.2.3/Makefile	2009-09-13 21:20:45.307594748 +0800
***************
*** 16,22 ****
  # To install in $HOME instead of /usr/local, use:
  #    make install prefix=$HOME
  
! CC=gcc
  
  CFLAGS=-O3 -DUSE_MMAP
  #CFLAGS=-O -DMAX_WBITS=14 -DMAX_MEM_LEVEL=7
--- 16,22 ----
  # To install in $HOME instead of /usr/local, use:
  #    make install prefix=$HOME
  
! CC=i386-pc-es-gcc
  
  CFLAGS=-O3 -DUSE_MMAP
  #CFLAGS=-O -DMAX_WBITS=14 -DMAX_MEM_LEVEL=7
***************
*** 25,40 ****
  #           -Wstrict-prototypes -Wmissing-prototypes
  
  LDFLAGS=-L. libz.a
! LDSHARED=gcc
! CPP=gcc -E
  
  LIBS=libz.a
  SHAREDLIB=libz.so
  SHAREDLIBV=libz.so.1.2.3
  SHAREDLIBM=libz.so.1
  
! AR=ar rc
! RANLIB=ranlib
  TAR=tar
  SHELL=/bin/sh
  EXE=
--- 25,40 ----
  #           -Wstrict-prototypes -Wmissing-prototypes
  
  LDFLAGS=-L. libz.a
! LDSHARED=i386-pc-es-gcc
! CPP=i386-pc-es-gcc -E
  
  LIBS=libz.a
  SHAREDLIB=libz.so
  SHAREDLIBV=libz.so.1.2.3
  SHAREDLIBM=libz.so.1
  
! AR=i386-pc-es-ar rc
! RANLIB=i386-pc-es-ranlib
  TAR=tar
  SHELL=/bin/sh
  EXE=
