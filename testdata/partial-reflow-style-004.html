<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Partial reflow test</title>
<style type="text/css">
.flow-root {
  border: solid blue 2px;
  position: relative;
  height: 200px;
}
.hidden {
  overflow: hidden;
}
div {
  border: solid lime 2px;
  color: gray;
}
.half {
  width: 200px;
  height: 50%;
  background-color: green;
  border: none;
  color: yellow;
}
#t {
  color: black;
}
</style>
<script type="text/javascript">
function doTest() {
  this.addEventListener('keydown', function(event) {
    if (event.keyCode == 13) {
      var t = document.getElementById("t");
      var s = getComputedStyle(t);
      if (s.height == '200px')
          t.style.height = '100px';
      else
          t.style.height = '200px';
    }
  }, false);
}
</script>
</head>
<body onload="doTest()">
<p>Press [Enter] to switch back and forth between '200px' and '100px' with the 'height' property of the blue block.
 The height of the green box must always be a half the height of the blue box.
</p>
<div id='t' class='flow-root'>
<div class='half'>1/2</div>
</div>
</body>
</html>
