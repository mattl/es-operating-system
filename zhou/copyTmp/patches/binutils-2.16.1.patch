diff -crN binutils-2.16.1.org/bfd/config.bfd binutils-2.16.1/bfd/config.bfd
*** binutils-2.16.1.org/bfd/config.bfd	Tue Feb  1 02:18:47 2005
--- binutils-2.16.1/bfd/config.bfd	Wed May 10 09:39:51 2006
***************
*** 473,478 ****
--- 473,482 ----
      targ_defvec=bfd_elf32_i386_vec
      targ_selvecs="i386coff_vec i386aout_vec"
      ;;
+   i[3-7]86-*-es*)
+     targ_defvec=bfd_elf32_i386_vec
+     targ_selvecs="i386coff_vec i386aout_vec"
+     ;;
    i[3-7]86-*-darwin* | i[3-7]86-*-macos10* | i[3-7]86-*-rhapsody*)
      targ_defvec=mach_o_le_vec
      targ_selvecs="mach_o_le_vec mach_o_be_vec mach_o_fat_vec pef_vec pef_xlib_vec sym_vec"
diff -crN binutils-2.16.1.org/config.sub binutils-2.16.1/config.sub
*** binutils-2.16.1.org/config.sub	Wed Jan 19 09:34:56 2005
--- binutils-2.16.1/config.sub	Wed May 10 09:39:51 2006
***************
*** 1171,1177 ****
  	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
  	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
  	      | -chorusos* | -chorusrdb* \
! 	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
  	      | -mingw32* | -linux-gnu* | -linux-uclibc* | -uxpv* | -beos* | -mpeix* | -udk* \
  	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
--- 1171,1177 ----
  	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
  	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
  	      | -chorusos* | -chorusrdb* \
! 	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* | -es* \
  	      | -mingw32* | -linux-gnu* | -linux-uclibc* | -uxpv* | -beos* | -mpeix* | -udk* \
  	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
diff -crN binutils-2.16.1.org/configure binutils-2.16.1/configure
*** binutils-2.16.1.org/configure	Mon Feb 28 23:06:59 2005
--- binutils-2.16.1/configure	Wed May 10 09:46:22 2006
***************
*** 914,920 ****
  # know that we are building the simulator.
  # binutils, gas and ld appear in that order because it makes sense to run
  # "make check" in that particular order.
! host_tools="texinfo byacc flex bison binutils gas ld fixincludes gcc sid sim gdb make patch prms send-pr gprof etc expect dejagnu ash bash bzip2 m4 autoconf automake libtool diff rcs fileutils shellutils time textutils wdiff find uudecode hello tar gzip indent recode release sed utils guile perl gawk findutils gettext zip fastjar gnattools"
  
  # libgcj represents the runtime libraries only used by gcj.
  libgcj="target-libffi \
--- 914,920 ----
  # know that we are building the simulator.
  # binutils, gas and ld appear in that order because it makes sense to run
  # "make check" in that particular order.
! host_tools="byacc flex bison binutils gas ld fixincludes gcc sid sim gdb make patch prms send-pr gprof etc expect dejagnu ash bash bzip2 m4 autoconf automake libtool diff rcs fileutils shellutils time textutils wdiff find uudecode hello tar gzip indent recode release sed utils guile perl gawk findutils gettext zip fastjar gnattools"
  
  # libgcj represents the runtime libraries only used by gcj.
  libgcj="target-libffi \
***************
*** 1212,1217 ****
--- 1212,1220 ----
    *-*-rtems*)
      noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
      ;;
+   *-*-es*)
+     noconfigdirs="$noconfigdirs ${libgcj}"
+     ;;
    *-*-uclinux*)
      noconfigdirs="$noconfigdirs target-newlib target-libgloss target-rda ${libgcj}"
      ;;
***************
*** 1805,1811 ****
    # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1809: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1808,1814 ----
    # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1812: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1835,1841 ****
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1839: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1838,1844 ----
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1842: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1886,1892 ****
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1890: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1889,1895 ----
        # Extract the first word of "cl", so it can be a program name with args.
  set dummy cl; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:1893: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1918,1924 ****
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:1922: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
--- 1921,1927 ----
  fi
  
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
! echo "configure:1925: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
  
  ac_ext=c
  # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
***************
*** 1929,1940 ****
  
  cat > conftest.$ac_ext << EOF
  
! #line 1933 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:1938: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
--- 1932,1943 ----
  
  cat > conftest.$ac_ext << EOF
  
! #line 1936 "configure"
  #include "confdefs.h"
  
  main(){return(0);}
  EOF
! if { (eval echo configure:1941: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    ac_cv_prog_cc_works=yes
    # If we can't run a trivial program, we are probably using a cross compiler.
    if (./conftest; exit) 2>/dev/null; then
***************
*** 1960,1971 ****
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:1964: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:1969: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1963,1974 ----
    { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
  fi
  echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
! echo "configure:1967: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
  echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
  cross_compiling=$ac_cv_prog_cc_cross
  
  echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
! echo "configure:1972: checking whether we are using GNU C" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 1974,1980 ****
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1978: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
--- 1977,1983 ----
    yes;
  #endif
  EOF
! if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1981: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
    ac_cv_prog_gcc=yes
  else
    ac_cv_prog_gcc=no
***************
*** 1993,1999 ****
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:1997: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 1996,2002 ----
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
! echo "configure:2000: checking whether ${CC-cc} accepts -g" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2060,2066 ****
  # Extract the first word of "${ac_tool_prefix}gnatbind", so it can be a program name with args.
  set dummy ${ac_tool_prefix}gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2064: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2063,2069 ----
  # Extract the first word of "${ac_tool_prefix}gnatbind", so it can be a program name with args.
  set dummy ${ac_tool_prefix}gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2067: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2092,2098 ****
    # Extract the first word of "gnatbind", so it can be a program name with args.
  set dummy gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2096: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2095,2101 ----
    # Extract the first word of "gnatbind", so it can be a program name with args.
  set dummy gnatbind; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2099: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2125,2131 ****
  fi
  
  echo $ac_n "checking whether compiler driver understands Ada""... $ac_c" 1>&6
! echo "configure:2129: checking whether compiler driver understands Ada" >&5
  if eval "test \"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2128,2134 ----
  fi
  
  echo $ac_n "checking whether compiler driver understands Ada""... $ac_c" 1>&6
! echo "configure:2132: checking whether compiler driver understands Ada" >&5
  if eval "test \"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2158,2164 ****
  fi
  
  echo $ac_n "checking how to compare bootstrapped objects""... $ac_c" 1>&6
! echo "configure:2162: checking how to compare bootstrapped objects" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2161,2167 ----
  fi
  
  echo $ac_n "checking how to compare bootstrapped objects""... $ac_c" 1>&6
! echo "configure:2165: checking how to compare bootstrapped objects" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2256,2264 ****
  CFLAGS="$CFLAGS $gmpinc"
  # Check GMP actually works
  echo $ac_n "checking for correct version of gmp.h""... $ac_c" 1>&6
! echo "configure:2260: checking for correct version of gmp.h" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2262 "configure"
  #include "confdefs.h"
  #include "gmp.h"
  int main() {
--- 2259,2267 ----
  CFLAGS="$CFLAGS $gmpinc"
  # Check GMP actually works
  echo $ac_n "checking for correct version of gmp.h""... $ac_c" 1>&6
! echo "configure:2263: checking for correct version of gmp.h" >&5
  cat > conftest.$ac_ext <<EOF
! #line 2265 "configure"
  #include "confdefs.h"
  #include "gmp.h"
  int main() {
***************
*** 2269,2275 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2273: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
--- 2272,2278 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2276: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
***************
*** 2282,2293 ****
  
  if test x"$have_gmp" = xyes; then
    echo $ac_n "checking for MPFR""... $ac_c" 1>&6
! echo "configure:2286: checking for MPFR" >&5
  
    saved_LIBS="$LIBS"
    LIBS="$LIBS $gmplibs"
    cat > conftest.$ac_ext <<EOF
! #line 2291 "configure"
  #include "confdefs.h"
  #include <gmp.h>
  #include <mpfr.h>
--- 2285,2296 ----
  
  if test x"$have_gmp" = xyes; then
    echo $ac_n "checking for MPFR""... $ac_c" 1>&6
! echo "configure:2289: checking for MPFR" >&5
  
    saved_LIBS="$LIBS"
    LIBS="$LIBS $gmplibs"
    cat > conftest.$ac_ext <<EOF
! #line 2294 "configure"
  #include "confdefs.h"
  #include <gmp.h>
  #include <mpfr.h>
***************
*** 2295,2301 ****
  mpfr_t n; mpfr_init(n);
  ; return 0; }
  EOF
! if { (eval echo configure:2299: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
--- 2298,2304 ----
  mpfr_t n; mpfr_init(n);
  ; return 0; }
  EOF
! if { (eval echo configure:2302: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    echo "$ac_t""yes" 1>&6
  else
***************
*** 2782,2788 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2786: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_BISON'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2785,2791 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2789: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_BISON'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2817,2823 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2821: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_YACC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2820,2826 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2824: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_YACC'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2852,2858 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2856: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_M4'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2855,2861 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2859: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_M4'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2887,2893 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2891: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_FLEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2890,2896 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2894: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_FLEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2922,2928 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2926: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_LEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2925,2931 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2929: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_LEX'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 2957,2963 ****
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2961: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_MAKEINFO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 2960,2966 ----
  # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:2964: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_MAKEINFO'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3603,3609 ****
    # Extract the first word of "${ncn_tool_prefix}ar", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3607: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3606,3612 ----
    # Extract the first word of "${ncn_tool_prefix}ar", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3610: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3636,3642 ****
      # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3640: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3639,3645 ----
      # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3643: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3675,3681 ****
    # Extract the first word of "${ncn_tool_prefix}as", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3679: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3678,3684 ----
    # Extract the first word of "${ncn_tool_prefix}as", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3682: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3708,3714 ****
      # Extract the first word of "as", so it can be a program name with args.
  set dummy as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3712: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3711,3717 ----
      # Extract the first word of "as", so it can be a program name with args.
  set dummy as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3715: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3747,3753 ****
    # Extract the first word of "${ncn_tool_prefix}dlltool", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3751: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3750,3756 ----
    # Extract the first word of "${ncn_tool_prefix}dlltool", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3754: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3780,3786 ****
      # Extract the first word of "dlltool", so it can be a program name with args.
  set dummy dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3784: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3783,3789 ----
      # Extract the first word of "dlltool", so it can be a program name with args.
  set dummy dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3787: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3819,3825 ****
    # Extract the first word of "${ncn_tool_prefix}ld", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3823: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3822,3828 ----
    # Extract the first word of "${ncn_tool_prefix}ld", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3826: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3852,3858 ****
      # Extract the first word of "ld", so it can be a program name with args.
  set dummy ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3856: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3855,3861 ----
      # Extract the first word of "ld", so it can be a program name with args.
  set dummy ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3859: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3891,3897 ****
    # Extract the first word of "${ncn_tool_prefix}nm", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3895: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3894,3900 ----
    # Extract the first word of "${ncn_tool_prefix}nm", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3898: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3924,3930 ****
      # Extract the first word of "nm", so it can be a program name with args.
  set dummy nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3928: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3927,3933 ----
      # Extract the first word of "nm", so it can be a program name with args.
  set dummy nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3931: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3963,3969 ****
    # Extract the first word of "${ncn_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3967: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3966,3972 ----
    # Extract the first word of "${ncn_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:3970: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3996,4002 ****
      # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4000: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3999,4005 ----
      # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4003: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4035,4041 ****
    # Extract the first word of "${ncn_tool_prefix}windres", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4039: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4038,4044 ----
    # Extract the first word of "${ncn_tool_prefix}windres", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4042: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4068,4074 ****
      # Extract the first word of "windres", so it can be a program name with args.
  set dummy windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4072: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4071,4077 ----
      # Extract the first word of "windres", so it can be a program name with args.
  set dummy windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4075: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4107,4113 ****
    # Extract the first word of "${ncn_tool_prefix}objcopy", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}objcopy; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4111: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4110,4116 ----
    # Extract the first word of "${ncn_tool_prefix}objcopy", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}objcopy; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4114: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4140,4146 ****
      # Extract the first word of "objcopy", so it can be a program name with args.
  set dummy objcopy; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4144: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4143,4149 ----
      # Extract the first word of "objcopy", so it can be a program name with args.
  set dummy objcopy; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4147: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4179,4185 ****
    # Extract the first word of "${ncn_tool_prefix}objdump", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}objdump; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4183: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4182,4188 ----
    # Extract the first word of "${ncn_tool_prefix}objdump", so it can be a program name with args.
  set dummy ${ncn_tool_prefix}objdump; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4186: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4212,4218 ****
      # Extract the first word of "objdump", so it can be a program name with args.
  set dummy objdump; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4216: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4215,4221 ----
      # Extract the first word of "objdump", so it can be a program name with args.
  set dummy objdump; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4219: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4258,4264 ****
    # Extract the first word of "${ncn_target_tool_prefix}ar", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4262: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4261,4267 ----
    # Extract the first word of "${ncn_target_tool_prefix}ar", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4265: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4291,4297 ****
      # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4295: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4294,4300 ----
      # Extract the first word of "ar", so it can be a program name with args.
  set dummy ar; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4298: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4330,4336 ****
    # Extract the first word of "${ncn_target_tool_prefix}as", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4334: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4333,4339 ----
    # Extract the first word of "${ncn_target_tool_prefix}as", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4337: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4363,4369 ****
      # Extract the first word of "as", so it can be a program name with args.
  set dummy as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4367: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4366,4372 ----
      # Extract the first word of "as", so it can be a program name with args.
  set dummy as; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4370: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4402,4408 ****
    # Extract the first word of "${ncn_target_tool_prefix}dlltool", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4406: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4405,4411 ----
    # Extract the first word of "${ncn_target_tool_prefix}dlltool", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4409: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4435,4441 ****
      # Extract the first word of "dlltool", so it can be a program name with args.
  set dummy dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4439: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4438,4444 ----
      # Extract the first word of "dlltool", so it can be a program name with args.
  set dummy dlltool; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4442: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4474,4480 ****
    # Extract the first word of "${ncn_target_tool_prefix}ld", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4478: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4477,4483 ----
    # Extract the first word of "${ncn_target_tool_prefix}ld", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4481: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4507,4513 ****
      # Extract the first word of "ld", so it can be a program name with args.
  set dummy ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4511: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4510,4516 ----
      # Extract the first word of "ld", so it can be a program name with args.
  set dummy ld; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4514: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4546,4552 ****
    # Extract the first word of "${ncn_target_tool_prefix}nm", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4550: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4549,4555 ----
    # Extract the first word of "${ncn_target_tool_prefix}nm", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4553: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4579,4585 ****
      # Extract the first word of "nm", so it can be a program name with args.
  set dummy nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4583: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4582,4588 ----
      # Extract the first word of "nm", so it can be a program name with args.
  set dummy nm; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4586: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4618,4624 ****
    # Extract the first word of "${ncn_target_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4622: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4621,4627 ----
    # Extract the first word of "${ncn_target_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4625: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4651,4657 ****
      # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4655: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4654,4660 ----
      # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4658: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4690,4696 ****
    # Extract the first word of "${ncn_target_tool_prefix}windres", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4694: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4693,4699 ----
    # Extract the first word of "${ncn_target_tool_prefix}windres", so it can be a program name with args.
  set dummy ${ncn_target_tool_prefix}windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4697: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4723,4729 ****
      # Extract the first word of "windres", so it can be a program name with args.
  set dummy windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4727: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4726,4732 ----
      # Extract the first word of "windres", so it can be a program name with args.
  set dummy windres; ac_word=$2
  echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
! echo "configure:4730: checking for $ac_word" >&5
  if eval "test \"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4778,4784 ****
    # tools are built into a structure paralleling where they're installed,
    # should also eliminate all of this cleanly.
    AR_FOR_TARGET="\$(USUAL_AR_FOR_TARGET)"
!   AS_FOR_TARGET="\$(USUAL_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(USUAL_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(USUAL_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(USUAL_NM_FOR_TARGET)"
--- 4781,4787 ----
    # tools are built into a structure paralleling where they're installed,
    # should also eliminate all of this cleanly.
    AR_FOR_TARGET="\$(USUAL_AR_FOR_TARGET)"
!   GAS_FOR_TARGET="\$(USUAL_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(USUAL_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(USUAL_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(USUAL_NM_FOR_TARGET)"
***************
*** 4787,4793 ****
  else
    # Just use the ones we found.
    AR_FOR_TARGET="\$(CONFIGURED_AR_FOR_TARGET)"
!   AS_FOR_TARGET="\$(CONFIGURED_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(CONFIGURED_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(CONFIGURED_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(CONFIGURED_NM_FOR_TARGET)"
--- 4790,4796 ----
  else
    # Just use the ones we found.
    AR_FOR_TARGET="\$(CONFIGURED_AR_FOR_TARGET)"
!   GAS_FOR_TARGET="\$(CONFIGURED_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(CONFIGURED_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(CONFIGURED_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(CONFIGURED_NM_FOR_TARGET)"
***************
*** 4808,4814 ****
  NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}
  
  echo $ac_n "checking whether to enable maintainer-specific portions of Makefiles""... $ac_c" 1>&6
! echo "configure:4812: checking whether to enable maintainer-specific portions of Makefiles" >&5
  # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.
  if test "${enable_maintainer_mode+set}" = set; then
    enableval="$enable_maintainer_mode"
--- 4811,4817 ----
  NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}
  
  echo $ac_n "checking whether to enable maintainer-specific portions of Makefiles""... $ac_c" 1>&6
! echo "configure:4815: checking whether to enable maintainer-specific portions of Makefiles" >&5
  # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.
  if test "${enable_maintainer_mode+set}" = set; then
    enableval="$enable_maintainer_mode"
***************
*** 4855,4861 ****
  # gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not
  # possible, however, we can resort to mv.
  echo $ac_n "checking if symbolic links between directories work""... $ac_c" 1>&6
! echo "configure:4859: checking if symbolic links between directories work" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4858,4864 ----
  # gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not
  # possible, however, we can resort to mv.
  echo $ac_n "checking if symbolic links between directories work""... $ac_c" 1>&6
! echo "configure:4862: checking if symbolic links between directories work" >&5
  if eval "test \"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4989,5003 ****
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! cat > conftest.defs <<\EOF
! s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
! s%[ 	`~#$^&*(){}\\|;'"<>?]%\\&%g
! s%\[%\\&%g
! s%\]%\\&%g
! s%\$%$$%g
! EOF
! DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
! rm -f conftest.defs
  
  
  # Without the "./", some shells look in PATH for config.status.
--- 4992,5025 ----
  # Transform confdefs.h into DEFS.
  # Protect against shell expansion while executing Makefile rules.
  # Protect against Makefile macro expansion.
! #
! # If the first sed substitution is executed (which looks for macros that
! # take arguments), then we branch to the quote section.  Otherwise,
! # look for a macro that doesn't take arguments.
! cat >confdef2opt.sed <<\_ACEOF
! t clear
! : clear
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
! t quote
! d
! : quote
! s,[ 	`~#$^&*(){}\\|;'"<>?],\\&,g
! s,\[,\\&,g
! s,\],\\&,g
! s,\$,$$,g
! p
! _ACEOF
! # We use echo to avoid assuming a particular line-breaking character.
! # The extra dot is to prevent the shell from consuming trailing
! # line-breaks from the sub-command output.  A line-break within
! # single-quotes doesn't work because, if this script is created in a
! # platform that uses two characters for line-breaks (e.g., DOS), tr
! # would break.
! ac_LF_and_DOT=`echo; echo .`
! DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr "$ac_LF_and_DOT" ' .'`
! rm -f confdef2opt.sed
  
  
  # Without the "./", some shells look in PATH for config.status.
***************
*** 5180,5186 ****
  s%@CXX_FOR_TARGET_FOR_RECURSIVE_MAKE@%$CXX_FOR_TARGET_FOR_RECURSIVE_MAKE%g
  s%@RAW_CXX_FOR_TARGET_FOR_RECURSIVE_MAKE@%$RAW_CXX_FOR_TARGET_FOR_RECURSIVE_MAKE%g
  s%@AR_FOR_TARGET@%$AR_FOR_TARGET%g
! s%@AS_FOR_TARGET@%$AS_FOR_TARGET%g
  s%@DLLTOOL_FOR_TARGET@%$DLLTOOL_FOR_TARGET%g
  s%@LD_FOR_TARGET@%$LD_FOR_TARGET%g
  s%@NM_FOR_TARGET@%$NM_FOR_TARGET%g
--- 5202,5208 ----
  s%@CXX_FOR_TARGET_FOR_RECURSIVE_MAKE@%$CXX_FOR_TARGET_FOR_RECURSIVE_MAKE%g
  s%@RAW_CXX_FOR_TARGET_FOR_RECURSIVE_MAKE@%$RAW_CXX_FOR_TARGET_FOR_RECURSIVE_MAKE%g
  s%@AR_FOR_TARGET@%$AR_FOR_TARGET%g
! s%@GAS_FOR_TARGET@%$GAS_FOR_TARGET%g
  s%@DLLTOOL_FOR_TARGET@%$DLLTOOL_FOR_TARGET%g
  s%@LD_FOR_TARGET@%$LD_FOR_TARGET%g
  s%@NM_FOR_TARGET@%$NM_FOR_TARGET%g
diff -crN binutils-2.16.1.org/configure.in binutils-2.16.1/configure.in
*** binutils-2.16.1.org/configure.in	Mon Jun 13 04:33:06 2005
--- binutils-2.16.1/configure.in	Wed May 10 09:39:51 2006
***************
*** 416,421 ****
--- 416,424 ----
    *-*-rtems*)
      noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
      ;;
+   *-*-es*)
+     noconfigdirs="$noconfigdirs ${libgcj}"
+     ;;
    *-*-uclinux*)
      noconfigdirs="$noconfigdirs target-newlib target-libgloss target-rda ${libgcj}"
      ;;
***************
*** 2204,2210 ****
    # tools are built into a structure paralleling where they're installed,
    # should also eliminate all of this cleanly.
    AR_FOR_TARGET="\$(USUAL_AR_FOR_TARGET)"
!   AS_FOR_TARGET="\$(USUAL_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(USUAL_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(USUAL_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(USUAL_NM_FOR_TARGET)"
--- 2207,2213 ----
    # tools are built into a structure paralleling where they're installed,
    # should also eliminate all of this cleanly.
    AR_FOR_TARGET="\$(USUAL_AR_FOR_TARGET)"
!   GAS_FOR_TARGET="\$(USUAL_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(USUAL_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(USUAL_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(USUAL_NM_FOR_TARGET)"
***************
*** 2213,2219 ****
  else
    # Just use the ones we found.
    AR_FOR_TARGET="\$(CONFIGURED_AR_FOR_TARGET)"
!   AS_FOR_TARGET="\$(CONFIGURED_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(CONFIGURED_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(CONFIGURED_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(CONFIGURED_NM_FOR_TARGET)"
--- 2216,2222 ----
  else
    # Just use the ones we found.
    AR_FOR_TARGET="\$(CONFIGURED_AR_FOR_TARGET)"
!   GAS_FOR_TARGET="\$(CONFIGURED_AS_FOR_TARGET)"
    DLLTOOL_FOR_TARGET="\$(CONFIGURED_DLLTOOL_FOR_TARGET)"
    LD_FOR_TARGET="\$(CONFIGURED_LD_FOR_TARGET)"
    NM_FOR_TARGET="\$(CONFIGURED_NM_FOR_TARGET)"
***************
*** 2221,2227 ****
    WINDRES_FOR_TARGET="\$(CONFIGURED_WINDRES_FOR_TARGET)"  
  fi
  AC_SUBST(AR_FOR_TARGET)
! AC_SUBST(AS_FOR_TARGET)
  AC_SUBST(DLLTOOL_FOR_TARGET)
  AC_SUBST(LD_FOR_TARGET)
  AC_SUBST(NM_FOR_TARGET)
--- 2224,2230 ----
    WINDRES_FOR_TARGET="\$(CONFIGURED_WINDRES_FOR_TARGET)"  
  fi
  AC_SUBST(AR_FOR_TARGET)
! AC_SUBST(GAS_FOR_TARGET)
  AC_SUBST(DLLTOOL_FOR_TARGET)
  AC_SUBST(LD_FOR_TARGET)
  AC_SUBST(NM_FOR_TARGET)
diff -crN binutils-2.16.1.org/gas/configure.tgt binutils-2.16.1/gas/configure.tgt
*** binutils-2.16.1.org/gas/configure.tgt	Tue Feb  1 02:18:51 2005
--- binutils-2.16.1/gas/configure.tgt	Wed May 10 09:39:51 2006
***************
*** 213,218 ****
--- 213,219 ----
    i386-*-rtemself*)			fmt=elf ;;
    i386-*-rtemscoff*)			fmt=coff ;;
    i386-*-rtems*)			fmt=elf ;;
+   i386-*-es*)				fmt=elf ;;
    i386-*-gnu*)				fmt=elf ;;
    i386-*-mach*)				fmt=aout em=mach ;;
    i386-*-msdos*)			fmt=aout ;;
diff -crN binutils-2.16.1.org/ld/configure.tgt binutils-2.16.1/ld/configure.tgt
*** binutils-2.16.1.org/ld/configure.tgt	Wed Feb  9 04:54:27 2005
--- binutils-2.16.1/ld/configure.tgt	Wed May 10 09:39:51 2006
***************
*** 145,150 ****
--- 145,151 ----
  i[3-7]86-*-rtemscoff*)	targ_emul=i386coff ;;
  i[3-7]86-*-rtemself*)	targ_emul=elf_i386 ;;
  i[3-7]86-*-rtems*)	targ_emul=elf_i386 ;;
+ i[3-7]86-*-es*)		targ_emul=elf_i386 ;;
  i[3-7]86-*-aros*)	targ_emul=elf_i386 ;;
  i[3-7]86-*-bsd)		targ_emul=i386bsd ;;
  i[3-7]86-*-bsd386)	targ_emul=i386bsd ;;
